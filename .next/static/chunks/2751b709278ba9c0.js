(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56909,e=>{"use strict";let r=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>r],56909)},7233,e=>{"use strict";let r=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},27612,e=>{"use strict";let r=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>r],27612)},50386,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(18566),t=e.i(56909),i=e.i(27612),n=e.i(37727),o=e.i(7233);function l({service:e,isNew:l=!1}){let c=(0,a.useRouter)(),[d,u]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[m,g]=(0,s.useState)(""),[x,b]=(0,s.useState)({name:e?.name||"",slug:e?.slug||"",short_description:e?.short_description||"",description:e?.description||"",price:e?.price?(e.price/100).toString():"",price_type:e?.price_type||"fixed",duration:e?.duration||"",icon:e?.icon||"",features:e?.features||[],category:e?.category||"",is_featured:e?.is_featured||!1,is_active:e?.is_active!==!1,seo_title:e?.seo_title||"",seo_description:e?.seo_description||""}),[f,y]=(0,s.useState)("");function v(){f.trim()&&(b(e=>({...e,features:[...e.features,f.trim()]})),y(""))}async function j(r){r.preventDefault(),g(""),u(!0);try{let r=localStorage.getItem("admin_token"),s=l?"/api/admin/services":"/api/admin/services/"+e?.id,a={...x,price:x.price?Math.round(100*parseFloat(x.price)):null},t=await fetch(s,{method:l?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(a)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to save service")}c.push("/admin/services"),c.refresh()}catch(e){g(e instanceof Error?e.message:"Failed to save service")}finally{u(!1)}}async function N(){if(confirm("Are you sure you want to delete this service?")){h(!0);try{let r=localStorage.getItem("admin_token");if(!(await fetch("/api/admin/services/"+e?.id,{method:"DELETE",headers:{Authorization:"Bearer "+r}})).ok)throw Error("Failed to delete service");c.push("/admin/services"),c.refresh()}catch(e){g(e instanceof Error?e.message:"Failed to delete service"),h(!1)}}}return(0,r.jsxs)("form",{onSubmit:j,className:"space-y-8",children:[m&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:m}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),(0,r.jsx)("input",{type:"text",value:x.name,onChange:e=>{var r;return r=e.target.value,void b(e=>({...e,name:r,slug:l?r.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim():e.slug}))},className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"e.g., Roof Repair",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Slug"}),(0,r.jsx)("input",{type:"text",value:x.slug,onChange:e=>b(r=>({...r,slug:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"roof-repair"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description"}),(0,r.jsx)("input",{type:"text",value:x.short_description,onChange:e=>b(r=>({...r,short_description:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Brief description for cards and listings"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Description"}),(0,r.jsx)("textarea",{value:x.description,onChange:e=>b(r=>({...r,description:e.target.value})),rows:5,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Detailed description of the service"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Pricing"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Type"}),(0,r.jsxs)("select",{value:x.price_type,onChange:e=>b(r=>({...r,price_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",children:[(0,r.jsx)("option",{value:"fixed",children:"Fixed Price"}),(0,r.jsx)("option",{value:"starting_at",children:"Starting At"}),(0,r.jsx)("option",{value:"hourly",children:"Hourly Rate"}),(0,r.jsx)("option",{value:"custom",children:"Contact for Pricing"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (USD)"}),(0,r.jsx)("input",{type:"number",step:"0.01",min:"0",value:x.price,onChange:e=>b(r=>({...r,price:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"0.00",disabled:"custom"===x.price_type})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),(0,r.jsx)("input",{type:"text",value:x.duration,onChange:e=>b(r=>({...r,duration:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"e.g., 2-4 hours"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Features"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:f,onChange:e=>y(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),v()),className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Add a feature..."}),(0,r.jsx)("button",{type:"button",onClick:v,className:"px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:(0,r.jsx)(o.Plus,{className:"w-5 h-5"})})]}),x.features.length>0&&(0,r.jsx)("ul",{className:"space-y-2",children:x.features.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-center justify-between bg-gray-50 px-4 py-2 rounded-lg",children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("button",{type:"button",onClick:()=>{b(e=>({...e,features:e.features.filter((e,r)=>r!==s)}))},className:"text-gray-400 hover:text-red-500",children:(0,r.jsx)(n.X,{className:"w-4 h-4"})})]},s))})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Status"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-6",children:[(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:x.is_active,onChange:e=>b(r=>({...r,is_active:e.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,r.jsx)("span",{className:"text-gray-700",children:"Active (visible on site)"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:x.is_featured,onChange:e=>b(r=>({...r,is_featured:e.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,r.jsx)("span",{className:"text-gray-700",children:"Featured"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{children:!l&&(0,r.jsxs)("button",{type:"button",onClick:N,disabled:p,className:"flex items-center gap-2 text-red-600 hover:text-red-700 font-medium",children:[(0,r.jsx)(i.Trash2,{className:"w-5 h-5"}),p?"Deleting...":"Delete Service"]})}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>c.back(),className:"px-6 py-3 text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",disabled:d,className:"flex items-center gap-2 bg-brand text-gray-900 font-semibold px-6 py-3 rounded-lg hover:bg-brand-dark disabled:opacity-50 transition-colors",children:[(0,r.jsx)(t.Save,{className:"w-5 h-5"}),d?"Saving...":l?"Create Service":"Save Changes"]})]})]})]})}e.s(["ServiceForm",()=>l])}]);