(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,497140,e=>{"use strict";let t=(0,e.i(475254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["default",()=>t])},778917,546467,e=>{"use strict";let t=(0,e.i(475254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["default",()=>t],546467),e.s(["ExternalLink",()=>t],778917)},870273,e=>{"use strict";var t=e.i(497140);e.s(["Star",()=>t.default])},531278,717521,e=>{"use strict";let t=(0,e.i(475254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>t],717521),e.s(["Loader2",()=>t],531278)},727612,612329,e=>{"use strict";let t=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>t],612329),e.s(["Trash2",()=>t],727612)},107233,603908,738125,750570,e=>{"use strict";var t=e.i(475254);let a=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["default",()=>a],603908),e.s(["Plus",()=>a],107233);let l=(0,t.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);e.s(["default",()=>l],738125),e.s(["GripVertical",()=>l],750570)},823429,e=>{"use strict";let t=(0,e.i(475254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["default",()=>t])},187942,e=>{"use strict";let t=(0,e.i(475254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["default",()=>t])},211749,e=>{"use strict";let t=(0,e.i(475254).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["default",()=>t])},803408,113625,e=>{"use strict";var t=e.i(475254);let a=(0,t.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",()=>a],803408);let l=(0,t.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["default",()=>l],113625)},361277,e=>{"use strict";let t=(0,e.i(475254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",()=>t])},126630,e=>{"use strict";var t=e.i(843476),a=e.i(271645),l=e.i(37727),r=e.i(531278),s=e.i(750570),i=e.i(107233),n=e.i(803408),n=n;function o({images:e,onChange:o,maxImages:c=10,label:d="Images",helpText:u}){let[m,g]=(0,a.useState)(!1),[h,x]=(0,a.useState)(""),[f,p]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),[v,j]=(0,a.useState)(null),N=(0,a.useRef)(null),w=(0,a.useCallback)(async t=>{if(!["image/jpeg","image/png","image/webp","image/gif"].includes(t.type))return void x("Please upload a JPG, PNG, WebP, or GIF image.");if(t.size>5242880)return void x("Image must be less than 5MB.");if(e.length>=c)return void x(`Maximum ${c} images allowed.`);g(!0),x("");try{let a=localStorage.getItem("admin_token"),l=new FormData;l.append("file",t);let r=await fetch("/api/admin/upload",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:l});if(!r.ok){let e=await r.json();throw Error(e.error||"Upload failed")}let{url:s}=await r.json(),i={url:s,alt:"",caption:"",position:e.length};o([...e,i])}catch(e){x(e instanceof Error?e.message:"Upload failed")}finally{g(!1)}},[e,c,o]),k=(0,a.useCallback)(async t=>{let a=c-e.length;for(let e of Array.from(t).slice(0,a))await w(e)},[w,e.length,c]),_=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),p(!0)},[]),C=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),p(!1)},[]),S=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),p(!1);let t=e.dataTransfer.files;if(t.length>0){let e=Array.from(t).filter(e=>e.type.startsWith("image/"));if(e.length>0){let t=new DataTransfer;e.forEach(e=>t.items.add(e)),k(t.files)}else x("Please drop image files.")}},[k]),M=(0,a.useCallback)(e=>{let t=e.target.files;t&&t.length>0&&k(t),N.current&&(N.current.value="")},[k]),P=(0,a.useCallback)(t=>{o(e.filter((e,a)=>a!==t).map((e,t)=>({...e,position:t}))),x("")},[e,o]),A=(0,a.useCallback)((e,t)=>{e.dataTransfer.effectAllowed="move",y(t)},[]),D=(0,a.useCallback)((e,t)=>{e.preventDefault(),null!==b&&b!==t&&j(t)},[b]),T=(0,a.useCallback)(()=>{if(null!==b&&null!==v&&b!==v){let t=[...e],[a]=t.splice(b,1);t.splice(v,0,a),o(t.map((e,t)=>({...e,position:t})))}y(null),j(null)},[b,v,e,o]),E=(0,a.useCallback)((t,a,l)=>{o(e.map((e,r)=>r===t?{...e,[a]:l}:e))},[e,o]),L=e.length<c;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:d}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[e.length,"/",c]})]}),u&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:u}),e.length>0&&(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-4",children:[e.map((e,a)=>(0,t.jsxs)("div",{draggable:!0,onDragStart:e=>A(e,a),onDragOver:e=>D(e,a),onDragEnd:T,className:`relative group bg-gray-50 rounded-lg overflow-hidden border-2 transition-all ${b===a?"opacity-50 border-brand":v===a?"border-brand border-dashed":"border-transparent hover:border-gray-300"}`,children:[(0,t.jsx)("div",{className:"aspect-square",children:(0,t.jsx)("img",{src:e.url,alt:e.alt||`Image ${a+1}`,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 text-white cursor-grab active:cursor-grabbing",children:(0,t.jsx)(s.GripVertical,{className:"w-5 h-5"})}),(0,t.jsx)("div",{className:"absolute top-2 right-10 bg-white/90 text-gray-900 text-xs font-semibold px-2 py-0.5 rounded",children:a+1}),(0,t.jsx)("button",{type:"button",onClick:()=>P(a),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors",title:"Remove image",children:(0,t.jsx)(l.X,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"p-2 bg-white",children:(0,t.jsx)("input",{type:"text",value:e.alt||"",onChange:e=>E(a,"alt",e.target.value),placeholder:"Alt text...",className:"w-full text-xs px-2 py-1 border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-brand"})})]},e.url+a)),L&&(0,t.jsx)("button",{type:"button",onClick:()=>N.current?.click(),disabled:m,className:"aspect-square flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg hover:border-brand hover:bg-brand/5 transition-colors disabled:opacity-50 disabled:pointer-events-none",children:m?(0,t.jsx)(r.Loader2,{className:"w-6 h-6 text-brand animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Plus,{className:"w-6 h-6 text-gray-400"}),(0,t.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"Add"})]})})]}),0===e.length&&(0,t.jsx)("div",{onDragOver:_,onDragLeave:C,onDrop:S,onClick:()=>N.current?.click(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${f?"border-brand bg-brand/5":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${m?"pointer-events-none opacity-60":""}`,children:m?(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(r.Loader2,{className:"w-8 h-8 text-brand animate-spin mb-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Uploading..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.default,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Drag and drop images, or click to select"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"JPG, PNG, WebP or GIF (max 5MB each)"}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-0.5",children:["Up to ",c," images"]})]})}),(0,t.jsx)("input",{ref:N,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",multiple:!0,onChange:M,className:"hidden"}),h&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-2",children:h}),e.length>1&&(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Drag images to reorder. First image is the main thumbnail."})]})}e.s(["MultiImageUpload",()=>o],126630)},883813,24291,e=>{"use strict";var t=e.i(843476),a=e.i(271645);function l({beforeImage:e,afterImage:l,beforeLabel:r="Before",afterLabel:s="After",className:i=""}){let[n,o]=(0,a.useState)(50),[c,d]=(0,a.useState)(!1),u=(0,a.useRef)(null),m=(0,a.useCallback)(e=>{if(!u.current)return;let t=u.current.getBoundingClientRect();o(Math.min(100,Math.max(0,(e-t.left)/t.width*100)))},[]),g=(0,a.useCallback)(e=>{e.preventDefault(),d(!0)},[]),h=(0,a.useCallback)(e=>{c&&m(e.clientX)},[c,m]),x=(0,a.useCallback)(()=>{d(!1)},[]),f=(0,a.useCallback)(e=>{d(!0),m(e.touches[0].clientX)},[m]),p=(0,a.useCallback)(e=>{c&&m(e.touches[0].clientX)},[c,m]),b=(0,a.useCallback)(()=>{d(!1)},[]),y=(0,a.useCallback)(e=>{m(e.clientX)},[m]),v=(0,a.useCallback)(e=>{"ArrowLeft"===e.key?(e.preventDefault(),o(e=>Math.max(0,e-5))):"ArrowRight"===e.key&&(e.preventDefault(),o(e=>Math.min(100,e+5)))},[]);return(0,a.useEffect)(()=>(c&&(document.addEventListener("mousemove",h),document.addEventListener("mouseup",x)),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",x)}),[c,h,x]),(0,t.jsxs)("div",{ref:u,className:`relative w-full overflow-hidden select-none rounded-lg ${i}`,onClick:y,onTouchStart:f,onTouchMove:p,onTouchEnd:b,onKeyDown:v,tabIndex:0,role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(n),"aria-label":"Before and after image comparison",style:{aspectRatio:"16 / 10"},children:[(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("img",{src:l,alt:s,className:"w-full h-full object-cover",draggable:!1}),(0,t.jsx)("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white px-3 py-1.5 rounded-full text-sm font-medium",children:s})]}),(0,t.jsxs)("div",{className:"absolute inset-0 overflow-hidden",style:{width:`${n}%`},children:[(0,t.jsx)("img",{src:e,alt:r,className:"absolute inset-0 w-full h-full object-cover",style:{width:u.current?`${u.current.offsetWidth}px`:"100%"},draggable:!1}),(0,t.jsx)("div",{className:"absolute bottom-4 left-4 bg-black/70 text-white px-3 py-1.5 rounded-full text-sm font-medium",children:r})]}),(0,t.jsx)("div",{className:"absolute top-0 bottom-0 w-1 bg-white shadow-lg cursor-ew-resize z-10",style:{left:`${n}%`,transform:"translateX(-50%)"},onMouseDown:g,children:(0,t.jsx)("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center cursor-ew-resize transition-transform ${c?"scale-110":"hover:scale-105"}`,children:(0,t.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4M8 15l4 4 4-4",transform:"rotate(90 12 12)"})})})}),(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none rounded-lg ring-2 ring-brand ring-offset-2 ring-opacity-0 focus-within:ring-opacity-100 transition-opacity"})]})}e.s(["BeforeAfterSlider",()=>l],883813),e.s(["portfolioCategories",0,[{value:"residential",label:"Residential"},{value:"commercial",label:"Commercial"},{value:"renovation",label:"Renovation"},{value:"new-construction",label:"New Construction"},{value:"repair",label:"Repair"},{value:"maintenance",label:"Maintenance"},{value:"transformation",label:"Transformation"},{value:"styling",label:"Styling"},{value:"web-design",label:"Web Design"},{value:"web-development",label:"Web Development"},{value:"branding",label:"Branding"},{value:"photography",label:"Photography"},{value:"other",label:"Other"}]],24291)},286654,e=>{"use strict";var t=e.i(843476),a=e.i(271645),l=e.i(107233),r=e.i(823429),r=r,s=e.i(727612),i=e.i(870273),n=e.i(187942),n=n,o=e.i(211749),o=o,c=e.i(37727),d=e.i(778917),u=e.i(803408),u=u,m=e.i(113625),m=m,g=e.i(361277),g=g,h=e.i(126630),x=e.i(883813),f=e.i(24291);let p={title:"",description:"",client_name:"",service_id:"",category:"",images:[],before_image_url:"",after_image_url:"",external_url:"",project_date:"",results:"",tags:"",is_featured:!1,is_active:!0,testimonial_quote:"",testimonial_author:"",testimonial_role:"",testimonial_rating:5};function b(){let[e,b]=(0,a.useState)([]),[y,v]=(0,a.useState)([]),[j,N]=(0,a.useState)(!0),[w,k]=(0,a.useState)(!1),[_,C]=(0,a.useState)(null),[S,M]=(0,a.useState)(p),[P,A]=(0,a.useState)(!1),[D,T]=(0,a.useState)(!1);async function E(){try{let e=localStorage.getItem("admin_token"),[t,a]=await Promise.all([fetch("/api/admin/portfolio",{headers:{Authorization:`Bearer ${e}`}}),fetch("/api/admin/services",{headers:{Authorization:`Bearer ${e}`}})]);if(t.ok){let e=await t.json();b(e)}if(a.ok){let e=await a.json();v(e)}}catch(e){console.error("Error fetching data:",e)}finally{N(!1)}}function L(){C(null),M(p),k(!0)}async function I(){if(S.title.trim()){A(!0);try{let e=localStorage.getItem("admin_token"),t=S.testimonial_quote.trim()?{quote:S.testimonial_quote,author:S.testimonial_author||"Anonymous",role:S.testimonial_role||void 0,rating:S.testimonial_rating||void 0}:null,a={title:S.title,description:S.description||null,client_name:S.client_name||null,service_id:S.service_id||null,category:S.category||null,images:S.images,before_image_url:S.before_image_url||null,after_image_url:S.after_image_url||null,external_url:S.external_url||null,project_date:S.project_date||null,results:S.results||null,tags:S.tags.split(",").map(e=>e.trim()).filter(Boolean),is_featured:S.is_featured,is_active:S.is_active,testimonial:t},l=_?`/api/admin/portfolio/${_.id}`:"/api/admin/portfolio",r=_?"PUT":"POST";(await fetch(l,{method:r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(a)})).ok&&(k(!1),E())}catch(e){console.error("Error saving portfolio item:",e)}finally{A(!1)}}}async function B(e){if(confirm("Are you sure you want to delete this portfolio item?"))try{let t=localStorage.getItem("admin_token");(await fetch(`/api/admin/portfolio/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok&&E()}catch(e){console.error("Error deleting portfolio item:",e)}}async function $(e){try{let t=localStorage.getItem("admin_token");await fetch(`/api/admin/portfolio/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({is_active:!e.is_active})}),E()}catch(e){console.error("Error toggling active:",e)}}async function z(e){try{let t=localStorage.getItem("admin_token");await fetch(`/api/admin/portfolio/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({is_featured:!e.is_featured})}),E()}catch(e){console.error("Error toggling featured:",e)}}return(0,a.useEffect)(()=>{E()},[]),j?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Loading portfolio..."})}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Portfolio"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Showcase your work with project galleries and before/after comparisons"})]}),(0,t.jsxs)("button",{onClick:L,className:"flex items-center gap-2 bg-brand text-gray-900 font-semibold px-4 py-2 rounded-lg hover:bg-brand-dark transition-colors",children:[(0,t.jsx)(l.Plus,{className:"w-5 h-5"}),"Add Project"]})]}),0===e.length?(0,t.jsxs)("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-100",children:[(0,t.jsx)(m.default,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No portfolio items yet"}),(0,t.jsxs)("button",{onClick:L,className:"inline-flex items-center gap-2 bg-brand text-gray-900 font-semibold px-6 py-3 rounded-lg hover:bg-brand-dark transition-colors",children:[(0,t.jsx)(l.Plus,{className:"w-5 h-5"}),"Create Your First Project"]})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"aspect-video bg-gray-100 relative",children:[e.images?.[0]?.url?(0,t.jsx)("img",{src:e.images[0].url,alt:e.title,className:"w-full h-full object-cover"}):e.before_image_url&&e.after_image_url?(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-sm text-gray-500",children:"Before/After Available"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)(u.default,{className:"w-12 h-12 text-gray-300"})}),(0,t.jsxs)("div",{className:"absolute top-2 left-2 flex gap-2",children:[e.is_featured&&(0,t.jsx)("span",{className:"bg-yellow-500 text-white text-xs font-medium px-2 py-1 rounded",children:"Featured"}),!e.is_active&&(0,t.jsx)("span",{className:"bg-gray-500 text-white text-xs font-medium px-2 py-1 rounded",children:"Hidden"})]})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:e.title}),e.client_name&&(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Client: ",e.client_name]}),e.service_name&&(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.service_name}),e.category&&(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1 capitalize",children:e.category}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-gray-100",children:[(0,t.jsx)("button",{onClick:()=>z(e),className:`p-2 rounded-lg ${e.is_featured?"text-yellow-600 bg-yellow-50":"text-gray-400 hover:bg-gray-100"}`,title:e.is_featured?"Remove from featured":"Mark as featured",children:(0,t.jsx)(i.Star,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>$(e),className:`p-2 rounded-lg ${e.is_active?"text-green-600 bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:e.is_active?"Hide from portfolio":"Show on portfolio",children:e.is_active?(0,t.jsx)(n.default,{className:"w-4 h-4"}):(0,t.jsx)(o.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{C(e),M({title:e.title||"",description:e.description||"",client_name:e.client_name||"",service_id:e.service_id||"",category:e.category||"",images:e.images||[],before_image_url:e.before_image_url||"",after_image_url:e.after_image_url||"",external_url:e.external_url||"",project_date:e.project_date?e.project_date.split("T")[0]:"",results:e.results||"",tags:(e.tags||[]).join(", "),is_featured:e.is_featured||!1,is_active:!1!==e.is_active,testimonial_quote:e.testimonial?.quote||"",testimonial_author:e.testimonial?.author||"",testimonial_role:e.testimonial?.role||"",testimonial_rating:e.testimonial?.rating||5}),k(!0)},className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100",title:"Edit",children:(0,t.jsx)(r.default,{className:"w-4 h-4"})}),e.external_url&&(0,t.jsx)("a",{href:e.external_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100",title:"View external link",children:(0,t.jsx)(d.ExternalLink,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>B(e.id),className:"p-2 rounded-lg text-red-600 hover:bg-red-50 ml-auto",title:"Delete",children:(0,t.jsx)(s.Trash2,{className:"w-4 h-4"})})]})]})]},e.id))}),w&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:_?"Edit Project":"New Project"}),(0,t.jsx)("button",{onClick:()=>k(!1),className:"p-2 rounded-lg text-gray-400 hover:bg-gray-100",children:(0,t.jsx)(c.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[(0,t.jsx)(m.default,{className:"w-4 h-4"}),"Basic Information"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title *"}),(0,t.jsx)("input",{type:"text",value:S.title,onChange:e=>M({...S,title:e.target.value}),placeholder:"e.g., Kitchen Renovation for Smith Family",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name"}),(0,t.jsx)("input",{type:"text",value:S.client_name,onChange:e=>M({...S,client_name:e.target.value}),placeholder:"e.g., John Smith",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Date"}),(0,t.jsx)("input",{type:"date",value:S.project_date,onChange:e=>M({...S,project_date:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Service"}),(0,t.jsxs)("select",{value:S.service_id,onChange:e=>M({...S,service_id:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,t.jsx)("option",{value:"",children:"None"}),y.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,t.jsxs)("select",{value:S.category,onChange:e=>M({...S,category:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,t.jsx)("option",{value:"",children:"None"}),f.portfolioCategories.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{value:S.description,onChange:e=>M({...S,description:e.target.value}),rows:3,placeholder:"Describe the project, challenges, and solutions...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Results / Outcomes"}),(0,t.jsx)("textarea",{value:S.results,onChange:e=>M({...S,results:e.target.value}),rows:2,placeholder:"e.g., Increased home value by 15%, Completed 2 weeks ahead of schedule...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:S.tags,onChange:e=>M({...S,tags:e.target.value}),placeholder:"e.g., renovation, residential, kitchen",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[(0,t.jsx)(u.default,{className:"w-4 h-4"}),"Project Images"]}),(0,t.jsx)(h.MultiImageUpload,{images:S.images,onChange:e=>M({...S,images:e}),maxImages:10,label:"Gallery Images"})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[(0,t.jsx)(m.default,{className:"w-4 h-4"}),"Before & After (Optional)"]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Add before and after images for an interactive comparison slider"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Before Image URL"}),(0,t.jsx)("input",{type:"url",value:S.before_image_url,onChange:e=>M({...S,before_image_url:e.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"After Image URL"}),(0,t.jsx)("input",{type:"url",value:S.after_image_url,onChange:e=>M({...S,after_image_url:e.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]})]}),S.before_image_url&&S.after_image_url&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("button",{onClick:()=>T(!D),className:"text-sm text-brand hover:underline mb-2",children:D?"Hide Preview":"Show Preview"}),D&&(0,t.jsx)(x.BeforeAfterSlider,{beforeImage:S.before_image_url,afterImage:S.after_image_url})]})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[(0,t.jsx)(d.ExternalLink,{className:"w-4 h-4"}),"External Link (Optional)"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo / Project URL"}),(0,t.jsx)("input",{type:"url",value:S.external_url,onChange:e=>M({...S,external_url:e.target.value}),placeholder:"https://example.com",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[(0,t.jsx)(i.Star,{className:"w-4 h-4"}),"Client Testimonial (Optional)"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quote"}),(0,t.jsx)("textarea",{value:S.testimonial_quote,onChange:e=>M({...S,testimonial_quote:e.target.value}),rows:2,placeholder:"What did the client say about the project?",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),S.testimonial_quote&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name"}),(0,t.jsx)("input",{type:"text",value:S.testimonial_author,onChange:e=>M({...S,testimonial_author:e.target.value}),placeholder:"Client name",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role/Title"}),(0,t.jsx)("input",{type:"text",value:S.testimonial_role,onChange:e=>M({...S,testimonial_role:e.target.value}),placeholder:"e.g., Homeowner",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),(0,t.jsxs)("select",{value:S.testimonial_rating,onChange:e=>M({...S,testimonial_rating:parseInt(e.target.value)}),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,t.jsx)("option",{value:5,children:"5 Stars"}),(0,t.jsx)("option",{value:4,children:"4 Stars"}),(0,t.jsx)("option",{value:3,children:"3 Stars"}),(0,t.jsx)("option",{value:2,children:"2 Stars"}),(0,t.jsx)("option",{value:1,children:"1 Star"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[(0,t.jsx)(g.default,{className:"w-4 h-4"}),"Visibility"]}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:S.is_active,onChange:e=>M({...S,is_active:e.target.checked}),className:"w-4 h-4 rounded text-brand focus:ring-brand"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Show on portfolio page"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:S.is_featured,onChange:e=>M({...S,is_featured:e.target.checked}),className:"w-4 h-4 rounded text-brand focus:ring-brand"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Featured project"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-100",children:[(0,t.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:I,disabled:P||!S.title.trim(),className:"px-6 py-2 bg-brand text-gray-900 font-semibold rounded-lg hover:bg-brand-dark disabled:opacity-50 transition-colors",children:P?"Saving...":_?"Update Project":"Create Project"})]})]})})]})}e.s(["default",()=>b],286654)}]);