(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,290571,e=>{"use strict";var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,r)};function r(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function n(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)0>t.indexOf(s[n])&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function a(e,t,r,s){var n,a=arguments.length,i=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(i=(a<3?n(i):a>3?n(t,r,i):n(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function i(e,t){return function(r,s){t(r,s,e)}}function o(e,t,r,s,n,a){function i(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var o,l=s.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?s.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h=!1,f=r.length-1;f>=0;f--){var g={};for(var p in s)g[p]="access"===p?{}:s[p];for(var p in s.access)g.access[p]=s.access[p];g.addInitializer=function(e){if(h)throw TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var m=(0,r[f])("accessor"===l?{get:d.get,set:d.set}:d[u],g);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(o=i(m.get))&&(d.get=o),(o=i(m.set))&&(d.set=o),(o=i(m.init))&&n.unshift(o)}else(o=i(m))&&("field"===l?n.unshift(o):d[u]=o)}c&&Object.defineProperty(c,s.name,d),h=!0}function l(e,t,r){for(var s=arguments.length>2,n=0;n<t.length;n++)r=s?t[n].call(e,r):t[n].call(e);return s?r:void 0}function u(e){return"symbol"==typeof e?e:"".concat(e)}function c(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,s){return new(r||(r=Promise))(function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((s=s.apply(e,t||[])).next())})}function f(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){var u=[o,l];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&u[0]?s.return:u[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,u[1])).done)return n;switch(s=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,s=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){a.label=u[1];break}if(6===u[0]&&a.label<n[1]){a.label=n[1],n=u;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(u);break}n[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],s=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}var g=Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]};function p(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var s,n,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function w(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var s=Array(e),n=0,t=0;t<r;t++)for(var a=arguments[t],i=0,o=a.length;i<o;i++,n++)s[n]=a[i];return s}function v(e,t,r){if(r||2==arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function x(e){return this instanceof x?(this.v=e,this):new x(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var s,n=r.apply(e,t||[]),a=[];return s=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),s[Symbol.asyncIterator]=function(){return this},s;function i(e,t){n[e]&&(s[e]=function(t){return new Promise(function(r,s){a.push([e,t,r,s])>1||o(e,t)})},t&&(s[e]=t(s[e])))}function o(e,t){try{var r;(r=n[e](t)).value instanceof x?Promise.resolve(r.value.v).then(l,u):c(a[0][2],r)}catch(e){c(a[0][3],e)}}function l(e){o("next",e)}function u(e){o("throw",e)}function c(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}function j(e){var t,r;return t={},s("next"),s("throw",function(e){throw e}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(s,n){t[s]=e[s]?function(t){return(r=!r)?{value:x(e[s](t)),done:!1}:n?n(t):t}:n}}function S(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=m(e),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(r){t[r]=e[r]&&function(t){return new Promise(function(s,n){var a,i,o;a=s,i=n,o=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){a({value:e,done:o})},i)})}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},N=function(e){return(N=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=N(e),s=0;s<r.length;s++)"default"!==r[s]&&g(t,e,r[s]);return E(t,e),t}function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t,r,s){if("a"===r&&!s)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)}function R(e,t,r,s,n){if("m"===s)throw TypeError("Private method is not writable");if("a"===s&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(e,r):n?n.value=r:t.set(e,r),r}function O(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function P(e,t,r){if(null!=t){var s,n;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(void 0===s){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],r&&(n=s)}if("function"!=typeof s)throw TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:s,async:r})}else r&&e.stack.push({async:!0});return t}var I="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var s=Error(r);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};function U(e){function t(t){e.error=e.hasError?new I(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,s=0;return function n(){for(;r=e.stack.pop();)try{if(!r.async&&1===s)return s=0,e.stack.push(r),Promise.resolve().then(n);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(a).then(n,function(e){return t(e),n()})}else s|=1}catch(e){t(e)}if(1===s)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function $(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,s,n,a){return r?t?".jsx":".js":!s||n&&a?s+n+"."+a.toLowerCase()+"js":e}):e}let B={__extends:r,__assign:s,__rest:n,__decorate:a,__param:i,__esDecorate:o,__runInitializers:l,__propKey:u,__setFunctionName:c,__metadata:d,__awaiter:h,__generator:f,__createBinding:g,__exportStar:p,__values:m,__read:y,__spread:b,__spreadArrays:w,__spreadArray:v,__await:x,__asyncGenerator:_,__asyncDelegator:j,__asyncValues:S,__makeTemplateObject:k,__importStar:T,__importDefault:A,__classPrivateFieldGet:C,__classPrivateFieldSet:R,__classPrivateFieldIn:O,__addDisposableResource:P,__disposeResources:U,__rewriteRelativeImportExtension:$};e.s(["__addDisposableResource",()=>P,"__assign",()=>s,"__asyncDelegator",()=>j,"__asyncGenerator",()=>_,"__asyncValues",()=>S,"__await",()=>x,"__awaiter",()=>h,"__classPrivateFieldGet",()=>C,"__classPrivateFieldIn",()=>O,"__classPrivateFieldSet",()=>R,"__createBinding",()=>g,"__decorate",()=>a,"__disposeResources",()=>U,"__esDecorate",()=>o,"__exportStar",()=>p,"__extends",()=>r,"__generator",()=>f,"__importDefault",()=>A,"__importStar",()=>T,"__makeTemplateObject",()=>k,"__metadata",()=>d,"__param",()=>i,"__propKey",()=>u,"__read",()=>y,"__rest",()=>n,"__rewriteRelativeImportExtension",()=>$,"__runInitializers",()=>l,"__setFunctionName",()=>c,"__spread",()=>b,"__spreadArray",()=>v,"__spreadArrays",()=>w,"__values",()=>m,"default",0,B])},154385,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}},343173,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let s=e.r(290571).__importDefault(e.r(154385));r.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!=(t=e.shouldThrowOnError)&&t,this.signal=e.signal,this.isMaybeSingle=null!=(r=e.isMaybeSingle)&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n,a;let i=null,o=null,l=null,u=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){let r=await e.text();""===r||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null==(t=this.headers.get("Accept"))?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}let s=null==(r=this.headers.get("Prefer"))?void 0:r.match(/count=(exact|planned|estimated)/),a=null==(n=e.headers.get("content-range"))?void 0:n.split("/");s&&a&&a.length>1&&(l=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{let t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,u=200,c="OK")}catch(r){404===e.status&&""===t?(u=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null==(a=null==i?void 0:i.details)?void 0:a.includes("0 rows"))&&(i=null,u=200,c="OK"),i&&this.shouldThrowOnError)throw new s.default(i)}return{error:i,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,s,n,a,i;let o="",l=null==e?void 0:e.cause;if(l){let a=null!=(t=null==l?void 0:l.message)?t:"",i=null!=(r=null==l?void 0:l.code)?r:"";o=`${null!=(s=null==e?void 0:e.name)?s:"FetchError"}: ${null==e?void 0:e.message}

Caused by: ${null!=(n=null==l?void 0:l.name)?n:"Error"}: ${a}`,i&&(o+=` (${i})`),(null==l?void 0:l.stack)&&(o+=`
${l.stack}`)}else o=null!=(a=null==e?void 0:e.stack)?a:"";return{error:{message:`${null!=(i=null==e?void 0:e.name)?i:"FetchError"}: ${null==e?void 0:e.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},782191,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let s=e.r(290571).__importDefault(e.r(343173));class n extends s.default{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){let a=n?`${n}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){let n=void 0===s?"offset":`${s}.offset`,a=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:a="text"}={}){var i;let o=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!=(i=this.headers.get("Accept"))?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}r.default=n},714633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let s=e.r(290571).__importDefault(e.r(782191)),n=RegExp("[,()]");class a extends s.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&n.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let n="";"plain"===s?n="pl":"phrase"===s?n="ph":"websearch"===s&&(n="w");let a=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}r.default=a},838290,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let s=e.r(290571).__importDefault(e.r(714633));r.default=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}select(e,t){let{head:r=!1,count:n}=null!=t?t:{},a=!1,i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new s.default({method:r?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(n=this.fetch)?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(i=this.fetch)?i:fetch})}update(e,{count:t}={}){var r;return t&&this.headers.append("Prefer",`count=${t}`),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(r=this.fetch)?r:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!=(t=this.fetch)?t:fetch})}}},902259,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let s=e.r(290571),n=s.__importDefault(e.r(838290)),a=s.__importDefault(e.r(714633));class i{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=s}from(e){if(!e||"string"!=typeof e||""===e.trim())throw Error("Invalid relation name: relation must be a non-empty string.");let t=new URL(`${this.url}/${e}`);return new n.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:n}={}){var i;let o,l,u=new URL(`${this.url}/rpc/${e}`);r||s?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{u.searchParams.append(e,t)})):(o="POST",l=t);let c=new Headers(this.headers);return n&&c.set("Prefer",`count=${n}`),new a.default({method:o,url:u,headers:c,schema:this.schemaName,body:l,fetch:null!=(i=this.fetch)?i:fetch})}}r.default=i},82215,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PostgrestError=r.PostgrestBuilder=r.PostgrestTransformBuilder=r.PostgrestFilterBuilder=r.PostgrestQueryBuilder=r.PostgrestClient=void 0;let s=e.r(290571),n=s.__importDefault(e.r(902259));r.PostgrestClient=n.default;let a=s.__importDefault(e.r(838290));r.PostgrestQueryBuilder=a.default;let i=s.__importDefault(e.r(714633));r.PostgrestFilterBuilder=i.default;let o=s.__importDefault(e.r(782191));r.PostgrestTransformBuilder=o.default;let l=s.__importDefault(e.r(343173));r.PostgrestBuilder=l.default;let u=s.__importDefault(e.r(154385));r.PostgrestError=u.default,r.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default}},467034,(e,t,r)=>{var s={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],s=t[1];return(r+s)*3/4-s},t.toByteArray=function(e){var t,r,a=l(e),i=a[0],o=a[1],u=new n((i+o)*3/4-o),c=0,d=o>0?i-4:i;for(r=0;r<d;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===o&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===o&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,s=e.length,n=s%3,a=[],i=0,o=s-n;i<o;i+=16383)a.push(function(e,t,s){for(var n,a=[],i=t;i<s;i+=3)n=(e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2]),a.push(r[n>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return a.join("")}(e,i,i+16383>o?o:i+16383));return 1===n?a.push(r[(t=e[s-1])>>2]+r[t<<4&63]+"=="):2===n&&a.push(r[(t=(e[s-2]<<8)+e[s-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],s=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=a.length;i<o;++i)r[i]=a[i],s[a.charCodeAt(i)]=i;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var s=r===t?0:4-r%4;return[r,s]}s[45]=62,s[95]=63},72:function(e,t,r){"use strict";var s=r(675),n=r(783),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var s=e,n=t;if(("string"!=typeof n||""===n)&&(n="utf8"),!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);var a=0|f(s,n),l=i(a),u=l.write(s,n);return u!==a&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(A(e,ArrayBuffer)||e&&A(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(A(e,SharedArrayBuffer)||e&&A(e.buffer,SharedArrayBuffer)))return function(e,t,r){var s;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),s}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return o.from(c,t,r);var g=function(e){if(o.isBuffer(e)){var t=0|h(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?i(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(g)return g;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),i(e<0?0:0|h(e))}function d(e){for(var t=e.length<0?0:0|h(e.length),r=i(t),s=0;s<t;s+=1)r[s]=255&e[s];return r}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(u(e),e<=0)?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)};function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||A(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(e).length;default:if(n)return s?-1:k(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n,a,i,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);for(var n="",a=t;a<r;++a)n+=C[e[a]];return n}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var n=t;n<r;++n)s+=String.fromCharCode(127&e[n]);return s}(this,t,r);case"latin1":case"binary":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var n=t;n<r;++n)s+=String.fromCharCode(e[n]);return s}(this,t,r);case"base64":return n=this,a=t,i=r,0===a&&i===n.length?s.fromByteArray(n):s.fromByteArray(n.slice(a,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var s=e.slice(t,r),n="",a=0;a<s.length;a+=2)n+=String.fromCharCode(s[a]+256*s[a+1]);return n}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function p(e,t,r){var s=e[t];e[t]=e[r],e[r]=s}function m(e,t,r,s,n){var a;if(0===e.length)return -1;if("string"==typeof r?(s=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(a=r*=1)!=a&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(n)return -1;else r=e.length-1;else if(r<0)if(!n)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,s)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,s,n);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(n)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,s,n)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,s,n){var a,i=1,o=e.length,l=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return -1;i=2,o/=2,l/=2,r/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(n){var c=-1;for(a=r;a<o;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*i}else -1!==c&&(a-=a-c),c=-1}else for(r+l>o&&(r=o-l),a=r;a>=0;a--){for(var d=!0,h=0;h<l;h++)if(u(e,a+h)!==u(t,h)){d=!1;break}if(d)return a}return -1}o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(A(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),A(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,s=t.length,n=0,a=Math.min(r,s);n<a;++n)if(e[n]!==t[n]){r=e[n],s=t[n];break}return r<s?-1:+(s<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,s=o.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var a=e[r];if(A(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw TypeError('"list" argument must be an Array of Buffers');a.copy(s,n),n+=a.length}return s},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(o.prototype[a]=o.prototype.inspect),o.prototype.compare=function(e,t,r,s,n){if(A(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===s&&(s=0),void 0===n&&(n=this.length),t<0||r>e.length||s<0||n>this.length)throw RangeError("out of range index");if(s>=n&&t>=r)return 0;if(s>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,s>>>=0,n>>>=0,this===e)return 0;for(var a=n-s,i=r-t,l=Math.min(a,i),u=this.slice(s,n),c=e.slice(t,r),d=0;d<l;++d)if(u[d]!==c[d]){a=u[d],i=c[d];break}return a<i?-1:+(i<a)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)};function b(e,t,r){r=Math.min(e.length,r);for(var s=[],n=t;n<r;){var a,i,o,l,u=e[n],c=null,d=u>239?4:u>223?3:u>191?2:1;if(n+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:(192&(a=e[n+1]))==128&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=e[n+1],i=e[n+2],(192&a)==128&&(192&i)==128&&(l=(15&u)<<12|(63&a)<<6|63&i)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[n+1],i=e[n+2],o=e[n+3],(192&a)==128&&(192&i)==128&&(192&o)==128&&(l=(15&u)<<18|(63&a)<<12|(63&i)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,s.push(c>>>10&1023|55296),c=56320|1023&c),s.push(c),n+=d}var h=s,f=h.length;if(f<=4096)return String.fromCharCode.apply(String,h);for(var g="",p=0;p<f;)g+=String.fromCharCode.apply(String,h.slice(p,p+=4096));return g}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,s,n,a){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw RangeError('"value" argument is out of bounds');if(r+s>e.length)throw RangeError("Index out of range")}function x(e,t,r,s,n,a){if(r+s>e.length||r<0)throw RangeError("Index out of range")}function _(e,t,r,s,a){return t*=1,r>>>=0,a||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,s,23,4),r+4}function j(e,t,r,s,a){return t*=1,r>>>=0,a||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,s,52,8),r+8}o.prototype.write=function(e,t,r,s){if(void 0===t)s="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)s=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n,a,i,o,l,u,c,d,h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var f=!1;;)switch(s){case"hex":return function(e,t,r,s){r=Number(r)||0;var n=e.length-r;s?(s=Number(s))>n&&(s=n):s=n;var a=t.length;s>a/2&&(s=a/2);for(var i=0;i<s;++i){var o,l=parseInt(t.substr(2*i,2),16);if((o=l)!=o)break;e[r+i]=l}return i}(this,e,t,r);case"utf8":case"utf-8":return n=t,a=r,T(k(e,this.length-n),this,n,a);case"ascii":return i=t,o=r,T(E(e),this,i,o);case"latin1":case"binary":return function(e,t,r,s){return T(E(t),e,r,s)}(this,e,t,r);case"base64":return l=t,u=r,T(N(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=r,T(function(e,t){for(var r,s,n=[],a=0;a<e.length&&!((t-=2)<0);++a)s=(r=e.charCodeAt(a))>>8,n.push(r%256),n.push(s);return n}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var s=this.subarray(e,t);return Object.setPrototypeOf(s,o.prototype),s},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=this[e],n=1,a=0;++a<t&&(n*=256);)s+=this[e+a]*n;return s},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=this[e+--t],n=1;t>0&&(n*=256);)s+=this[e+--t]*n;return s},o.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=this[e],n=1,a=0;++a<t&&(n*=256);)s+=this[e+a]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=t,n=1,a=this[e+--s];s>0&&(n*=256);)a+=this[e+--s]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){var n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){var n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,s){if(e*=1,t>>>=0,!s){var n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}var a=0,i=1,o=0;for(this[t]=255&e;++a<r&&(i*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/i|0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,s){if(e*=1,t>>>=0,!s){var n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}var a=r-1,i=1,o=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/i|0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return _(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return _(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,s){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(s<0)throw RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);var n=s-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,s);else if(this===e&&r<t&&t<s)for(var a=n-1;a>=0;--a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,s),t);return n},o.prototype.fill=function(e,t,r,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw TypeError("encoding must be a string");if("string"==typeof s&&!o.isEncoding(s))throw TypeError("Unknown encoding: "+s);if(1===e.length){var n,a=e.charCodeAt(0);("utf8"===s&&a<128||"latin1"===s)&&(e=a)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{var i=o.isBuffer(e)?e:o.from(e,s),l=i.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=i[n%l]}return this};var S=/[^+/0-9A-Za-z-_]/g;function k(e,t){t=t||1/0;for(var r,s=e.length,n=null,a=[],i=0;i<s;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!n){if(r>56319||i+1===s){(t-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function E(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function N(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function T(e,t,r,s){for(var n=0;n<s&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function A(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var C=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var s=16*r,n=0;n<16;++n)t[s+n]=e[r]+e[n];return t}()},783:function(e,t){t.read=function(e,t,r,s,n){var a,i,o=8*n-s-1,l=(1<<o)-1,u=l>>1,c=-7,d=r?n-1:0,h=r?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-c)-1,f>>=-c,c+=o;c>0;a=256*a+e[t+d],d+=h,c-=8);for(i=a&(1<<-c)-1,a>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,s),a-=u}return(f?-1:1)*i*Math.pow(2,a-s)},t.write=function(e,t,r,s,n,a){var i,o,l,u=8*a-n-1,c=(1<<u)-1,d=c>>1,h=5960464477539062e-23*(23===n),f=s?0:a-1,g=s?1:-1,p=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),i+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(i++,l/=2),i+d>=c?(o=0,i=c):i+d>=1?(o=(t*l-1)*Math.pow(2,n),i+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,n),i=0));n>=8;e[r+f]=255&o,f+=g,o/=256,n-=8);for(i=i<<n|o,u+=n;u>0;e[r+f]=255&i,f+=g,i/=256,u-=8);e[r+f-g]|=128*p}}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}},i=!0;try{s[e](r,r.exports,a),i=!1}finally{i&&delete n[e]}return r.exports}a.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=a(72)},775340,e=>{"use strict";var t,r,s,n,a,i,o,l,u,c,d,h,f,g,p,m,y,b,w,v,x,_,j,S=e.i(843476),k=e.i(271645),E=e.i(356909),N=e.i(107233),T=e.i(37727),A=e.i(750570),C=e.i(870273),R=e.i(517302),R=R,O=e.i(643531),P=e.i(576144),P=P,I=e.i(778917),U=e.i(664659),$=e.i(655900),B=e.i(272977),B=B;let D=[{id:"default",name:"Professional Gold",description:"Classic gold accent, inspired by trusted service businesses",colors:{brand:"#FFD700",brandDark:"#e6c200",bgPrimary:"#ffffff",bgSecondary:"#f9fafb",bgDark:"#1a1a1a",textPrimary:"#111827",textSecondary:"#4b5563"},preview:{primary:"#FFD700",accent:"#e6c200",background:"#ffffff"},isPremium:!1},{id:"modern-blue",name:"Modern Blue",description:"Clean, professional blue theme",colors:{brand:"#3b82f6",brandDark:"#2563eb",bgPrimary:"#ffffff",bgSecondary:"#f8fafc",bgDark:"#0f172a",textPrimary:"#0f172a",textSecondary:"#475569"},preview:{primary:"#3b82f6",accent:"#2563eb",background:"#f8fafc"},isPremium:!1},{id:"elegant-green",name:"Elegant Green",description:"Fresh, eco-friendly appearance",colors:{brand:"#10b981",brandDark:"#059669",bgPrimary:"#ffffff",bgSecondary:"#f0fdf4",bgDark:"#064e3b",textPrimary:"#064e3b",textSecondary:"#047857"},preview:{primary:"#10b981",accent:"#059669",background:"#f0fdf4"},isPremium:!0},{id:"bold-orange",name:"Bold Orange",description:"Energetic and attention-grabbing",colors:{brand:"#f97316",brandDark:"#ea580c",bgPrimary:"#ffffff",bgSecondary:"#fff7ed",bgDark:"#7c2d12",textPrimary:"#1c1917",textSecondary:"#57534e"},preview:{primary:"#f97316",accent:"#ea580c",background:"#fff7ed"},isPremium:!0},{id:"luxe-purple",name:"Luxe Purple",description:"Premium, sophisticated feel",colors:{brand:"#8b5cf6",brandDark:"#7c3aed",bgPrimary:"#ffffff",bgSecondary:"#faf5ff",bgDark:"#2e1065",textPrimary:"#1e1b4b",textSecondary:"#4338ca"},preview:{primary:"#8b5cf6",accent:"#7c3aed",background:"#faf5ff"},isPremium:!0},{id:"trust-teal",name:"Trust Teal",description:"Calm, reliable, trustworthy",colors:{brand:"#14b8a6",brandDark:"#0d9488",bgPrimary:"#ffffff",bgSecondary:"#f0fdfa",bgDark:"#134e4a",textPrimary:"#0f172a",textSecondary:"#0f766e"},preview:{primary:"#14b8a6",accent:"#0d9488",background:"#f0fdfa"},isPremium:!0}];var L=e.i(247167),q=e.i(290571);(t=h||(h={})).Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2";var M=e.i(82215);let{PostgrestClient:F,PostgrestQueryBuilder:G,PostgrestFilterBuilder:W,PostgrestTransformBuilder:K,PostgrestBuilder:H,PostgrestError:z}=M.default||M;(r=f||(f={}))[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed",(s=g||(g={})).closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving",(n=p||(p={})).close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",(m||(m={})).websocket="websocket",(a=y||(y={})).Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed",(i=b||(b={})).abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange";(o=w||(w={})).SYNC="sync",o.JOIN="join",o.LEAVE="leave",(l=v||(v={})).ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE",(u=x||(x={})).BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system",(c=_||(_={})).SUBSCRIBED="SUBSCRIBED",c.TIMED_OUT="TIMED_OUT",c.CLOSED="CLOSED",c.CHANNEL_ERROR="CHANNEL_ERROR",e.i(467034),(d=j||(j={})).InternalError="InternalError",d.S3VectorConflictException="S3VectorConflictException",d.S3VectorNotFoundException="S3VectorNotFoundException",d.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",d.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",d.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded";"undefined"!=typeof Deno||"undefined"!=typeof document||"undefined"!=typeof navigator&&navigator.product;let V="2.86.0",J={"X-Client-Info":`gotrue-js/${V}`},Y="X-Supabase-Api-Version",X={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Q=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Z extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ee(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class et extends Z{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class er extends Z{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class es extends Z{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class en extends es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class ea extends es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ei extends es{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class eo extends es{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class el extends es{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eu extends es{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ec(e){return ee(e)&&"AuthRetryableFetchError"===e.name}class ed extends es{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class eh extends es{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eg=" 	\n\r=".split(""),ep=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<eg.length;t+=1)e[eg[t].charCodeAt(0)]=-2;for(let t=0;t<ef.length;t+=1)e[ef[t].charCodeAt(0)]=t;return e})();function em(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)r(ef[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)r(ef[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function ey(e,t,r){let s=ep[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===s)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function eb(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return r(e);for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,s,r)};for(let t=0;t<e.length;t+=1)ey(e.charCodeAt(t),n,a);return t.join("")}function ew(e){let t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)ey(e.charCodeAt(t),r,s);return new Uint8Array(t)}function ev(e){let t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};return e.forEach(e=>em(e,r,s)),em(null,r,s),t.join("")}let ex=()=>"undefined"!=typeof window&&"undefined"!=typeof document,e_={tested:!1,writable:!1},ej=()=>{if(!ex())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(e_.tested)return e_.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),e_.tested=!0,e_.writable=!0}catch(e){e_.tested=!0,e_.writable=!1}return e_.writable},eS=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),ek=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},eE=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},eN=async(e,t)=>{await e.removeItem(t)};class eT{constructor(){this.promise=new eT.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function eA(e){let t=e.split(".");if(3!==t.length)throw new eh("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!Q.test(t[e]))throw new eh("JWT not in base64url format");return{header:JSON.parse(eb(t[0])),payload:JSON.parse(eb(t[1])),signature:ew(t[2]),raw:{header:t[0],payload:t[1]}}}async function eC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eR(e){return("0"+e.toString(16)).substr(-2)}async function eO(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function eP(e){return"undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder?(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e):btoa(await eO(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function eI(e,t,r=!1){let s=function(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let s=0;s<56;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,eR).join("")}(),n=s;r&&(n+="/PASSWORD_RECOVERY"),await ek(e,`${t}-code-verifier`,n);let a=await eP(s),i=s===a?"plain":"s256";return[a,i]}eT.promiseConstructor=Promise;let eU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,e$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function eB(e){if(!e$.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function eD(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eL(e){return JSON.parse(JSON.stringify(e))}let eq=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eM=[502,503,504];async function eF(e){var t;let r,s;if(!("object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json))throw new eu(eq(e),0);if(eM.includes(e.status))throw new eu(eq(e),e.status);try{r=await e.json()}catch(e){throw new er(eq(e),e)}let n=function(e){let t=e.headers.get(Y);if(!t||!t.match(eU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(n&&n.getTime()>=X["2024-01-01"].timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?s=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new ed(eq(r),e.status,(null==(t=r.weak_password)?void 0:t.reasons)||[]);else if("session_not_found"===s)throw new en}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new ed(eq(r),e.status,r.weak_password.reasons);throw new et(eq(r),e.status||500,s)}async function eG(e,t,r,s){var n;let a=Object.assign({},null==s?void 0:s.headers);a[Y]||(a[Y]=X["2024-01-01"].name),(null==s?void 0:s.jwt)&&(a.Authorization=`Bearer ${s.jwt}`);let i=null!=(n=null==s?void 0:s.query)?n:{};(null==s?void 0:s.redirectTo)&&(i.redirect_to=s.redirectTo);let o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await eW(e,t,r+o,{headers:a,noResolveJson:null==s?void 0:s.noResolveJson},{},null==s?void 0:s.body);return(null==s?void 0:s.xform)?null==s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function eW(e,t,r,s,n,a){let i,o,l=(o={method:t,headers:(null==s?void 0:s.headers)||{}},"GET"===t?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==s?void 0:s.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n)));try{i=await e(r,Object.assign({},l))}catch(e){throw console.error(e),new eu(eq(e),0)}if(i.ok||await eF(i),null==s?void 0:s.noResolveJson)return i;try{return await i.json()}catch(e){await eF(e)}}function eK(e){var t,r,s;let n=null;(s=e).access_token&&s.refresh_token&&s.expires_in&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!=(t=e.user)?t:e},error:null}}function eH(e){let t=eK(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function ez(e){var t;return{data:{user:null!=(t=e.user)?t:e},error:null}}function eV(e){return{data:e,error:null}}function eJ(e){let{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:a}=e;return{data:{properties:{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:a},user:Object.assign({},(0,q.__rest)(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function eY(e){return e}let eX=["global","local","others"];class eQ{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=eS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=eX[0]){if(0>eX.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${eX.join(", ")}`);try{return await eG(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(ee(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await eG(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ez})}catch(e){if(ee(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=(0,q.__rest)(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=null==r?void 0:r.newEmail,delete s.newEmail),await eG(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:eJ,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(ee(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await eG(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ez})}catch(e){if(ee(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,s,n,a,i,o;try{let l={nextPage:null,lastPage:0,total:0},u=await eG(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(n=null==(s=null==e?void 0:e.perPage)?void 0:s.toString())?n:""},xform:eY});if(u.error)throw u.error;let c=await u.json(),d=null!=(a=u.headers.get("x-total-count"))?a:0,h=null!=(o=null==(i=u.headers.get("link"))?void 0:i.split(","))?o:[];return h.length>0&&(h.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(ee(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){eB(e);try{return await eG(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ez})}catch(e){if(ee(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){eB(e);try{return await eG(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ez})}catch(e){if(ee(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){eB(e);try{return await eG(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ez})}catch(e){if(ee(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){eB(e.userId);try{let{data:t,error:r}=await eG(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(ee(e))return{data:null,error:e};throw e}}async _deleteFactor(e){eB(e.userId),eB(e.id);try{return{data:await eG(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(ee(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){var t,r,s,n,a,i,o;try{let l={nextPage:null,lastPage:0,total:0},u=await eG(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(n=null==(s=null==e?void 0:e.perPage)?void 0:s.toString())?n:""},xform:eY});if(u.error)throw u.error;let c=await u.json(),d=null!=(a=u.headers.get("x-total-count"))?a:0,h=null!=(o=null==(i=u.headers.get("link"))?void 0:i.split(","))?o:[];return h.length>0&&(h.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(ee(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await eG(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(ee(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await eG(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(ee(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await eG(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(ee(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await eG(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(ee(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await eG(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(ee(e))return{data:null,error:e};throw e}}}function eZ(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}let e0={debug:!!(globalThis&&ej()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class e1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class e2 extends e1{}async function e5(e,t,r){e0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),e0.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async s=>{if(s){e0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{e0.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}if(0===t)throw e0.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new e2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(e0.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}))}function e3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}class e4 extends Error{constructor({message:e,code:t,cause:r,name:s}){var n;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!=(n=null!=s?s:r instanceof Error?r.name:void 0)?n:"Unknown Error",this.code=t}}class e6 extends e4{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}let e8=new class{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function e7(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function e9(){var e,t;return!!(ex()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null==(e=null==navigator?void 0:navigator.credentials)?void 0:e.create)&&"function"==typeof(null==(t=null==navigator?void 0:navigator.credentials)?void 0:t.get))}async function te(e){try{let t=await navigator.credentials.create(e);if(!t)return{data:null,error:new e6("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new e6("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){var r,s,n;let{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new e4({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if((null==(r=a.authenticatorSelection)?void 0:r.requireResidentKey)===!0)return new e4({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});else if("conditional"===t.mediation&&(null==(s=a.authenticatorSelection)?void 0:s.userVerification)==="required")return new e4({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});else if((null==(n=a.authenticatorSelection)?void 0:n.userVerification)==="required")return new e4({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new e4({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new e4({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new e4(0===a.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!e7(t))return new e4({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(a.rp.id!==t)return new e4({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new e4({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new e4({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new e4({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}async function tt(e){try{let t=await navigator.credentials.get(e);if(!t)return{data:null,error:new e6("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new e6("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){let{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new e4({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("NotAllowedError"===e.name)return new e4({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!e7(t))return new e4({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new e4({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new e4({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new e4({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}let tr={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ts={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tn(...e){let t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),s={};for(let n of e)if(n)for(let e in n){let a=n[e];if(void 0!==a)if(Array.isArray(a))s[e]=a;else if(r(a))s[e]=a;else if(t(a)){let r=s[e];t(r)?s[e]=tn(r,a):s[e]=tn(a)}else s[e]=a}return s}class ta{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:s},n){try{var a,i,o,l;let{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:c};let d=null!=s?s:e8.createNewAbortSignal();if("create"===u.webauthn.type){let{user:e}=u.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${r}`),e.displayName||(e.displayName=e.name)}switch(u.webauthn.type){case"create":{let t=(a=u.webauthn.credential_options.publicKey,i=null==n?void 0:n.create,tn(tr,a,i||{})),{data:r,error:s}=await te({publicKey:t,signal:d});if(r)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:r}},error:null};return{data:null,error:s}}case"request":{let t=(o=u.webauthn.credential_options.publicKey,l=null==n?void 0:n.request,tn(ts,o,l||{})),{data:r,error:s}=await tt(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:t,signal:d}));if(r)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:r}},error:null};return{data:null,error:s}}}}catch(e){if(ee(e))return{data:null,error:e};return{data:null,error:new er("Unexpected error in challenge",e)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:r="undefined"!=typeof window?[window.location.origin]:void 0,signal:s}={}},n){if(!t)return{data:null,error:new Z("rpId is required for WebAuthn authentication")};try{if(!e9())return{data:null,error:new er("Browser does not support WebAuthn",null)};let{data:a,error:i}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:s},{request:n});if(!a)return{data:null,error:i};let{webauthn:o}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:r,credential_response:o.credential_response}})}catch(e){if(ee(e))return{data:null,error:e};return{data:null,error:new er("Unexpected error in authenticate",e)}}}async _register({friendlyName:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:r="undefined"!=typeof window?[window.location.origin]:void 0,signal:s}={}},n){if(!t)return{data:null,error:new Z("rpId is required for WebAuthn registration")};try{if(!e9())return{data:null,error:new er("Browser does not support WebAuthn",null)};let{data:a,error:i}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>{var r;return null==(r=t.data)?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:i};let{data:o,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:s},{create:n});if(!o)return{data:null,error:l};return this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:r,type:o.webauthn.type,credential_response:o.webauthn.credential_response}})}catch(e){if(ee(e))return{data:null,error:e};return{data:null,error:new er("Unexpected error in register",e)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}let ti={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:J,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function to(e,t,r){return await r()}let tl={};class tu{get jwks(){var e,t;return null!=(t=null==(e=tl[this.storageKey])?void 0:e.jwks)?t:{keys:[]}}set jwks(e){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!=(t=null==(e=tl[this.storageKey])?void 0:e.cachedAt)?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},ti),e);if(this.storageKey=n.storageKey,this.instanceID=null!=(t=tu.nextInstanceID[this.storageKey])?t:0,tu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.instanceID>0&&ex()){const e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new eQ({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=eS(n.fetch),this.lock=n.lock||to,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,n.lock?this.lock=n.lock:ex()&&(null==(r=null==globalThis?void 0:globalThis.navigator)?void 0:r.locks)?this.lock=e5:this.lock=to,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ta(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ej()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eZ(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=eZ(this.memoryStorage)),ex()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null==(s=this.broadcastChannel)||s.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${V}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(ex()&&(t=function(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),ex()&&this.detectSessionInUrl&&"none"!==r){let{data:s,error:n}=await this._getSessionFromURL(t,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),ee(n)&&"AuthImplicitGrantRedirectError"===n.name){let t=null==(e=n.details)?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:n}}return await this._removeSession(),{error:n}}let{session:a,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(ee(e))return this._returnResult({error:e});return this._returnResult({error:new er("Unexpected error during initialization",e)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{let{data:n,error:a}=await eG(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(r=null==(t=null==e?void 0:e.options)?void 0:t.data)?r:{},gotrue_meta_security:{captcha_token:null==(s=null==e?void 0:e.options)?void 0:s.captchaToken}},xform:eK});if(a||!n)return this._returnResult({data:{user:null,session:null},error:a});let i=n.session,o=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",i)),this._returnResult({data:{user:o,session:i},error:null})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){var t,r,s;try{let n;if("email"in e){let{email:r,password:s,options:a}=e,i=null,o=null;"pkce"===this.flowType&&([i,o]=await eI(this.storage,this.storageKey)),n=await eG(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:r,password:s,data:null!=(t=null==a?void 0:a.data)?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:eK})}else if("phone"in e){let{phone:t,password:a,options:i}=e;n=await eG(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!=(r=null==i?void 0:i.data)?r:{},channel:null!=(s=null==i?void 0:i.channel)?s:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:eK})}else throw new ei("You must provide either an email or phone number and a password");let{data:a,error:i}=n;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});let o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:r,password:s,options:n}=e;t=await eG(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:eH})}else if("phone"in e){let{phone:r,password:s,options:n}=e;t=await eG(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:eH})}else throw new ei("You must provide either an email or phone number and a password");let{data:r,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){let e=new ea;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){var t,r,s,n;return await this._handleProviderSignIn(e.provider,{redirectTo:null==(t=e.options)?void 0:t.redirectTo,scopes:null==(r=e.options)?void 0:r.scopes,queryParams:null==(s=e.options)?void 0:s.queryParams,skipBrowserRedirect:null==(n=e.options)?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,s,n,a,i,o,l,u,c,d,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{let c,{chain:d,wallet:p,statement:m,options:y}=e;if(ex())if("object"==typeof p)c=p;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)c=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof p||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");c=p}let b=new URL(null!=(t=null==y?void 0:y.url)?t:window.location.href),w=await c.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||0===w.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let v=e3(w[0]),x=null==(r=null==y?void 0:y.signInWithEthereum)?void 0:r.chainId;x||(x=parseInt(await c.request({method:"eth_chainId"}),16)),f=function(e){var t;let{chainId:r,domain:s,expirationTime:n,issuedAt:a=new Date,nonce:i,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;if(!Number.isInteger(r))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null==(t=e.statement)?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=e3(e.address),g=c?`${c}://${s}`:s,p=e.statement?`${e.statement}
`:"",m=`${g} wants you to sign in with your Ethereum account:
${f}

${p}`,y=`URI: ${d}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(n&&(y+=`
Expiration Time: ${n.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let e="\nResources:";for(let t of u){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}y+=e}return`${m}
${y}`}({domain:b.host,address:v,statement:m,uri:b.href,version:"1",chainId:x,nonce:null==(s=null==y?void 0:y.signInWithEthereum)?void 0:s.nonce,issuedAt:null!=(a=null==(n=null==y?void 0:y.signInWithEthereum)?void 0:n.issuedAt)?a:new Date,expirationTime:null==(i=null==y?void 0:y.signInWithEthereum)?void 0:i.expirationTime,notBefore:null==(o=null==y?void 0:y.signInWithEthereum)?void 0:o.notBefore,requestId:null==(l=null==y?void 0:y.signInWithEthereum)?void 0:l.requestId,resources:null==(u=null==y?void 0:y.signInWithEthereum)?void 0:u.resources}),g=await c.request({method:"personal_sign",params:[(h=f,"0x"+Array.from(new TextEncoder().encode(h),e=>e.toString(16).padStart(2,"0")).join("")),v]})}try{let{data:t,error:r}=await eG(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},(null==(c=e.options)?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null==(d=e.options)?void 0:d.captchaToken}}:null),xform:eK});if(r)throw r;if(!t||!t.session||!t.user){let e=new ea;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){var t,r,s,n,a,i,o,l,u,c,d,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{let d,{chain:h,wallet:p,statement:m,options:y}=e;if(ex())if("object"==typeof p)d=p;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))d=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof p||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");d=p}let b=new URL(null!=(t=null==y?void 0:y.url)?t:window.location.href);if("signIn"in d&&d.signIn){let e,t=await d.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==y?void 0:y.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),m?{statement:m}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)f="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),g=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in d)||"function"!=typeof d.signMessage||!("publicKey"in d)||"object"!=typeof d||!d.publicKey||!("toBase58"in d.publicKey)||"function"!=typeof d.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${b.host} wants you to sign in with your Solana account:`,d.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${null!=(s=null==(r=null==y?void 0:y.signInWithSolana)?void 0:r.issuedAt)?s:new Date().toISOString()}`,...(null==(n=null==y?void 0:y.signInWithSolana)?void 0:n.notBefore)?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...(null==(a=null==y?void 0:y.signInWithSolana)?void 0:a.expirationTime)?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...(null==(i=null==y?void 0:y.signInWithSolana)?void 0:i.chainId)?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...(null==(o=null==y?void 0:y.signInWithSolana)?void 0:o.nonce)?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...(null==(l=null==y?void 0:y.signInWithSolana)?void 0:l.requestId)?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...(null==(c=null==(u=null==y?void 0:y.signInWithSolana)?void 0:u.resources)?void 0:c.length)?["Resources",...y.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await d.signMessage(new TextEncoder().encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=e}}try{let{data:t,error:r}=await eG(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:ev(g)},(null==(d=e.options)?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null==(h=e.options)?void 0:h.captchaToken}}:null),xform:eK});if(r)throw r;if(!t||!t.session||!t.user){let e=new ea;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let t=await eE(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(null!=t?t:"").split("/");try{let{data:t,error:n}=await eG(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:eK});if(await eN(this.storage,`${this.storageKey}-code-verifier`),n)throw n;if(!t||!t.session||!t.user){let e=new ea;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=s?s:null}),error:n})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:r,token:s,access_token:n,nonce:a}=e,{data:i,error:o}=await eG(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:n,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:eK});if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let e=new ea;return this._returnResult({data:{user:null,session:null},error:e})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:i,error:o})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){var t,r,s,n,a;try{if("email"in e){let{email:s,options:n}=e,a=null,i=null;"pkce"===this.flowType&&([a,i]=await eI(this.storage,this.storageKey));let{error:o}=await eG(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!=(t=null==n?void 0:n.data)?t:{},create_user:null==(r=null==n?void 0:n.shouldCreateUser)||r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){let{phone:t,options:r}=e,{data:i,error:o}=await eG(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!=(s=null==r?void 0:r.data)?s:{},create_user:null==(n=null==r?void 0:r.shouldCreateUser)||n,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!=(a=null==r?void 0:r.channel)?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o})}throw new ei("You must provide either an email or phone number.")}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){var t,r;try{let s,n;"options"in e&&(s=null==(t=e.options)?void 0:t.redirectTo,n=null==(r=e.options)?void 0:r.captchaToken);let{data:a,error:i}=await eG(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:s,xform:eK});if(i)throw i;if(!a)throw Error("An error occurred on token verification.");let o=a.session,l=a.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){var t,r,s,n,a;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await eI(this.storage,this.storageKey));let l=await eG(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!=(r=null==(t=e.options)?void 0:t.redirectTo)?r:void 0}),(null==(s=null==e?void 0:e.options)?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:eV});return(null==(n=l.data)?void 0:n.url)&&ex()&&!(null==(a=e.options)?void 0:a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new en;let{error:s}=await eG(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:r,type:s,options:n}=e,{error:a}=await eG(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){let{phone:r,type:s,options:n}=e,{data:a,error:i}=await eG(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:i})}throw new ei("You must provide either an email or phone number and a type")}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let t=null,r=await eE(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),null!==r&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let s=!!t.expires_at&&1e3*t.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){let e=await eE(this.userStorage,this.storageKey+"-user");(null==e?void 0:e.user)?t.user=e.user:t.user=eD()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){var e;let r={value:this.suppressGetSessionWarning};t.user=(e=t.user,new Proxy(e,{get:(e,t,s)=>{if("__isInsecureUserWarningProxy"===t)return!0;if("symbol"==typeof t){let r=t.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r||"Symbol(nodejs.util.inspect.custom)"===r)return Reflect.get(e,t,s)}return r.value||"string"!=typeof t||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(e,t,s)}})),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:n,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return this._returnResult({data:{session:null},error:a});return this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await eG(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ez});return await this._useSession(async e=>{var t,r,s;let{data:n,error:a}=e;if(a)throw a;return(null==(t=n.session)?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await eG(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(s=null==(r=n.session)?void 0:r.access_token)?s:void 0,xform:ez}):{data:{user:null},error:new en}})}catch(e){if(ee(e))return ee(e)&&"AuthSessionMissingError"===e.name&&(await this._removeSession(),await eN(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:s,error:n}=r;if(n)throw n;if(!s.session)throw new en;let a=s.session,i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await eI(this.storage,this.storageKey));let{data:l,error:u}=await eG(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:ez});if(u)throw u;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(e){if(ee(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;let t=Date.now()/1e3,r=t,s=!0,n=null,{payload:a}=eA(e.access_token);if(a.exp&&(s=(r=a.exp)<=t),s){let{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};n=t}else{let{data:s,error:a}=await this._getUser(e.access_token);if(a)throw a;n={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(e){if(ee(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:s,error:n}=t;if(n)throw n;e=null!=(r=s.session)?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new en;let{data:s,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!ex())throw new eo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new eo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new el("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new eo("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new el("No code detected.");let{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;let s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:s,access_token:n,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!n||!i||!a||!l)throw new eo("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(i),d=u+c;o&&(d=parseInt(o));let h=d-u;1e3*h<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${c}s`);let f=d-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,u);let{data:g,error:p}=await this._getUser(n);if(p)throw p;let m={provider_token:r,provider_refresh_token:s,access_token:n,expires_in:c,expires_at:d,refresh_token:a,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(e){if(ee(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await eE(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:s,error:n}=t;if(n)return this._returnResult({error:n});let a=null==(r=s.session)?void 0:r.access_token;if(a){let{error:t}=await this.admin.signOut(a,e);if(t&&!(ee(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await eN(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{let{data:{session:s},error:n}=t;if(n)throw n;await (null==(r=this.stateChangeEmitters.get(e))?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(t){await (null==(s=this.stateChangeEmitters.get(e))?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;"pkce"===this.flowType&&([r,s]=await eI(this.storage,this.storageKey,!0));try{return await eG(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!=(e=t.user.identities)?e:[]},error:null})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{let{data:r,error:s}=await this._useSession(async t=>{var r,s,n,a,i;let{data:o,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null==(r=e.options)?void 0:r.redirectTo,scopes:null==(s=e.options)?void 0:s.scopes,queryParams:null==(n=e.options)?void 0:n.queryParams,skipBrowserRedirect:!0});return await eG(this.fetch,"GET",u,{headers:this.headers,jwt:null!=(i=null==(a=o.session)?void 0:a.access_token)?i:void 0})});if(s)throw s;return!ex()||(null==(t=e.options)?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(t){if(ee(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{let{error:s,data:{session:n}}=t;if(s)throw s;let{options:a,provider:i,token:o,access_token:l,nonce:u}=e,{data:c,error:d}=await eG(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(r=null==n?void 0:n.access_token)?r:void 0,body:{provider:i,id_token:o,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:eK});if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user)return this._returnResult({data:{user:null,session:null},error:new ea});return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("USER_UPDATED",c.session)),this._returnResult({data:c,error:d})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;let{data:n,error:a}=t;if(a)throw a;return await eG(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!=(s=null==(r=n.session)?void 0:r.access_token)?s:void 0})})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var r,s;let n=Date.now();return await (r=async r=>(r>0&&await eC(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await eG(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:eK})),s=(e,t)=>{let r=200*Math.pow(2,e);return t&&ec(t)&&Date.now()+r-n<3e4},new Promise((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{let t=await r(n);if(!s(n,null,t))return void e(t)}catch(e){if(!s(n,e))return void t(e)}})()}))}catch(e){if(this._debug(t,"error",e),ee(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ex()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let s=await eE(this.storage,this.storageKey);if(s&&this.userStorage){let t=await eE(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:s.user},await ek(this.userStorage,this.storageKey+"-user",t)),s.user=null!=(e=null==t?void 0:t.user)?e:eD()}else if(s&&!s.user&&!s.user){let e=await eE(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(s.user=e.user,await eN(this.storage,this.storageKey+"-user"),await ek(this.storage,this.storageKey,s)):s.user=eD()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),null!==s&&await this._removeSession();return}let n=(null!=(t=s.expires_at)?t:1/0)*1e3-Date.now()<9e4;if(this._debug(r,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&s.refresh_token){let{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),ec(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(s.access_token);!t&&(null==e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(r,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(e){this._debug(r,"error",e),console.error(e);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eT;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new en;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let s={data:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(e){if(this._debug(s,"error",e),ee(e)){let r={data:null,error:e};return ec(e)||await this._removeSession(),null==(t=this.refreshingDeferred)||t.resolve(r),r}throw null==(r=this.refreshingDeferred)||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){let s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let s=[],n=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){s.push(e)}});if(await Promise.all(n),s.length>0){for(let e=0;e<s.length;e+=1)console.error(s[e]);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await ek(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let s=eL(e);await ek(this.storage,this.storageKey,s)}else{let e=eL(t);await ek(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await eN(this.storage,this.storageKey),await eN(this.storage,this.storageKey+"-code-verifier"),await eN(this.storage,this.storageKey+"-user"),this.userStorage&&await eN(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ex()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let s=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof e1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ex()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"!==document.visibilityState?this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"):await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let s=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let[e,t]=await eI(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});s.push(r.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);s.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:s,error:n}=t;return n?this._returnResult({data:null,error:n}):await eG(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null==(r=null==s?void 0:s.session)?void 0:r.access_token})})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;let{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});let i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await eG(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null==(s=null==o?void 0:o.totp)?void 0:s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r,s,n;let{data:a,error:i}=t;if(i)return this._returnResult({data:null,error:i});let o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?(s=e.webauthn.credential_response,"toJSON"in s&&"function"==typeof s.toJSON?s.toJSON():{id:s.id,rawId:s.id,response:{attestationObject:ev(new Uint8Array(s.response.attestationObject)),clientDataJSON:ev(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:null!=(n=s.authenticatorAttachment)?n:void 0}):function(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();let r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ev(new Uint8Array(s.authenticatorData)),clientDataJSON:ev(new Uint8Array(s.clientDataJSON)),signature:ev(new Uint8Array(s.signature)),userHandle:s.userHandle?ev(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!=(t=e.authenticatorAttachment)?t:void 0}}(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await eG(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:null==(r=null==a?void 0:a.session)?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:s,error:n}=t;if(n)return this._returnResult({data:null,error:n});let a=await eG(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null==(r=null==s?void 0:s.session)?void 0:r.access_token});if(a.error)return a;let{data:i}=a;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:r,excludeCredentials:s}=e,n=(0,q.__rest)(e,["challenge","user","excludeCredentials"]),a=ew(t).buffer,i=Object.assign(Object.assign({},r),{id:ew(r.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:a,user:i});if(s&&s.length>0){o.excludeCredentials=Array(s.length);for(let e=0;e<s.length;e++){let t=s[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:ew(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:r}=e,s=(0,q.__rest)(e,["challenge","allowCredentials"]),n=ew(t).buffer,a=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){a.allowCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:ew(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;let{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};let s={all:[],phone:[],totp:[],webauthn:[]};for(let r of null!=(e=null==t?void 0:t.factors)?e:[])s.all.push(r),"verified"===r.status&&s[r.factor_type].push(r);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;let{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:n}=eA(r.access_token),a=null;n.aal&&(a=n.aal);let i=a;return(null!=(t=null==(e=r.user.factors)?void 0:e.filter(e=>"verified"===e.status))?t:[]).length>0&&(i="aal2"),{data:{currentLevel:a,nextLevel:i,currentAuthenticationMethods:n.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await eG(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new en})})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:s},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!s)return this._returnResult({data:null,error:new en});let a=await eG(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&ex()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:s},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!s)return this._returnResult({data:null,error:new en});let a=await eG(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&ex()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await eG(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new en})})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?(await eG(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new en})})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;let s=Date.now();if((r=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>s)return r;let{data:n,error:a}=await eG(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length&&(this.jwks=n,this.jwks_cached_at=s,r=n.keys.find(t=>t.kid===e))?r:null}async getClaims(e,t={}){try{var r;let s,n=e;if(!n){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}let{header:a,payload:i,signature:o,raw:{header:l,payload:u}}=eA(n);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(i.exp);let c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!c){let{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:a,signature:o},error:null}}let d=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(a.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,(r=`${l}.${u}`,s=[],!function(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){let t=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127)return t(e);if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(s,t)}}(r,e=>s.push(e)),new Uint8Array(s))))throw new eh("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}}tu.nextInstanceID={},function(){if("undefined"!=typeof window||void 0===L.default)return!1;let e=L.default.version;if(null==e)return!1;let t=e.match(/^v(\d+)\./);return!!t&&18>=parseInt(t[1],10)}()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`),e.i(456933);let tc={restaurant:{menuSystem:!0,bookingSystem:!1,portfolioGallery:!1,quoteRequests:!1,testimonials:!0,teamMembers:!1,faqSection:!0},catering:{menuSystem:!0,bookingSystem:!0,portfolioGallery:!0,quoteRequests:!0,testimonials:!0,teamMembers:!0,faqSection:!0},contractor:{menuSystem:!1,bookingSystem:!0,portfolioGallery:!0,quoteRequests:!0,testimonials:!0,teamMembers:!0,faqSection:!0},salon:{menuSystem:!1,bookingSystem:!0,portfolioGallery:!0,quoteRequests:!1,testimonials:!0,teamMembers:!0,faqSection:!0},professional:{menuSystem:!1,bookingSystem:!0,portfolioGallery:!1,quoteRequests:!1,testimonials:!0,teamMembers:!0,faqSection:!0},cleaning:{menuSystem:!1,bookingSystem:!0,portfolioGallery:!0,quoteRequests:!0,testimonials:!0,teamMembers:!1,faqSection:!0},custom:{menuSystem:!1,bookingSystem:!1,portfolioGallery:!1,quoteRequests:!1,testimonials:!1,teamMembers:!1,faqSection:!1}},td={restaurant:"Restaurant / Food Service",catering:"Catering / Events",contractor:"Contractor / Home Services",salon:"Salon / Spa / Beauty",professional:"Professional Services",cleaning:"Cleaning Service",custom:"Custom (Configure Manually)"},th={businessType:"custom",enabledFeatures:tc.custom,tagline:"",aboutText:"",businessHours:"Mon-Fri 9am-5pm",serviceAreas:[],contactMode:"form",calendlyUrl:"",phoneNumber:"",bookingUrl:"",bookingDisplayMode:"embed",bookingButtonText:"Book Now",bookingDescription:"Schedule your appointment online",showBookingOnHero:!1,showBookingOnServicePages:!1,showBookingPage:!0,showProcess:!0,showStats:!0,showTeam:!1,showTestimonials:!0,showFaq:!0,showWhyChooseUs:!0,showSpecialties:!1,showBadges:!0,showMapEmbed:!1,process:[{step:1,title:"Get a Free Estimate",description:"Contact us for a no-obligation quote",icon:"clipboard"},{step:2,title:"We Recommend Options",description:"Our experts suggest the best solutions",icon:"message-square"},{step:3,title:"We Get It Done",description:"Professional service delivered on time",icon:"check-circle"}],processTitle:"Our Simple Process",processSubtitle:"From consultation to completion, we make it easy",processCTAText:"Get Your Free Estimate",stats:[{value:"10+",label:"Years Experience"},{value:"500+",label:"Happy Customers"},{value:"100%",label:"Satisfaction Rate"}],brandColor:"#FFD700",themePreset:"default",heroStyle:"gradient",heroImageUrl:"",heroVideoUrl:"",heroBadgeText:"Trusted Local Business",heroHeading:"Professional Services",heroHeadingAccent:"You Can Trust",heroSubheading:"",trustBadges:[{text:"Licensed",icon:"shield"},{text:"Insured",icon:"shield-check"},{text:"Satisfaction Guaranteed",icon:"star"}],heroCTAText:"Get a Free Quote",heroSecondaryCTAText:"Our Services",whyChooseUsTitle:"Why Choose Us?",whyChooseUsHeading:"Quality You Can Trust",whyChooseUsText:"",emergencyBannerText:"Available for Emergency Services!",emergencyBannerEnabled:!1,specialtiesTitle:"Our Specialties",specialties:[],badgesTitle:"Our Commitment to Excellence",badgesSubtitle:"Why customers choose us for their service needs",badges:[{icon:"shield",title:"Fully Insured",description:"Complete protection for your peace of mind",color:"#0ea5e9"},{icon:"award",title:"Certified Experts",description:"Licensed professionals you can count on",color:"#10b981"},{icon:"wrench",title:"Quality Work",description:"Premium materials and expert craftsmanship",color:"#f59e0b"},{icon:"check-circle",title:"Guaranteed",description:"100% satisfaction guaranteed",color:"#8b5cf6"}],testimonialsTitle:"What Our Customers Say",testimonialsSubtitle:"Real reviews from satisfied customers",overallRating:5,reviewCount:0,googleReviewsUrl:"",testimonials:[],mapEmbedUrl:"",mapTitle:"Our Service Area",address:""},tf=[{value:"shield",label:"Shield"},{value:"shield-check",label:"Shield Check"},{value:"award",label:"Award"},{value:"star",label:"Star"},{value:"check-circle",label:"Check Circle"},{value:"wrench",label:"Wrench"},{value:"hammer",label:"Hammer"},{value:"users",label:"Users"},{value:"clock",label:"Clock"},{value:"heart",label:"Heart"},{value:"thumbs-up",label:"Thumbs Up"}];function tg(){let e,t,r,s,[n,a]=(0,k.useState)(th),[i,o]=(0,k.useState)(!0),[l,u]=(0,k.useState)(!1),[c,d]=(0,k.useState)(!1),[h,f]=(0,k.useState)(""),[g,p]=(0,k.useState)("general"),[m,y]=(0,k.useState)(""),[b,w]=(0,k.useState)({hero:!0,sections:!1,process:!1,whychooseus:!1,specialties:!0,badges:!1,testimonials:!1,stats:!1,footer:!1}),v=(e=L.default.env.NEXT_PUBLIC_PAYMENT_TIER||"starter",r="unlimited"===(t=L.default.env.NEXT_PUBLIC_MAX_SERVICES||"10")?1/0:parseInt(t,10),s="pro"===e||"hosted"===e,{paymentTier:e,maxServices:r,calendlyEnabled:"true"===L.default.env.NEXT_PUBLIC_CALENDLY_ENABLED||s,portfolioEnabled:"true"===L.default.env.NEXT_PUBLIC_PORTFOLIO_ENABLED||s,analyticsEnabled:"true"===L.default.env.NEXT_PUBLIC_ANALYTICS_ENABLED||s,premiumThemesEnabled:"true"===L.default.env.NEXT_PUBLIC_PREMIUM_THEMES_ENABLED||s,customDomainEnabled:"true"===L.default.env.NEXT_PUBLIC_CUSTOM_DOMAIN_ENABLED||s,isPro:s});function x(e){w(t=>({...t,[e]:!t[e]}))}async function _(){u(!0),f("");try{let e=localStorage.getItem("admin_token"),t=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(n)});if(t.ok)d(!0),setTimeout(()=>d(!1),3e3);else{let e=await t.json();f(e.error||"Failed to save settings")}}catch(e){console.error("Error saving settings:",e),f("Failed to save settings. Please try again.")}finally{u(!1)}}function j(e,t,r){a(s=>({...s,process:s.process.map((s,n)=>n===e?{...s,[t]:r}:s)}))}function q(e,t,r){a(s=>({...s,stats:s.stats.map((s,n)=>n===e?{...s,[t]:r}:s)}))}function M(e,t,r){a(s=>({...s,trustBadges:s.trustBadges.map((s,n)=>n===e?{...s,[t]:r}:s)}))}function F(e,t,r){a(s=>({...s,specialties:s.specialties.map((s,n)=>n===e?{...s,[t]:r}:s)}))}function G(e,t,r){a(s=>({...s,badges:s.badges.map((s,n)=>n===e?{...s,[t]:r}:s)}))}function W(e,t,r){a(s=>({...s,testimonials:s.testimonials.map((s,n)=>n===e?{...s,[t]:r}:s)}))}function K(){m.trim()&&(a(e=>({...e,serviceAreas:[...e.serviceAreas||[],m.trim()]})),y(""))}return(0,k.useEffect)(()=>{!async function(){try{let e=localStorage.getItem("admin_token"),t=await fetch("/api/admin/settings",{headers:{Authorization:"Bearer "+e},cache:"no-store"});if(t.ok){let e=await t.json();a({...th,...e.settings})}}catch(e){console.error("Error fetching settings:",e)}finally{o(!1)}}()},[]),i?(0,S.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,S.jsx)("p",{children:"Loading..."})}):(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,S.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"}),(0,S.jsxs)("div",{className:"flex items-center gap-4",children:[c&&(0,S.jsx)("span",{className:"text-green-600 text-sm font-medium",children:"Settings saved!"}),h&&(0,S.jsx)("span",{className:"text-red-600 text-sm font-medium",children:h}),(0,S.jsxs)("button",{onClick:_,disabled:l,className:"flex items-center gap-2 bg-brand text-gray-900 font-semibold px-6 py-3 rounded-lg hover:bg-brand-dark disabled:opacity-50 transition-colors",children:[(0,S.jsx)(E.Save,{className:"w-5 h-5"}),l?"Saving...":"Save Changes"]})]})]}),(0,S.jsx)("div",{className:"flex gap-2 mb-8 overflow-x-auto pb-2",children:[{id:"general",label:"General"},{id:"appearance",label:"Appearance"},{id:"homepage",label:"Homepage"},{id:"services",label:"Services & Trust"},{id:"contact",label:"Contact & Footer"}].map(e=>(0,S.jsx)("button",{onClick:()=>p(e.id),className:"px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors "+(g===e.id?"bg-brand text-gray-900":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.id))}),"general"===g&&(0,S.jsxs)("div",{className:"space-y-6",children:[(0,S.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,S.jsxs)("div",{className:"mb-6",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Business Type"}),(0,S.jsx)("p",{className:"text-sm text-gray-500",children:"Select your business type to get recommended feature defaults. You can customize individual features below."})]}),(0,S.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:Object.keys(td).map(e=>{let t=n.businessType===e;return(0,S.jsx)("button",{type:"button",onClick:()=>{a(t=>({...t,businessType:e,enabledFeatures:tc[e]}))},className:`p-3 rounded-lg border-2 text-left transition-all ${t?"border-brand bg-brand/5":"border-gray-200 hover:border-gray-300"}`,children:(0,S.jsx)("span",{className:`text-sm font-medium ${t?"text-brand":"text-gray-700"}`,children:td[e]})},e)})}),(0,S.jsxs)("div",{className:"border-t pt-6",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Enabled Features"}),(0,S.jsx)("p",{className:"text-xs text-gray-500",children:"Toggle which features are available for your business"})]}),(0,S.jsxs)("button",{type:"button",onClick:()=>{a(e=>({...e,enabledFeatures:tc[e.businessType]}))},className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[(0,S.jsx)(B.default,{className:"w-4 h-4"}),"Reset to Defaults"]})]}),(0,S.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"menuSystem",label:"Menu System",description:"Food/drink menus for restaurants"},{key:"bookingSystem",label:"Booking System",description:"Appointment scheduling"},{key:"portfolioGallery",label:"Portfolio Gallery",description:"Before/after photos, project showcases"},{key:"quoteRequests",label:"Quote Requests",description:"Request a quote forms"},{key:"testimonials",label:"Testimonials",description:"Customer reviews and ratings"},{key:"teamMembers",label:"Team Members",description:"Staff profiles and bios"},{key:"faqSection",label:"FAQ Section",description:"Frequently asked questions"}].map(e=>{let t=n.enabledFeatures[e.key],r=tc[n.businessType][e.key];return(0,S.jsxs)("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${t?"border-brand/30 bg-brand/5":"border-gray-200 hover:border-gray-300"}`,children:[(0,S.jsx)("input",{type:"checkbox",checked:t,onChange:t=>{a(r=>({...r,enabledFeatures:{...r.enabledFeatures,[e.key]:t.target.checked}}))},className:"w-5 h-5 mt-0.5 text-brand focus:ring-brand rounded"}),(0,S.jsxs)("div",{className:"flex-1",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("span",{className:"font-medium text-gray-900",children:e.label}),t!==r&&(0,S.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded",children:"Modified"})]}),(0,S.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.key)})})]})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 space-y-6",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"General Information"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tagline"}),(0,S.jsx)("input",{type:"text",value:n.tagline,onChange:e=>a(t=>({...t,tagline:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Quality workmanship, reliable service"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Text"}),(0,S.jsx)("textarea",{value:n.aboutText,onChange:e=>a(t=>({...t,aboutText:e.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Tell your customers about your business..."})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Hours"}),(0,S.jsx)("input",{type:"text",value:n.businessHours,onChange:e=>a(t=>({...t,businessHours:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Mon-Fri 9am-5pm"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Areas"}),(0,S.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,S.jsx)("input",{type:"text",value:m,onChange:e=>y(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),K()),className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Add a service area..."}),(0,S.jsx)("button",{type:"button",onClick:K,className:"px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:(0,S.jsx)(N.Plus,{className:"w-5 h-5"})})]}),n.serviceAreas&&n.serviceAreas.length>0&&(0,S.jsx)("div",{className:"flex flex-wrap gap-2",children:n.serviceAreas.map((e,t)=>(0,S.jsxs)("span",{className:"inline-flex items-center gap-1 bg-gray-100 px-3 py-1 rounded-full text-sm",children:[e,(0,S.jsx)("button",{type:"button",onClick:()=>{a(e=>({...e,serviceAreas:(e.serviceAreas||[]).filter((e,r)=>r!==t)}))},className:"text-gray-400 hover:text-red-500",children:(0,S.jsx)(T.X,{className:"w-4 h-4"})})]},t))})]})]})]}),"appearance"===g&&(0,S.jsxs)("div",{className:"space-y-6",children:[(0,S.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Site Theme"}),(0,S.jsx)("p",{className:"text-sm text-gray-500",children:"Choose a color scheme for your site"})]}),!v.premiumThemesEnabled&&(0,S.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded-full",children:[(0,S.jsx)(R.default,{className:"w-3 h-3"}),"Pro Feature"]})]}),(0,S.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:D.map(e=>{let t=n.themePreset===e.id,r=e.isPremium&&!v.premiumThemesEnabled;return(0,S.jsxs)("button",{onClick:()=>{r||a({...n,themePreset:e.id})},disabled:r,className:`relative p-4 rounded-xl border-2 transition-all text-left ${t?"border-brand bg-brand/5":r?"border-gray-200 opacity-60 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:[(0,S.jsxs)("div",{className:"flex gap-1.5 mb-3",children:[(0,S.jsx)("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:e.preview.primary}}),(0,S.jsx)("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:e.preview.accent}}),(0,S.jsx)("div",{className:"w-8 h-8 rounded-lg border border-gray-200",style:{backgroundColor:e.preview.background}})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,S.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),r&&(0,S.jsx)(R.default,{className:"w-3.5 h-3.5 text-gray-400"}),t&&(0,S.jsx)(O.Check,{className:"w-4 h-4 text-brand"})]}),(0,S.jsx)("p",{className:"text-xs text-gray-500",children:e.description}),e.isPremium&&!r&&(0,S.jsxs)("span",{className:"absolute top-2 right-2 inline-flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-medium rounded-full",children:[(0,S.jsx)(P.default,{className:"w-3 h-3"}),"Pro"]})]},e.id)})}),!v.premiumThemesEnabled&&(0,S.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-lg",children:(0,S.jsxs)("div",{className:"flex items-start gap-3",children:[(0,S.jsx)(P.default,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:"font-medium text-amber-900",children:"Upgrade to Pro for Premium Themes"}),(0,S.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:"Unlock 4 additional designer themes to make your site stand out."}),(0,S.jsxs)("a",{href:"https://gosovereign.io/wizard/preview",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-medium rounded-lg transition-colors",children:["Upgrade Now",(0,S.jsx)(I.ExternalLink,{className:"w-4 h-4"})]})]})]})})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,S.jsxs)("div",{className:"mb-6",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Custom Brand Color"}),(0,S.jsx)("p",{className:"text-sm text-gray-500",children:"Override the theme's primary color with your own"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,S.jsx)("input",{type:"color",value:n.brandColor,onChange:e=>a(t=>({...t,brandColor:e.target.value})),className:"w-16 h-12 rounded-lg cursor-pointer border border-gray-200"}),(0,S.jsx)("input",{type:"text",value:n.brandColor,onChange:e=>a(t=>({...t,brandColor:e.target.value})),placeholder:"#FFD700",className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand font-mono"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Presets"}),(0,S.jsx)("div",{className:"flex flex-wrap gap-2",children:[{color:"#FFD700",name:"Gold"},{color:"#3B82F6",name:"Blue"},{color:"#10B981",name:"Green"},{color:"#EF4444",name:"Red"},{color:"#8B5CF6",name:"Purple"},{color:"#F97316",name:"Orange"},{color:"#EC4899",name:"Pink"},{color:"#14B8A6",name:"Teal"}].map(e=>(0,S.jsxs)("button",{type:"button",onClick:()=>a(t=>({...t,brandColor:e.color})),className:"flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors "+(n.brandColor.toLowerCase()===e.color.toLowerCase()?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-300"),children:[(0,S.jsx)("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:e.color}}),(0,S.jsx)("span",{className:"text-sm",children:e.name})]},e.color))})]})]}),(0,S.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,S.jsx)("h4",{className:"font-medium text-blue-900 mb-1",children:"Theme Preview"}),(0,S.jsx)("p",{className:"text-sm text-blue-700",children:"After saving, the selected theme will be applied to your site. Visit your site to see the changes in action."})]})]}),"homepage"===g&&(0,S.jsxs)("div",{className:"space-y-4",children:[(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,S.jsxs)("button",{type:"button",onClick:()=>x("hero"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Hero Section"}),b.hero?(0,S.jsx)($.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,S.jsx)(U.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),b.hero&&(0,S.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Badge Text (above heading)"}),(0,S.jsx)("input",{type:"text",value:n.heroBadgeText,onChange:e=>a(t=>({...t,heroBadgeText:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Trusted Since 2010"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Style"}),(0,S.jsxs)("select",{value:n.heroStyle,onChange:e=>a(t=>({...t,heroStyle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,S.jsx)("option",{value:"gradient",children:"Gradient Background"}),(0,S.jsx)("option",{value:"image",children:"Background Image"}),(0,S.jsx)("option",{value:"video",children:"Background Video"})]})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Heading"}),(0,S.jsx)("input",{type:"text",value:n.heroHeading,onChange:e=>a(t=>({...t,heroHeading:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Professional Services"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heading Accent (colored)"}),(0,S.jsx)("input",{type:"text",value:n.heroHeadingAccent,onChange:e=>a(t=>({...t,heroHeadingAccent:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"You Can Trust"})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subheading / Secondary Text"}),(0,S.jsx)("input",{type:"text",value:n.heroSubheading,onChange:e=>a(t=>({...t,heroSubheading:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Quality workmanship, reliable service, and complete customer satisfaction guaranteed."})]}),"image"===n.heroStyle&&(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Image URL"}),(0,S.jsx)("input",{type:"url",value:n.heroImageUrl,onChange:e=>a(t=>({...t,heroImageUrl:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://example.com/hero-image.jpg"})]}),"video"===n.heroStyle&&(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Video URL"}),(0,S.jsx)("input",{type:"url",value:n.heroVideoUrl,onChange:e=>a(t=>({...t,heroVideoUrl:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://example.com/hero-video.mp4"})]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary CTA Text"}),(0,S.jsx)("input",{type:"text",value:n.heroCTAText,onChange:e=>a(t=>({...t,heroCTAText:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Get a Free Quote"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary CTA Text"}),(0,S.jsx)("input",{type:"text",value:n.heroSecondaryCTAText,onChange:e=>a(t=>({...t,heroSecondaryCTAText:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Services"})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Trust Badges (shown below heading)"}),(0,S.jsxs)("button",{type:"button",onClick:function(){a(e=>({...e,trustBadges:[...e.trustBadges,{text:"",icon:"check-circle"}]}))},className:"flex items-center gap-1 text-sm text-brand hover:text-brand-dark",children:[(0,S.jsx)(N.Plus,{className:"w-4 h-4"})," Add Badge"]})]}),(0,S.jsx)("div",{className:"space-y-3",children:n.trustBadges.map((e,t)=>(0,S.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,S.jsx)("select",{value:e.icon,onChange:e=>M(t,"icon",e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",children:tf.map(e=>(0,S.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,S.jsx)("input",{type:"text",value:e.text,onChange:e=>M(t,"text",e.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Badge text"}),(0,S.jsx)("button",{type:"button",onClick:()=>{a(e=>({...e,trustBadges:e.trustBadges.filter((e,r)=>r!==t)}))},className:"text-gray-400 hover:text-red-500",children:(0,S.jsx)(T.X,{className:"w-5 h-5"})})]},t))})]})]})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,S.jsxs)("button",{type:"button",onClick:()=>x("sections"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Section Visibility"}),b.sections?(0,S.jsx)($.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,S.jsx)(U.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),b.sections&&(0,S.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-4",children:[(0,S.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Toggle which sections appear on your homepage"}),[{key:"showProcess",label:"How It Works / Process Steps"},{key:"showWhyChooseUs",label:"Why Choose Us"},{key:"showSpecialties",label:"Specialties / Materials"},{key:"showBadges",label:"Commitment Badges"},{key:"showStats",label:"Stats / Counters"},{key:"showTestimonials",label:"Testimonials"},{key:"showTeam",label:"Team Members"},{key:"showFaq",label:"FAQ Section"},{key:"showMapEmbed",label:"Footer Map Embed"}].map(e=>(0,S.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer py-2",children:[(0,S.jsx)("input",{type:"checkbox",checked:n[e.key],onChange:t=>a(r=>({...r,[e.key]:t.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,S.jsx)("span",{className:"text-gray-700",children:e.label})]},e.key))]})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,S.jsxs)("button",{type:"button",onClick:()=>x("process"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"How It Works"}),b.process?(0,S.jsx)($.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,S.jsx)(U.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),b.process&&(0,S.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,S.jsx)("input",{type:"text",value:n.processTitle,onChange:e=>a(t=>({...t,processTitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Simple Process"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CTA Button Text"}),(0,S.jsx)("input",{type:"text",value:n.processCTAText,onChange:e=>a(t=>({...t,processCTAText:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Get Your Free Estimate"})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Subtitle"}),(0,S.jsx)("input",{type:"text",value:n.processSubtitle,onChange:e=>a(t=>({...t,processSubtitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"From consultation to completion, we make it easy"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Process Steps"}),(0,S.jsx)("div",{className:"space-y-4",children:n.process.map((e,t)=>(0,S.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,S.jsx)(A.GripVertical,{className:"w-5 h-5 text-gray-400 mt-3"}),(0,S.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Step ",t+1," Title"]}),(0,S.jsx)("input",{type:"text",value:e.title,onChange:e=>j(t,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm"})]}),(0,S.jsxs)("div",{className:"md:col-span-2",children:[(0,S.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),(0,S.jsx)("input",{type:"text",value:e.description,onChange:e=>j(t,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm"})]})]})]},t))})]})]})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,S.jsxs)("button",{type:"button",onClick:()=>x("whychooseus"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Why Choose Us"}),b.whychooseus?(0,S.jsx)($.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,S.jsx)(U.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),b.whychooseus&&(0,S.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,S.jsx)("input",{type:"text",value:n.whyChooseUsTitle,onChange:e=>a(t=>({...t,whyChooseUsTitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Why Choose Us?"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Heading"}),(0,S.jsx)("input",{type:"text",value:n.whyChooseUsHeading,onChange:e=>a(t=>({...t,whyChooseUsHeading:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Quality You Can Trust"})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Text"}),(0,S.jsx)("textarea",{value:n.whyChooseUsText,onChange:e=>a(t=>({...t,whyChooseUsText:e.target.value})),rows:6,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Tell customers why they should choose your business..."})]}),(0,S.jsxs)("div",{className:"border-t pt-6",children:[(0,S.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer mb-4",children:[(0,S.jsx)("input",{type:"checkbox",checked:n.emergencyBannerEnabled,onChange:e=>a(t=>({...t,emergencyBannerEnabled:e.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,S.jsx)("span",{className:"text-gray-700 font-medium",children:"Show Emergency Services Banner"})]}),n.emergencyBannerEnabled&&(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Text"}),(0,S.jsx)("input",{type:"text",value:n.emergencyBannerText,onChange:e=>a(t=>({...t,emergencyBannerText:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Available for Emergency Services!"})]})]})]})]})]}),"services"===g&&(0,S.jsxs)("div",{className:"space-y-4",children:[(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,S.jsxs)("button",{type:"button",onClick:()=>x("specialties"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Specialties & Services"}),b.specialties?(0,S.jsx)($.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,S.jsx)(U.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),b.specialties&&(0,S.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,S.jsx)("input",{type:"text",value:n.specialtiesTitle,onChange:e=>a(t=>({...t,specialtiesTitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Specialties"})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Specialty Items"}),(0,S.jsxs)("button",{type:"button",onClick:function(){a(e=>({...e,specialties:[...e.specialties,{id:Date.now().toString(),name:"",description:""}]}))},className:"flex items-center gap-1 text-sm text-brand hover:text-brand-dark",children:[(0,S.jsx)(N.Plus,{className:"w-4 h-4"})," Add Specialty"]})]}),(0,S.jsxs)("div",{className:"space-y-4",children:[n.specialties.map((e,t)=>(0,S.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,S.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,S.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["Item ",t+1]}),(0,S.jsx)("button",{type:"button",onClick:()=>{a(e=>({...e,specialties:e.specialties.filter((e,r)=>r!==t)}))},className:"text-gray-400 hover:text-red-500",children:(0,S.jsx)(T.X,{className:"w-5 h-5"})})]}),(0,S.jsxs)("div",{className:"space-y-3",children:[(0,S.jsx)("input",{type:"text",value:e.name,onChange:e=>F(t,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Specialty name"}),(0,S.jsx)("textarea",{value:e.description,onChange:e=>F(t,"description",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Description"})]})]},e.id||t)),0===n.specialties.length&&(0,S.jsx)("p",{className:"text-gray-500 text-sm text-center py-8",children:'No specialties added yet. Click "Add Specialty" to add one.'})]})]}),(0,S.jsx)("div",{className:"border-t pt-6",children:(0,S.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,S.jsx)("h4",{className:"font-medium text-blue-900 mb-1",children:"Manage Your Services"}),(0,S.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Add, edit, and organize your services with full details including pricing, features, and images."}),(0,S.jsxs)("a",{href:"/admin/services",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:["Go to Services",(0,S.jsx)(I.ExternalLink,{className:"w-4 h-4"})]})]})})]})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,S.jsxs)("button",{type:"button",onClick:()=>x("badges"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Trust Badges & Stats"}),b.badges?(0,S.jsx)($.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,S.jsx)(U.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),b.badges&&(0,S.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,S.jsx)("input",{type:"text",value:n.badgesTitle,onChange:e=>a(t=>({...t,badgesTitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Commitment to Excellence"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Subtitle"}),(0,S.jsx)("input",{type:"text",value:n.badgesSubtitle,onChange:e=>a(t=>({...t,badgesSubtitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Why customers choose us"})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Commitment Badges"}),(0,S.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.badges.map((e,t)=>(0,S.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Icon"}),(0,S.jsx)("select",{value:e.icon,onChange:e=>G(t,"icon",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",children:tf.map(e=>(0,S.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Color"}),(0,S.jsx)("input",{type:"color",value:e.color,onChange:e=>G(t,"color",e.target.value),className:"w-full h-10 border border-gray-200 rounded-lg cursor-pointer"})]})]}),(0,S.jsxs)("div",{className:"space-y-3",children:[(0,S.jsx)("input",{type:"text",value:e.title,onChange:e=>G(t,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Badge title"}),(0,S.jsx)("input",{type:"text",value:e.description,onChange:e=>G(t,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Badge description"})]})]},t))})]}),(0,S.jsxs)("div",{className:"border-t pt-6",children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Statistics (shown in dark bar below badges)"}),(0,S.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.stats.map((e,t)=>(0,S.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,S.jsxs)("div",{className:"mb-3",children:[(0,S.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Value"}),(0,S.jsx)("input",{type:"text",value:e.value,onChange:e=>q(t,"value",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"10+"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Label"}),(0,S.jsx)("input",{type:"text",value:e.label,onChange:e=>q(t,"label",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Years Experience"})]})]},t))})]})]})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,S.jsxs)("button",{type:"button",onClick:()=>x("testimonials"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Testimonials"}),b.testimonials?(0,S.jsx)($.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,S.jsx)(U.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),b.testimonials&&(0,S.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,S.jsx)("input",{type:"text",value:n.testimonialsTitle,onChange:e=>a(t=>({...t,testimonialsTitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"What Our Customers Say"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Subtitle"}),(0,S.jsx)("input",{type:"text",value:n.testimonialsSubtitle,onChange:e=>a(t=>({...t,testimonialsSubtitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Real reviews from satisfied customers"})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Rating"}),(0,S.jsx)("input",{type:"number",min:"1",max:"5",step:"0.1",value:n.overallRating,onChange:e=>a(t=>({...t,overallRating:parseFloat(e.target.value)||5})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Review Count"}),(0,S.jsx)("input",{type:"number",min:"0",value:n.reviewCount,onChange:e=>a(t=>({...t,reviewCount:parseInt(e.target.value)||0})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Reviews Link"}),(0,S.jsx)("input",{type:"url",value:n.googleReviewsUrl,onChange:e=>a(t=>({...t,googleReviewsUrl:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://g.page/..."})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Testimonials"}),(0,S.jsxs)("button",{type:"button",onClick:function(){a(e=>({...e,testimonials:[...e.testimonials,{id:Date.now().toString(),rating:5,text:"",reviewerName:"",date:""}]}))},className:"flex items-center gap-1 text-sm text-brand hover:text-brand-dark",children:[(0,S.jsx)(N.Plus,{className:"w-4 h-4"})," Add Testimonial"]})]}),(0,S.jsxs)("div",{className:"space-y-4",children:[n.testimonials.map((e,t)=>(0,S.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,S.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["Review ",t+1]}),(0,S.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(r=>(0,S.jsx)("button",{type:"button",onClick:()=>W(t,"rating",r),className:"focus:outline-none",children:(0,S.jsx)(C.Star,{className:`w-5 h-5 ${r<=e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},r))})]}),(0,S.jsx)("button",{type:"button",onClick:()=>{a(e=>({...e,testimonials:e.testimonials.filter((e,r)=>r!==t)}))},className:"text-gray-400 hover:text-red-500",children:(0,S.jsx)(T.X,{className:"w-5 h-5"})})]}),(0,S.jsxs)("div",{className:"space-y-3",children:[(0,S.jsx)("textarea",{value:e.text,onChange:e=>W(t,"text",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Customer review text..."}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,S.jsx)("input",{type:"text",value:e.reviewerName,onChange:e=>W(t,"reviewerName",e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Reviewer name"}),(0,S.jsx)("input",{type:"text",value:e.date||"",onChange:e=>W(t,"date",e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Date (optional)"})]})]})]},e.id||t)),0===n.testimonials.length&&(0,S.jsx)("p",{className:"text-gray-500 text-sm text-center py-8",children:'No testimonials added yet. Click "Add Testimonial" to add one.'})]})]})]})]})]}),"contact"===g&&(0,S.jsxs)("div",{className:"space-y-4",children:[(0,S.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 space-y-6",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Contact Settings"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Mode"}),(0,S.jsxs)("select",{value:n.contactMode,onChange:e=>a(t=>({...t,contactMode:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,S.jsx)("option",{value:"form",children:"Contact Form"}),(0,S.jsx)("option",{value:"calendly",children:"Calendly Scheduling"}),(0,S.jsx)("option",{value:"phone",children:"Phone Only"})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,S.jsx)("input",{type:"tel",value:n.phoneNumber,onChange:e=>a(t=>({...t,phoneNumber:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"(555) 123-4567"})]}),"calendly"===n.contactMode&&(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calendly URL"}),(0,S.jsx)("input",{type:"url",value:n.calendlyUrl,onChange:e=>a(t=>({...t,calendlyUrl:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://calendly.com/yourbusiness"})]})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 space-y-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Booking Integration"}),(0,S.jsx)("p",{className:"text-sm text-gray-500",children:"Connect a third-party booking system like Calendly, Cal.com, Acuity, or any scheduling tool"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking URL"}),(0,S.jsx)("input",{type:"url",value:n.bookingUrl,onChange:e=>a(t=>({...t,bookingUrl:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://calendly.com/yourbusiness or https://cal.com/yourname"}),(0,S.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Supports Calendly, Cal.com, Acuity, Square, and most other booking platforms"})]}),n.bookingUrl&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Mode"}),(0,S.jsxs)("select",{value:n.bookingDisplayMode,onChange:e=>a(t=>({...t,bookingDisplayMode:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,S.jsx)("option",{value:"embed",children:"Embed (inline calendar)"}),(0,S.jsx)("option",{value:"popup",children:"Popup (modal window)"}),(0,S.jsx)("option",{value:"link",children:"Link (opens in new tab)"})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text"}),(0,S.jsx)("input",{type:"text",value:n.bookingButtonText,onChange:e=>a(t=>({...t,bookingButtonText:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Book Now"})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description Text (shown above booking widget)"}),(0,S.jsx)("input",{type:"text",value:n.bookingDescription,onChange:e=>a(t=>({...t,bookingDescription:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Schedule your appointment online"})]}),(0,S.jsxs)("div",{className:"border-t pt-6",children:[(0,S.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Where to Show Booking"}),(0,S.jsxs)("div",{className:"space-y-3",children:[(0,S.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,S.jsx)("input",{type:"checkbox",checked:n.showBookingOnHero,onChange:e=>a(t=>({...t,showBookingOnHero:e.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,S.jsx)("span",{className:"text-gray-700",children:"Show booking button in Hero section"})]}),(0,S.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,S.jsx)("input",{type:"checkbox",checked:n.showBookingOnServicePages,onChange:e=>a(t=>({...t,showBookingOnServicePages:e.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,S.jsx)("span",{className:"text-gray-700",children:"Show booking widget on individual service pages"})]}),(0,S.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,S.jsx)("input",{type:"checkbox",checked:n.showBookingPage,onChange:e=>a(t=>({...t,showBookingPage:e.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,S.jsx)("span",{className:"text-gray-700",children:"Create dedicated /booking page"})]})]})]}),(0,S.jsxs)("div",{className:"border-t pt-6",children:[(0,S.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Preview"}),(0,S.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:"embed"===n.bookingDisplayMode?(0,S.jsxs)("div",{className:"text-center text-gray-500 py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,S.jsx)("p",{children:"Calendar embed will appear here"}),(0,S.jsx)("p",{className:"text-sm mt-1",children:"Height: 630px"})]}):(0,S.jsx)("button",{type:"button",className:"inline-flex items-center gap-2 bg-brand text-gray-900 font-semibold px-6 py-3 rounded-lg hover:bg-brand-dark transition-colors",children:n.bookingButtonText||"Book Now"})})]})]})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,S.jsxs)("button",{type:"button",onClick:()=>x("footer"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,S.jsx)("h3",{className:"font-semibold text-gray-900",children:"Footer & Map"}),b.footer?(0,S.jsx)($.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,S.jsx)(U.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),b.footer&&(0,S.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,S.jsx)("input",{type:"text",value:n.address,onChange:e=>a(t=>({...t,address:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"123 Main Street, City, State 12345"})]}),(0,S.jsxs)("div",{className:"border-t pt-6",children:[(0,S.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Map Embed"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Map Section Title"}),(0,S.jsx)("input",{type:"text",value:n.mapTitle,onChange:e=>a(t=>({...t,mapTitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Service Area"})]}),(0,S.jsxs)("div",{className:"mt-4",children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps Embed URL"}),(0,S.jsx)("input",{type:"url",value:n.mapEmbedUrl,onChange:e=>a(t=>({...t,mapEmbedUrl:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://www.google.com/maps/embed?pb=..."}),(0,S.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Go to Google Maps  Share  Embed a map  Copy the src URL from the iframe"})]})]})]})]})]})]})}e.s(["default",()=>tg],775340)}]);