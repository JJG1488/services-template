module.exports=[4813,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(72692),g=a.i(33508);let h=(0,c.createContext)(null);function i({onLogin:a}){let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(!1);async function j(b){b.preventDefault(),g(""),i(!0),await a(d)||g("Invalid password"),i(!1)}return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Login"}),(0,b.jsxs)("form",{onSubmit:j,children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,b.jsx)("input",{id:"password",type:"password",value:d,onChange:a=>e(a.target.value),placeholder:"Enter admin password",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",autoFocus:!0})]}),f&&(0,b.jsx)("div",{className:"text-sm mb-4 p-3 rounded-lg bg-red-50 border border-red-200",children:(0,b.jsx)("p",{className:"text-red-600",children:f})}),(0,b.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-brand text-gray-900 font-semibold py-3 rounded-lg hover:bg-brand-dark disabled:opacity-50 transition-colors",children:h?"Verifying...":"Login"})]})]})})}function j({onLogout:a}){let h=(0,e.usePathname)(),[i,j]=(0,c.useState)(!1);(0,c.useEffect)(()=>{j(!1)},[h]);let k=[{href:"/admin",label:"Dashboard"},{href:"/admin/services",label:"Services"},{href:"/admin/inquiries",label:"Inquiries"},{href:"/admin/settings",label:"Settings"}];return(0,b.jsxs)("nav",{className:"bg-gray-900 text-white",children:[(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,b.jsx)(d.default,{href:"/admin",className:"font-bold text-lg",children:"Admin"}),(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[k.map(a=>(0,b.jsx)(d.default,{href:a.href,className:"hover:text-gray-300 "+(h===a.href?"text-white font-medium":"text-gray-400"),children:a.label},a.href)),(0,b.jsx)(d.default,{href:"/",className:"text-gray-400 hover:text-white text-sm",children:"View Site"}),(0,b.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white text-sm ml-2 px-3 py-1 border border-gray-600 rounded hover:border-gray-400 transition-colors",children:"Sign Out"})]}),(0,b.jsx)("button",{className:"md:hidden p-2 text-gray-400 hover:text-white",onClick:()=>j(!i),"aria-label":"Toggle menu",children:i?(0,b.jsx)(g.X,{className:"w-6 h-6"}):(0,b.jsx)(f.Menu,{className:"w-6 h-6"})})]})}),i&&(0,b.jsx)("div",{className:"md:hidden border-t border-gray-800",children:(0,b.jsxs)("div",{className:"px-4 py-3 space-y-1",children:[k.map(a=>(0,b.jsx)(d.default,{href:a.href,className:"block py-2 px-3 rounded-lg "+(h===a.href?"bg-gray-800 text-white font-medium":"text-gray-400 hover:bg-gray-800 hover:text-white"),children:a.label},a.href)),(0,b.jsx)("hr",{className:"border-gray-700 my-2"}),(0,b.jsx)(d.default,{href:"/",className:"block py-2 px-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-white",children:"View Site"}),(0,b.jsx)("button",{onClick:a,className:"block w-full text-left py-2 px-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-white",children:"Sign Out"})]})})]})}function k({children:a}){let[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)(!0);async function k(a){try{let b=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a})});if(b.ok){let{token:a}=await b.json();return localStorage.setItem("admin_token",a),e(!0),!0}return!1}catch{return!1}}function l(){localStorage.removeItem("admin_token"),e(!1)}return((0,c.useEffect)(()=>{let a=localStorage.getItem("admin_token");a?fetch("/api/admin/verify",{headers:{Authorization:"Bearer "+a}}).then(a=>{a.ok?e(!0):localStorage.removeItem("admin_token")}).catch(()=>localStorage.removeItem("admin_token")).finally(()=>g(!1)):g(!1)},[]),f)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("p",{children:"Loading..."})}):d?(0,b.jsx)(h.Provider,{value:{isAuthenticated:d,login:k,logout:l},children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,b.jsx)(j,{onLogout:l}),(0,b.jsx)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:a})]})}):(0,b.jsx)(i,{onLogin:k})}a.s(["default",()=>k],4813)}];

//# sourceMappingURL=templates_services_app_admin_layout_tsx_369125de._.js.map