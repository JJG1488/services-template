{"version":3,"sources":["../../../../../../templates/services/app/admin/menu/page.tsx","../../../../../../templates/services/types/menu.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Plus,\n  Trash2,\n  ChevronDown,\n  ChevronUp,\n  GripVertical,\n  Save,\n  Loader2,\n  Utensils,\n  FileText,\n  X,\n} from \"lucide-react\";\nimport type { MenuCategory, MenuItem, MenuItemVariation, DietaryTag } from \"@/types/menu\";\nimport { formatMenuPrice, dietaryTagConfig } from \"@/types/menu\";\n\nexport default function MenuAdminPage() {\n  const [categories, setCategories] = useState<(MenuCategory & { items: MenuItem[] })[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [expandedCategories, setExpandedCategories] = useState<Set<string>>(new Set());\n  const [editingItem, setEditingItem] = useState<MenuItem | null>(null);\n  const [editingCategory, setEditingCategory] = useState<MenuCategory | null>(null);\n  const [showNewCategoryForm, setShowNewCategoryForm] = useState(false);\n  const [showNewItemForm, setShowNewItemForm] = useState<string | null>(null);\n\n  // Fetch menu data\n  useEffect(() => {\n    async function fetchMenu() {\n      try {\n        const token = localStorage.getItem(\"admin_token\");\n        const res = await fetch(\"/api/admin/menu/categories\", {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        if (res.ok) {\n          const cats = await res.json();\n\n          // Fetch items for each category\n          const catsWithItems = await Promise.all(\n            cats.map(async (cat: MenuCategory) => {\n              const itemsRes = await fetch(\n                `/api/admin/menu/items?category=${cat.id}`,\n                { headers: { Authorization: `Bearer ${token}` } }\n              );\n              const items = itemsRes.ok ? await itemsRes.json() : [];\n              return { ...cat, items };\n            })\n          );\n\n          setCategories(catsWithItems);\n        }\n      } catch (err) {\n        console.error(\"Error fetching menu:\", err);\n        setError(\"Failed to load menu\");\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchMenu();\n  }, []);\n\n  function toggleCategory(id: string) {\n    setExpandedCategories((prev) => {\n      const next = new Set(prev);\n      if (next.has(id)) {\n        next.delete(id);\n      } else {\n        next.add(id);\n      }\n      return next;\n    });\n  }\n\n  async function handleCreateCategory(name: string) {\n    setSaving(true);\n    try {\n      const token = localStorage.getItem(\"admin_token\");\n      const res = await fetch(\"/api/admin/menu/categories\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ name }),\n      });\n\n      if (res.ok) {\n        const newCat = await res.json();\n        setCategories((prev) => [...prev, { ...newCat, items: [] }]);\n        setShowNewCategoryForm(false);\n        setExpandedCategories((prev) => new Set(prev).add(newCat.id));\n      }\n    } catch (err) {\n      console.error(\"Error creating category:\", err);\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  async function handleDeleteCategory(id: string) {\n    if (!confirm(\"Delete this category and all its items?\")) return;\n\n    try {\n      const token = localStorage.getItem(\"admin_token\");\n      await fetch(`/api/admin/menu/categories/${id}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      setCategories((prev) => prev.filter((c) => c.id !== id));\n    } catch (err) {\n      console.error(\"Error deleting category:\", err);\n    }\n  }\n\n  async function handleCreateItem(categoryId: string, item: Partial<MenuItem>) {\n    setSaving(true);\n    try {\n      const token = localStorage.getItem(\"admin_token\");\n      const res = await fetch(\"/api/admin/menu/items\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ ...item, category_id: categoryId }),\n      });\n\n      if (res.ok) {\n        const newItem = await res.json();\n        setCategories((prev) =>\n          prev.map((cat) =>\n            cat.id === categoryId\n              ? { ...cat, items: [...cat.items, newItem] }\n              : cat\n          )\n        );\n        setShowNewItemForm(null);\n      }\n    } catch (err) {\n      console.error(\"Error creating item:\", err);\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  async function handleUpdateItem(item: MenuItem) {\n    setSaving(true);\n    try {\n      const token = localStorage.getItem(\"admin_token\");\n      const res = await fetch(`/api/admin/menu/items/${item.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(item),\n      });\n\n      if (res.ok) {\n        const updated = await res.json();\n        setCategories((prev) =>\n          prev.map((cat) => ({\n            ...cat,\n            items: cat.items.map((i) => (i.id === item.id ? { ...i, ...updated } : i)),\n          }))\n        );\n        setEditingItem(null);\n      }\n    } catch (err) {\n      console.error(\"Error updating item:\", err);\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  async function handleDeleteItem(itemId: string, categoryId: string) {\n    if (!confirm(\"Delete this item?\")) return;\n\n    try {\n      const token = localStorage.getItem(\"admin_token\");\n      await fetch(`/api/admin/menu/items/${itemId}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      setCategories((prev) =>\n        prev.map((cat) =>\n          cat.id === categoryId\n            ? { ...cat, items: cat.items.filter((i) => i.id !== itemId) }\n            : cat\n        )\n      );\n    } catch (err) {\n      console.error(\"Error deleting item:\", err);\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <Loader2 className=\"w-8 h-8 text-brand animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Utensils className=\"w-7 h-7 text-brand\" />\n          <h1 className=\"text-2xl font-bold\">Menu Builder</h1>\n        </div>\n        <button\n          onClick={() => setShowNewCategoryForm(true)}\n          className=\"flex items-center gap-2 bg-brand text-gray-900 font-semibold px-4 py-2 rounded-lg hover:bg-brand-dark transition-colors\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Add Category\n        </button>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg\">\n          {error}\n        </div>\n      )}\n\n      {/* New Category Form */}\n      {showNewCategoryForm && (\n        <NewCategoryForm\n          onSubmit={handleCreateCategory}\n          onCancel={() => setShowNewCategoryForm(false)}\n          saving={saving}\n        />\n      )}\n\n      {/* Categories List */}\n      {categories.length === 0 && !showNewCategoryForm ? (\n        <div className=\"bg-white rounded-xl p-12 text-center border border-gray-100\">\n          <Utensils className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n            No menu categories yet\n          </h3>\n          <p className=\"text-gray-500 mb-6\">\n            Start by adding a category like &quot;Appetizers&quot; or &quot;Main Courses&quot;\n          </p>\n          <button\n            onClick={() => setShowNewCategoryForm(true)}\n            className=\"inline-flex items-center gap-2 bg-brand text-gray-900 font-semibold px-6 py-3 rounded-lg hover:bg-brand-dark transition-colors\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            Add Your First Category\n          </button>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {categories.map((category) => (\n            <CategoryCard\n              key={category.id}\n              category={category}\n              expanded={expandedCategories.has(category.id)}\n              onToggle={() => toggleCategory(category.id)}\n              onDelete={() => handleDeleteCategory(category.id)}\n              onAddItem={() => setShowNewItemForm(category.id)}\n              onEditItem={setEditingItem}\n              onDeleteItem={(itemId) => handleDeleteItem(itemId, category.id)}\n              showNewItemForm={showNewItemForm === category.id}\n              onCreateItem={(item) => handleCreateItem(category.id, item)}\n              onCancelNewItem={() => setShowNewItemForm(null)}\n              saving={saving}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Edit Item Modal */}\n      {editingItem && (\n        <ItemEditModal\n          item={editingItem}\n          categories={categories}\n          onSave={handleUpdateItem}\n          onCancel={() => setEditingItem(null)}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\n// ============================================================================\n// Sub-components\n// ============================================================================\n\nfunction NewCategoryForm({\n  onSubmit,\n  onCancel,\n  saving,\n}: {\n  onSubmit: (name: string) => void;\n  onCancel: () => void;\n  saving: boolean;\n}) {\n  const [name, setName] = useState(\"\");\n\n  return (\n    <div className=\"bg-white rounded-xl p-6 border border-gray-200\">\n      <h3 className=\"font-semibold mb-4\">New Category</h3>\n      <div className=\"flex gap-3\">\n        <input\n          type=\"text\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          placeholder=\"e.g., Appetizers, Main Courses, Desserts\"\n          className=\"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand\"\n          autoFocus\n        />\n        <button\n          onClick={() => name.trim() && onSubmit(name.trim())}\n          disabled={!name.trim() || saving}\n          className=\"px-4 py-2 bg-brand text-gray-900 font-semibold rounded-lg disabled:opacity-50\"\n        >\n          {saving ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : \"Create\"}\n        </button>\n        <button\n          onClick={onCancel}\n          className=\"px-4 py-2 text-gray-600 hover:text-gray-900\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction CategoryCard({\n  category,\n  expanded,\n  onToggle,\n  onDelete,\n  onAddItem,\n  onEditItem,\n  onDeleteItem,\n  showNewItemForm,\n  onCreateItem,\n  onCancelNewItem,\n  saving,\n}: {\n  category: MenuCategory & { items: MenuItem[] };\n  expanded: boolean;\n  onToggle: () => void;\n  onDelete: () => void;\n  onAddItem: () => void;\n  onEditItem: (item: MenuItem) => void;\n  onDeleteItem: (itemId: string) => void;\n  showNewItemForm: boolean;\n  onCreateItem: (item: Partial<MenuItem>) => void;\n  onCancelNewItem: () => void;\n  saving: boolean;\n}) {\n  return (\n    <div className=\"bg-white rounded-xl border border-gray-100 overflow-hidden\">\n      {/* Category Header */}\n      <div\n        className=\"flex items-center justify-between px-6 py-4 cursor-pointer hover:bg-gray-50\"\n        onClick={onToggle}\n      >\n        <div className=\"flex items-center gap-3\">\n          <GripVertical className=\"w-5 h-5 text-gray-300\" />\n          <h3 className=\"font-semibold text-lg\">{category.name}</h3>\n          <span className=\"text-sm text-gray-500\">\n            ({category.items.length} items)\n          </span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete();\n            }}\n            className=\"p-2 text-gray-400 hover:text-red-500 transition-colors\"\n          >\n            <Trash2 className=\"w-4 h-4\" />\n          </button>\n          {expanded ? (\n            <ChevronUp className=\"w-5 h-5 text-gray-400\" />\n          ) : (\n            <ChevronDown className=\"w-5 h-5 text-gray-400\" />\n          )}\n        </div>\n      </div>\n\n      {/* Items List */}\n      {expanded && (\n        <div className=\"border-t border-gray-100\">\n          {category.items.length === 0 && !showNewItemForm ? (\n            <div className=\"px-6 py-8 text-center text-gray-500\">\n              <p className=\"mb-3\">No items in this category</p>\n              <button\n                onClick={onAddItem}\n                className=\"text-brand hover:text-brand-dark font-medium\"\n              >\n                + Add first item\n              </button>\n            </div>\n          ) : (\n            <div className=\"divide-y divide-gray-50\">\n              {category.items.map((item) => (\n                <div\n                  key={item.id}\n                  className=\"flex items-center justify-between px-6 py-3 hover:bg-gray-50\"\n                >\n                  <div className=\"flex items-center gap-4\">\n                    <GripVertical className=\"w-4 h-4 text-gray-300\" />\n                    {item.image_url ? (\n                      <img\n                        src={item.image_url}\n                        alt={item.name}\n                        className=\"w-10 h-10 rounded-lg object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center\">\n                        <Utensils className=\"w-5 h-5 text-gray-400\" />\n                      </div>\n                    )}\n                    <div>\n                      <p className=\"font-medium\">{item.name}</p>\n                      {item.dietary_tags && item.dietary_tags.length > 0 && (\n                        <div className=\"flex gap-1 mt-1\">\n                          {item.dietary_tags.slice(0, 3).map((tag) => (\n                            <span\n                              key={tag}\n                              className=\"text-xs px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded\"\n                            >\n                              {dietaryTagConfig[tag]?.label || tag}\n                            </span>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-4\">\n                    <span className=\"font-medium text-gray-900\">\n                      {formatMenuPrice(item.price)}\n                    </span>\n                    <span\n                      className={`text-xs px-2 py-0.5 rounded ${\n                        item.is_available\n                          ? \"bg-green-100 text-green-700\"\n                          : \"bg-red-100 text-red-700\"\n                      }`}\n                    >\n                      {item.is_available ? \"Available\" : \"Unavailable\"}\n                    </span>\n                    <button\n                      onClick={() => onEditItem(item)}\n                      className=\"text-brand hover:text-brand-dark text-sm font-medium\"\n                    >\n                      Edit\n                    </button>\n                    <button\n                      onClick={() => onDeleteItem(item.id)}\n                      className=\"text-gray-400 hover:text-red-500\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                </div>\n              ))}\n\n              {/* New Item Form */}\n              {showNewItemForm && (\n                <NewItemForm\n                  onSubmit={onCreateItem}\n                  onCancel={onCancelNewItem}\n                  saving={saving}\n                />\n              )}\n\n              {/* Add Item Button */}\n              {!showNewItemForm && (\n                <div className=\"px-6 py-3\">\n                  <button\n                    onClick={onAddItem}\n                    className=\"flex items-center gap-2 text-brand hover:text-brand-dark font-medium\"\n                  >\n                    <Plus className=\"w-4 h-4\" />\n                    Add Item\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction NewItemForm({\n  onSubmit,\n  onCancel,\n  saving,\n}: {\n  onSubmit: (item: Partial<MenuItem>) => void;\n  onCancel: () => void;\n  saving: boolean;\n}) {\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  return (\n    <div className=\"px-6 py-4 bg-gray-50\">\n      <div className=\"grid grid-cols-3 gap-4\">\n        <input\n          type=\"text\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          placeholder=\"Item name\"\n          className=\"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand\"\n          autoFocus\n        />\n        <input\n          type=\"number\"\n          value={price}\n          onChange={(e) => setPrice(e.target.value)}\n          placeholder=\"Price (e.g., 12.99)\"\n          step=\"0.01\"\n          className=\"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand\"\n        />\n        <input\n          type=\"text\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"Description (optional)\"\n          className=\"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand\"\n        />\n      </div>\n      <div className=\"flex gap-3 mt-3\">\n        <button\n          onClick={() =>\n            name.trim() &&\n            onSubmit({\n              name: name.trim(),\n              price: price ? Math.round(parseFloat(price) * 100) : undefined,\n              description: description.trim() || undefined,\n            })\n          }\n          disabled={!name.trim() || saving}\n          className=\"px-4 py-2 bg-brand text-gray-900 font-semibold rounded-lg disabled:opacity-50\"\n        >\n          {saving ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : \"Add\"}\n        </button>\n        <button onClick={onCancel} className=\"px-4 py-2 text-gray-600\">\n          Cancel\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction ItemEditModal({\n  item,\n  categories,\n  onSave,\n  onCancel,\n  saving,\n}: {\n  item: MenuItem;\n  categories: MenuCategory[];\n  onSave: (item: MenuItem) => void;\n  onCancel: () => void;\n  saving: boolean;\n}) {\n  const [formData, setFormData] = useState({\n    ...item,\n    price: item.price ? (item.price / 100).toString() : \"\",\n    dietary_tags: item.dietary_tags || [],\n  });\n\n  const allDietaryTags: DietaryTag[] = [\n    \"vegetarian\",\n    \"vegan\",\n    \"gluten-free\",\n    \"spicy\",\n    \"nut-free\",\n    \"dairy-free\",\n  ];\n\n  function toggleDietaryTag(tag: DietaryTag) {\n    setFormData((prev) => ({\n      ...prev,\n      dietary_tags: prev.dietary_tags.includes(tag)\n        ? prev.dietary_tags.filter((t) => t !== tag)\n        : [...prev.dietary_tags, tag],\n    }));\n  }\n\n  function handleSave() {\n    onSave({\n      ...formData,\n      price: formData.price ? Math.round(parseFloat(formData.price) * 100) : undefined,\n    } as MenuItem);\n  }\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\"\n      onClick={onCancel}\n    >\n      <div\n        className=\"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"flex items-center justify-between px-6 py-4 border-b\">\n          <h3 className=\"text-lg font-semibold\">Edit Item</h3>\n          <button onClick={onCancel} className=\"p-2 hover:bg-gray-100 rounded-lg\">\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          {/* Name */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Name *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) =>\n                setFormData((prev) => ({ ...prev, name: e.target.value }))\n              }\n              className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand\"\n            />\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Description\n            </label>\n            <textarea\n              value={formData.description || \"\"}\n              onChange={(e) =>\n                setFormData((prev) => ({ ...prev, description: e.target.value }))\n              }\n              rows={3}\n              className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand\"\n            />\n          </div>\n\n          {/* Price & Category */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Price ($)\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={formData.price}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, price: e.target.value }))\n                }\n                placeholder=\"Leave empty for Market Price\"\n                className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Category\n              </label>\n              <select\n                value={formData.category_id || \"\"}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, category_id: e.target.value }))\n                }\n                className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand\"\n              >\n                {categories.map((cat) => (\n                  <option key={cat.id} value={cat.id}>\n                    {cat.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Dietary Tags */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Dietary Tags\n            </label>\n            <div className=\"flex flex-wrap gap-2\">\n              {allDietaryTags.map((tag) => (\n                <button\n                  key={tag}\n                  type=\"button\"\n                  onClick={() => toggleDietaryTag(tag)}\n                  className={`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${\n                    formData.dietary_tags.includes(tag)\n                      ? \"bg-brand text-gray-900\"\n                      : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\n                  }`}\n                >\n                  {dietaryTagConfig[tag]?.label || tag}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Status */}\n          <div className=\"flex gap-6\">\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.is_available}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, is_available: e.target.checked }))\n                }\n                className=\"w-4 h-4 text-brand rounded\"\n              />\n              <span>Available</span>\n            </label>\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.is_featured}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, is_featured: e.target.checked }))\n                }\n                className=\"w-4 h-4 text-brand rounded\"\n              />\n              <span>Featured</span>\n            </label>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end gap-3 px-6 py-4 border-t\">\n          <button\n            onClick={onCancel}\n            className=\"px-4 py-2 text-gray-600 hover:text-gray-900\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"flex items-center gap-2 px-6 py-2 bg-brand text-gray-900 font-semibold rounded-lg disabled:opacity-50\"\n          >\n            {saving ? (\n              <Loader2 className=\"w-5 h-5 animate-spin\" />\n            ) : (\n              <Save className=\"w-5 h-5\" />\n            )}\n            Save Changes\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * Menu Types for Services Template\n */\n\nexport type DietaryTag =\n  | \"vegetarian\"\n  | \"vegan\"\n  | \"gluten-free\"\n  | \"spicy\"\n  | \"nut-free\"\n  | \"dairy-free\"\n  | \"keto\"\n  | \"halal\"\n  | \"kosher\";\n\nexport type Allergen =\n  | \"nuts\"\n  | \"dairy\"\n  | \"gluten\"\n  | \"shellfish\"\n  | \"eggs\"\n  | \"soy\"\n  | \"fish\"\n  | \"sesame\";\n\n/**\n * Dietary tag display configuration\n */\nexport const dietaryTagConfig: Record<\n  DietaryTag,\n  { label: string; icon: string; color: string }\n> = {\n  vegetarian: { label: \"Vegetarian\", icon: \"leaf\", color: \"#22c55e\" },\n  vegan: { label: \"Vegan\", icon: \"sprout\", color: \"#16a34a\" },\n  \"gluten-free\": { label: \"Gluten Free\", icon: \"wheat-off\", color: \"#f59e0b\" },\n  spicy: { label: \"Spicy\", icon: \"flame\", color: \"#ef4444\" },\n  \"nut-free\": { label: \"Nut Free\", icon: \"circle-slash\", color: \"#a16207\" },\n  \"dairy-free\": { label: \"Dairy Free\", icon: \"droplet-off\", color: \"#3b82f6\" },\n  keto: { label: \"Keto\", icon: \"bacon\", color: \"#8b5cf6\" },\n  halal: { label: \"Halal\", icon: \"check-circle\", color: \"#059669\" },\n  kosher: { label: \"Kosher\", icon: \"star\", color: \"#0891b2\" },\n};\n\n/**\n * Menu category (e.g., Appetizers, Entrees, Desserts)\n */\nexport interface MenuCategory {\n  id: string;\n  store_id: string;\n  name: string;\n  slug: string;\n  description?: string;\n  image_url?: string;\n  display_order: number;\n  is_active: boolean;\n  created_at: string;\n  updated_at: string;\n  // Populated by API\n  items?: MenuItem[];\n  item_count?: number;\n}\n\n/**\n * Size/price variation for a menu item\n */\nexport interface MenuItemVariation {\n  id: string;\n  menu_item_id: string;\n  name: string; // e.g., \"Small\", \"Medium\", \"Large\"\n  price: number; // In cents\n  description?: string; // e.g., \"8 oz\", \"12 oz\"\n  is_default: boolean;\n  display_order: number;\n  is_available: boolean;\n}\n\n/**\n * Individual menu item\n */\nexport interface MenuItem {\n  id: string;\n  store_id: string;\n  category_id?: string;\n  name: string;\n  slug: string;\n  description?: string;\n  price?: number; // In cents, null = \"Market Price\"\n  price_note?: string; // e.g., \"per pound\", \"serves 4-6\"\n  image_url?: string;\n  dietary_tags: DietaryTag[];\n  allergens?: Allergen[];\n  spice_level?: number; // 0-5 scale\n  calories?: number;\n  is_featured: boolean;\n  is_available: boolean;\n  display_order: number;\n  created_at: string;\n  updated_at: string;\n  // Populated by API\n  variations?: MenuItemVariation[];\n  category_name?: string;\n}\n\n/**\n * PDF menu document\n */\nexport interface MenuPdf {\n  id: string;\n  store_id: string;\n  name: string;\n  file_url: string;\n  display_order: number;\n  is_active: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\n/**\n * Full menu structure for frontend display\n */\nexport interface MenuDisplay {\n  categories: (MenuCategory & { items: MenuItem[] })[];\n  pdfs: MenuPdf[];\n}\n\n/**\n * Menu settings stored in RuntimeSettings\n */\nexport interface MenuSettings {\n  showMenu: boolean;\n  menuTitle: string;\n  menuSubtitle: string;\n  menuStyle: \"grid\" | \"list\" | \"compact\";\n  showMenuPrices: boolean;\n  showDietaryTags: boolean;\n  showAllergens: boolean;\n}\n\n/**\n * Format price in cents to display string\n */\nexport function formatMenuPrice(priceInCents: number | null | undefined): string {\n  if (priceInCents === null || priceInCents === undefined) {\n    return \"Market Price\";\n  }\n\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2,\n  }).format(priceInCents / 100);\n}\n\n/**\n * Generate slug from name\n */\nexport function generateMenuSlug(name: string): string {\n  return name\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s-]/g, \"\")\n    .replace(/\\s+/g, \"-\")\n    .replace(/-+/g, \"-\")\n    .trim();\n}\n"],"names":[],"mappings":"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"}