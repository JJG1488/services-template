module.exports=[852100,a=>{"use strict";var b=function(a,c){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,c)};function c(a,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=a}b(a,c),a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}var d=function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function e(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function f(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function g(a,b){return function(c,d){b(c,d,a)}}function h(a,b,c,d,e,f){function g(a){if(void 0!==a&&"function"!=typeof a)throw TypeError("Function expected");return a}for(var h,i=d.kind,j="getter"===i?"get":"setter"===i?"set":"value",k=!b&&a?d.static?a:a.prototype:null,l=b||(k?Object.getOwnPropertyDescriptor(k,d.name):{}),m=!1,n=c.length-1;n>=0;n--){var o={};for(var p in d)o[p]="access"===p?{}:d[p];for(var p in d.access)o.access[p]=d.access[p];o.addInitializer=function(a){if(m)throw TypeError("Cannot add initializers after decoration has completed");f.push(g(a||null))};var q=(0,c[n])("accessor"===i?{get:l.get,set:l.set}:l[j],o);if("accessor"===i){if(void 0===q)continue;if(null===q||"object"!=typeof q)throw TypeError("Object expected");(h=g(q.get))&&(l.get=h),(h=g(q.set))&&(l.set=h),(h=g(q.init))&&e.unshift(h)}else(h=g(q))&&("field"===i?e.unshift(h):l[j]=h)}k&&Object.defineProperty(k,d.name,l),m=!0}function i(a,b,c){for(var d=arguments.length>2,e=0;e<b.length;e++)c=d?b[e].call(a,c):b[e].call(a);return d?c:void 0}function j(a){return"symbol"==typeof a?a:"".concat(a)}function k(a,b,c){return"symbol"==typeof b&&(b=b.description?"[".concat(b.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:c?"".concat(c," ",b):b})}function l(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function m(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function n(a,b){var c,d,e,f={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=h(0),g.throw=h(1),g.return=h(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function h(h){return function(i){var j=[h,i];if(c)throw TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(f=0)),f;)try{if(c=1,d&&(e=2&j[0]?d.return:j[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,j[1])).done)return e;switch(d=0,e&&(j=[2&j[0],e.value]),j[0]){case 0:case 1:e=j;break;case 4:return f.label++,{value:j[1],done:!1};case 5:f.label++,d=j[1],j=[0];continue;case 7:j=f.ops.pop(),f.trys.pop();continue;default:if(!(e=(e=f.trys).length>0&&e[e.length-1])&&(6===j[0]||2===j[0])){f=0;continue}if(3===j[0]&&(!e||j[1]>e[0]&&j[1]<e[3])){f.label=j[1];break}if(6===j[0]&&f.label<e[1]){f.label=e[1],e=j;break}if(e&&f.label<e[2]){f.label=e[2],f.ops.push(j);break}e[2]&&f.ops.pop(),f.trys.pop();continue}j=b.call(a,f)}catch(a){j=[6,a],d=0}finally{c=e=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}}var o=Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]};function p(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||o(b,a,c)}function q(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function r(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function s(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(r(arguments[b]));return a}function t(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function u(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}function v(a){return this instanceof v?(this.v=a,this):new v(a)}function w(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",function(a){return function(b){return Promise.resolve(b).then(a,j)}}),d[Symbol.asyncIterator]=function(){return this},d;function g(a,b){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})},b&&(d[a]=b(d[a])))}function h(a,b){try{var c;(c=e[a](b)).value instanceof v?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function x(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:v(a[d](b)),done:!1}:e?e(b):b}:e}}function y(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=q(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}}function z(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}var A=Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b},B=function(a){return(B=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[b.length]=c);return b})(a)};function C(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c=B(a),d=0;d<c.length;d++)"default"!==c[d]&&o(b,a,c[d]);return A(b,a),b}function D(a){return a&&a.__esModule?a:{default:a}}function E(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)}function F(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c}function G(a,b){if(null===b||"object"!=typeof b&&"function"!=typeof b)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof a?b===a:a.has(b)}function H(a,b,c){if(null!=b){var d,e;if("object"!=typeof b&&"function"!=typeof b)throw TypeError("Object expected.");if(c){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");d=b[Symbol.asyncDispose]}if(void 0===d){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");d=b[Symbol.dispose],c&&(e=d)}if("function"!=typeof d)throw TypeError("Object not disposable.");e&&(d=function(){try{e.call(this)}catch(a){return Promise.reject(a)}}),a.stack.push({value:b,dispose:d,async:c})}else c&&a.stack.push({async:!0});return b}var I="function"==typeof SuppressedError?SuppressedError:function(a,b,c){var d=Error(c);return d.name="SuppressedError",d.error=a,d.suppressed=b,d};function J(a){function b(b){a.error=a.hasError?new I(b,a.error,"An error was suppressed during disposal."):b,a.hasError=!0}var c,d=0;return function e(){for(;c=a.stack.pop();)try{if(!c.async&&1===d)return d=0,a.stack.push(c),Promise.resolve().then(e);if(c.dispose){var f=c.dispose.call(c.value);if(c.async)return d|=2,Promise.resolve(f).then(e,function(a){return b(a),e()})}else d|=1}catch(a){b(a)}if(1===d)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}()}function K(a,b){return"string"==typeof a&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,c,d,e,f){return c?b?".jsx":".js":!d||e&&f?d+e+"."+f.toLowerCase()+"js":a}):a}let L={__extends:c,__assign:d,__rest:e,__decorate:f,__param:g,__esDecorate:h,__runInitializers:i,__propKey:j,__setFunctionName:k,__metadata:l,__awaiter:m,__generator:n,__createBinding:o,__exportStar:p,__values:q,__read:r,__spread:s,__spreadArrays:t,__spreadArray:u,__await:v,__asyncGenerator:w,__asyncDelegator:x,__asyncValues:y,__makeTemplateObject:z,__importStar:C,__importDefault:D,__classPrivateFieldGet:E,__classPrivateFieldSet:F,__classPrivateFieldIn:G,__addDisposableResource:H,__disposeResources:J,__rewriteRelativeImportExtension:K};a.s(["__addDisposableResource",()=>H,"__assign",()=>d,"__asyncDelegator",()=>x,"__asyncGenerator",()=>w,"__asyncValues",()=>y,"__await",()=>v,"__awaiter",()=>m,"__classPrivateFieldGet",()=>E,"__classPrivateFieldIn",()=>G,"__classPrivateFieldSet",()=>F,"__createBinding",()=>o,"__decorate",()=>f,"__disposeResources",()=>J,"__esDecorate",()=>h,"__exportStar",()=>p,"__extends",()=>c,"__generator",()=>n,"__importDefault",()=>D,"__importStar",()=>C,"__makeTemplateObject",()=>z,"__metadata",()=>l,"__param",()=>g,"__propKey",()=>j,"__read",()=>r,"__rest",()=>e,"__rewriteRelativeImportExtension",()=>K,"__runInitializers",()=>i,"__setFunctionName",()=>k,"__spread",()=>s,"__spreadArray",()=>u,"__spreadArrays",()=>t,"__values",()=>q,"default",0,L])},972124,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}},656592,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(852100).__importDefault(a.r(972124));c.default=class{constructor(a){var b,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=null!=(b=a.shouldThrowOnError)&&b,this.signal=a.signal,this.isMaybeSingle=null!=(c=a.isMaybeSingle)&&c,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,b){return this.headers=new Headers(this.headers),this.headers.set(a,b),this}then(a,b){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let c=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var b,c,e,f;let g=null,h=null,i=null,j=a.status,k=a.statusText;if(a.ok){if("HEAD"!==this.method){let c=await a.text();""===c||(h="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null==(b=this.headers.get("Accept"))?void 0:b.includes("application/vnd.pgrst.plan+text"))?c:JSON.parse(c))}let d=null==(c=this.headers.get("Prefer"))?void 0:c.match(/count=(exact|planned|estimated)/),f=null==(e=a.headers.get("content-range"))?void 0:e.split("/");d&&f&&f.length>1&&(i=parseInt(f[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(h)&&(h.length>1?(g={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,i=null,j=406,k="Not Acceptable"):h=1===h.length?h[0]:null)}else{let b=await a.text();try{g=JSON.parse(b),Array.isArray(g)&&404===a.status&&(h=[],g=null,j=200,k="OK")}catch(c){404===a.status&&""===b?(j=204,k="No Content"):g={message:b}}if(g&&this.isMaybeSingle&&(null==(f=null==g?void 0:g.details)?void 0:f.includes("0 rows"))&&(g=null,j=200,k="OK"),g&&this.shouldThrowOnError)throw new d.default(g)}return{error:g,data:h,count:i,status:j,statusText:k}});return this.shouldThrowOnError||(c=c.catch(a=>{var b,c,d,e,f,g;let h="",i=null==a?void 0:a.cause;if(i){let f=null!=(b=null==i?void 0:i.message)?b:"",g=null!=(c=null==i?void 0:i.code)?c:"";h=`${null!=(d=null==a?void 0:a.name)?d:"FetchError"}: ${null==a?void 0:a.message}

Caused by: ${null!=(e=null==i?void 0:i.name)?e:"Error"}: ${f}`,g&&(h+=` (${g})`),(null==i?void 0:i.stack)&&(h+=`
${i.stack}`)}else h=null!=(f=null==a?void 0:a.stack)?f:"";return{error:{message:`${null!=(g=null==a?void 0:a.name)?g:"FetchError"}: ${null==a?void 0:a.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(a,b)}returns(){return this}overrideTypes(){return this}}},798564,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(852100).__importDefault(a.r(656592));class e extends d.default{select(a){let b=!1,c=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!b?"":('"'===a&&(b=!b),a)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:b=!0,nullsFirst:c,foreignTable:d,referencedTable:e=d}={}){let f=e?`${e}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${b?"asc":"desc"}${void 0===c?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:b,referencedTable:c=b}={}){let d=void 0===c?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,b,{foreignTable:c,referencedTable:d=c}={}){let e=void 0===d?"offset":`${d}.offset`,f=void 0===d?"limit":`${d}.limit`;return this.url.searchParams.set(e,`${a}`),this.url.searchParams.set(f,`${b-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:b=!1,settings:c=!1,buffers:d=!1,wal:e=!1,format:f="text"}={}){var g;let h=[a?"analyze":null,b?"verbose":null,c?"settings":null,d?"buffers":null,e?"wal":null].filter(Boolean).join("|"),i=null!=(g=this.headers.get("Accept"))?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${i}"; options=${h};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}c.default=e},919001,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(852100).__importDefault(a.r(798564)),e=RegExp("[,()]");class f extends d.default{eq(a,b){return this.url.searchParams.append(a,`eq.${b}`),this}neq(a,b){return this.url.searchParams.append(a,`neq.${b}`),this}gt(a,b){return this.url.searchParams.append(a,`gt.${b}`),this}gte(a,b){return this.url.searchParams.append(a,`gte.${b}`),this}lt(a,b){return this.url.searchParams.append(a,`lt.${b}`),this}lte(a,b){return this.url.searchParams.append(a,`lte.${b}`),this}like(a,b){return this.url.searchParams.append(a,`like.${b}`),this}likeAllOf(a,b){return this.url.searchParams.append(a,`like(all).{${b.join(",")}}`),this}likeAnyOf(a,b){return this.url.searchParams.append(a,`like(any).{${b.join(",")}}`),this}ilike(a,b){return this.url.searchParams.append(a,`ilike.${b}`),this}ilikeAllOf(a,b){return this.url.searchParams.append(a,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(a,b){return this.url.searchParams.append(a,`ilike(any).{${b.join(",")}}`),this}regexMatch(a,b){return this.url.searchParams.append(a,`match.${b}`),this}regexIMatch(a,b){return this.url.searchParams.append(a,`imatch.${b}`),this}is(a,b){return this.url.searchParams.append(a,`is.${b}`),this}isDistinct(a,b){return this.url.searchParams.append(a,`isdistinct.${b}`),this}in(a,b){let c=Array.from(new Set(b)).map(a=>"string"==typeof a&&e.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cs.{${b.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(b)}`),this}containedBy(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cd.{${b.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(b)}`),this}rangeGt(a,b){return this.url.searchParams.append(a,`sr.${b}`),this}rangeGte(a,b){return this.url.searchParams.append(a,`nxl.${b}`),this}rangeLt(a,b){return this.url.searchParams.append(a,`sl.${b}`),this}rangeLte(a,b){return this.url.searchParams.append(a,`nxr.${b}`),this}rangeAdjacent(a,b){return this.url.searchParams.append(a,`adj.${b}`),this}overlaps(a,b){return"string"==typeof b?this.url.searchParams.append(a,`ov.${b}`):this.url.searchParams.append(a,`ov.{${b.join(",")}}`),this}textSearch(a,b,{config:c,type:d}={}){let e="";"plain"===d?e="pl":"phrase"===d?e="ph":"websearch"===d&&(e="w");let f=void 0===c?"":`(${c})`;return this.url.searchParams.append(a,`${e}fts${f}.${b}`),this}match(a){return Object.entries(a).forEach(([a,b])=>{this.url.searchParams.append(a,`eq.${b}`)}),this}not(a,b,c){return this.url.searchParams.append(a,`not.${b}.${c}`),this}or(a,{foreignTable:b,referencedTable:c=b}={}){let d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,b,c){return this.url.searchParams.append(a,`${b}.${c}`),this}}c.default=f},503619,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(852100).__importDefault(a.r(919001));c.default=class{constructor(a,{headers:b={},schema:c,fetch:d}){this.url=a,this.headers=new Headers(b),this.schema=c,this.fetch=d}select(a,b){let{head:c=!1,count:e}=null!=b?b:{},f=!1,g=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!f?"":('"'===a&&(f=!f),a)).join("");return this.url.searchParams.set("select",g),e&&this.headers.append("Prefer",`count=${e}`),new d.default({method:c?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:b,defaultToNull:c=!0}={}){var e;if(b&&this.headers.append("Prefer",`count=${b}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);this.url.searchParams.set("columns",a.join(","))}}return new d.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:null!=(e=this.fetch)?e:fetch})}upsert(a,{onConflict:b,ignoreDuplicates:c=!1,count:e,defaultToNull:f=!0}={}){var g;if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),void 0!==b&&this.url.searchParams.set("on_conflict",b),e&&this.headers.append("Prefer",`count=${e}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);this.url.searchParams.set("columns",a.join(","))}}return new d.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:null!=(g=this.fetch)?g:fetch})}update(a,{count:b}={}){var c;return b&&this.headers.append("Prefer",`count=${b}`),new d.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:null!=(c=this.fetch)?c:fetch})}delete({count:a}={}){var b;return a&&this.headers.append("Prefer",`count=${a}`),new d.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!=(b=this.fetch)?b:fetch})}}},227749,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(852100),e=d.__importDefault(a.r(503619)),f=d.__importDefault(a.r(919001));class g{constructor(a,{headers:b={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(b),this.schemaName=c,this.fetch=d}from(a){if(!a||"string"!=typeof a||""===a.trim())throw Error("Invalid relation name: relation must be a non-empty string.");let b=new URL(`${this.url}/${a}`);return new e.default(b,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new g(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,b={},{head:c=!1,get:d=!1,count:e}={}){var g;let h,i,j=new URL(`${this.url}/rpc/${a}`);c||d?(h=c?"HEAD":"GET",Object.entries(b).filter(([a,b])=>void 0!==b).map(([a,b])=>[a,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([a,b])=>{j.searchParams.append(a,b)})):(h="POST",i=b);let k=new Headers(this.headers);return e&&k.set("Prefer",`count=${e}`),new f.default({method:h,url:j,headers:k,schema:this.schemaName,body:i,fetch:null!=(g=this.fetch)?g:fetch})}}c.default=g},679614,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PostgrestError=c.PostgrestBuilder=c.PostgrestTransformBuilder=c.PostgrestFilterBuilder=c.PostgrestQueryBuilder=c.PostgrestClient=void 0;let d=a.r(852100),e=d.__importDefault(a.r(227749));c.PostgrestClient=e.default;let f=d.__importDefault(a.r(503619));c.PostgrestQueryBuilder=f.default;let g=d.__importDefault(a.r(919001));c.PostgrestFilterBuilder=g.default;let h=d.__importDefault(a.r(798564));c.PostgrestTransformBuilder=h.default;let i=d.__importDefault(a.r(656592));c.PostgrestBuilder=i.default;let j=d.__importDefault(a.r(972124));c.PostgrestError=j.default,c.default={PostgrestClient:e.default,PostgrestQueryBuilder:f.default,PostgrestFilterBuilder:g.default,PostgrestTransformBuilder:h.default,PostgrestBuilder:i.default,PostgrestError:j.default}},344114,a=>{"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=a.i(187924),z=a.i(572131),A=a.i(114548),B=a.i(915618),C=a.i(633508),D=a.i(784581),E=a.i(821374),F=a.i(551120),F=F,G=a.i(533441),H=a.i(746157),H=H,I=a.i(452495),J=a.i(405784),K=a.i(767552),L=a.i(998648),L=L;let M=[{id:"default",name:"Professional Gold",description:"Classic gold accent, inspired by trusted service businesses",colors:{brand:"#FFD700",brandDark:"#e6c200",bgPrimary:"#ffffff",bgSecondary:"#f9fafb",bgDark:"#1a1a1a",textPrimary:"#111827",textSecondary:"#4b5563"},preview:{primary:"#FFD700",accent:"#e6c200",background:"#ffffff"},isPremium:!1},{id:"modern-blue",name:"Modern Blue",description:"Clean, professional blue theme",colors:{brand:"#3b82f6",brandDark:"#2563eb",bgPrimary:"#ffffff",bgSecondary:"#f8fafc",bgDark:"#0f172a",textPrimary:"#0f172a",textSecondary:"#475569"},preview:{primary:"#3b82f6",accent:"#2563eb",background:"#f8fafc"},isPremium:!1},{id:"elegant-green",name:"Elegant Green",description:"Fresh, eco-friendly appearance",colors:{brand:"#10b981",brandDark:"#059669",bgPrimary:"#ffffff",bgSecondary:"#f0fdf4",bgDark:"#064e3b",textPrimary:"#064e3b",textSecondary:"#047857"},preview:{primary:"#10b981",accent:"#059669",background:"#f0fdf4"},isPremium:!0},{id:"bold-orange",name:"Bold Orange",description:"Energetic and attention-grabbing",colors:{brand:"#f97316",brandDark:"#ea580c",bgPrimary:"#ffffff",bgSecondary:"#fff7ed",bgDark:"#7c2d12",textPrimary:"#1c1917",textSecondary:"#57534e"},preview:{primary:"#f97316",accent:"#ea580c",background:"#fff7ed"},isPremium:!0},{id:"luxe-purple",name:"Luxe Purple",description:"Premium, sophisticated feel",colors:{brand:"#8b5cf6",brandDark:"#7c3aed",bgPrimary:"#ffffff",bgSecondary:"#faf5ff",bgDark:"#2e1065",textPrimary:"#1e1b4b",textSecondary:"#4338ca"},preview:{primary:"#8b5cf6",accent:"#7c3aed",background:"#faf5ff"},isPremium:!0},{id:"trust-teal",name:"Trust Teal",description:"Calm, reliable, trustworthy",colors:{brand:"#14b8a6",brandDark:"#0d9488",bgPrimary:"#ffffff",bgSecondary:"#f0fdfa",bgDark:"#134e4a",textPrimary:"#0f172a",textSecondary:"#0f766e"},preview:{primary:"#14b8a6",accent:"#0d9488",background:"#f0fdfa"},isPremium:!0}];var N=a.i(852100);(b=m||(m={})).Any="any",b.ApNortheast1="ap-northeast-1",b.ApNortheast2="ap-northeast-2",b.ApSouth1="ap-south-1",b.ApSoutheast1="ap-southeast-1",b.ApSoutheast2="ap-southeast-2",b.CaCentral1="ca-central-1",b.EuCentral1="eu-central-1",b.EuWest1="eu-west-1",b.EuWest2="eu-west-2",b.EuWest3="eu-west-3",b.SaEast1="sa-east-1",b.UsEast1="us-east-1",b.UsWest1="us-west-1",b.UsWest2="us-west-2";var O=a.i(679614);let{PostgrestClient:P,PostgrestQueryBuilder:Q,PostgrestFilterBuilder:R,PostgrestTransformBuilder:S,PostgrestBuilder:T,PostgrestError:U}=O.default||O;(c=n||(n={}))[c.connecting=0]="connecting",c[c.open=1]="open",c[c.closing=2]="closing",c[c.closed=3]="closed",(d=o||(o={})).closed="closed",d.errored="errored",d.joined="joined",d.joining="joining",d.leaving="leaving",(e=p||(p={})).close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",(q||(q={})).websocket="websocket",(f=r||(r={})).Connecting="connecting",f.Open="open",f.Closing="closing",f.Closed="closed",(g=s||(s={})).abstime="abstime",g.bool="bool",g.date="date",g.daterange="daterange",g.float4="float4",g.float8="float8",g.int2="int2",g.int4="int4",g.int4range="int4range",g.int8="int8",g.int8range="int8range",g.json="json",g.jsonb="jsonb",g.money="money",g.numeric="numeric",g.oid="oid",g.reltime="reltime",g.text="text",g.time="time",g.timestamp="timestamp",g.timestamptz="timestamptz",g.timetz="timetz",g.tsrange="tsrange",g.tstzrange="tstzrange";(h=t||(t={})).SYNC="sync",h.JOIN="join",h.LEAVE="leave",(i=u||(u={})).ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE",(j=v||(v={})).BROADCAST="broadcast",j.PRESENCE="presence",j.POSTGRES_CHANGES="postgres_changes",j.SYSTEM="system",(k=w||(w={})).SUBSCRIBED="SUBSCRIBED",k.TIMED_OUT="TIMED_OUT",k.CLOSED="CLOSED",k.CHANNEL_ERROR="CHANNEL_ERROR",(l=x||(x={})).InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded";"undefined"!=typeof Deno||"undefined"!=typeof document||"undefined"!=typeof navigator&&navigator.product;let V="2.86.0",W={"X-Client-Info":`gotrue-js/${V}`},X="X-Supabase-Api-Version",Y={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Z=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class $ extends Error{constructor(a,b,c){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=b,this.code=c}}function _(a){return"object"==typeof a&&null!==a&&"__isAuthError"in a}class aa extends ${constructor(a,b,c){super(a,b,c),this.name="AuthApiError",this.status=b,this.code=c}}class ab extends ${constructor(a,b){super(a),this.name="AuthUnknownError",this.originalError=b}}class ac extends ${constructor(a,b,c,d){super(a,c,d),this.name=b,this.status=c}}class ad extends ac{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class ae extends ac{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class af extends ac{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ag extends ac{constructor(a,b=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ah extends ac{constructor(a,b){super(a,"AuthRetryableFetchError",b,void 0)}}function ai(a){return _(a)&&"AuthRetryableFetchError"===a.name}class aj extends ac{constructor(a,b,c){super(a,"AuthWeakPasswordError",b,"weak_password"),this.reasons=c}}class ak extends ac{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}let al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),am=" 	\n\r=".split(""),an=(()=>{let a=Array(128);for(let b=0;b<a.length;b+=1)a[b]=-1;for(let b=0;b<am.length;b+=1)a[am[b].charCodeAt(0)]=-2;for(let b=0;b<al.length;b+=1)a[al[b].charCodeAt(0)]=b;return a})();function ao(a,b,c){if(null!==a)for(b.queue=b.queue<<8|a,b.queuedBits+=8;b.queuedBits>=6;)c(al[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6;else if(b.queuedBits>0)for(b.queue=b.queue<<6-b.queuedBits,b.queuedBits=6;b.queuedBits>=6;)c(al[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6}function ap(a,b,c){let d=an[a];if(d>-1)for(b.queue=b.queue<<6|d,b.queuedBits+=6;b.queuedBits>=8;)c(b.queue>>b.queuedBits-8&255),b.queuedBits-=8;else if(-2===d)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}function aq(a){let b=[],c=a=>{b.push(String.fromCodePoint(a))},d={utf8seq:0,codepoint:0},e={queue:0,queuedBits:0},f=a=>{!function(a,b,c){if(0===b.utf8seq){if(a<=127)return c(a);for(let c=1;c<6;c+=1)if((a>>7-c&1)==0){b.utf8seq=c;break}if(2===b.utf8seq)b.codepoint=31&a;else if(3===b.utf8seq)b.codepoint=15&a;else if(4===b.utf8seq)b.codepoint=7&a;else throw Error("Invalid UTF-8 sequence");b.utf8seq-=1}else if(b.utf8seq>0){if(a<=127)throw Error("Invalid UTF-8 sequence");b.codepoint=b.codepoint<<6|63&a,b.utf8seq-=1,0===b.utf8seq&&c(b.codepoint)}}(a,d,c)};for(let b=0;b<a.length;b+=1)ap(a.charCodeAt(b),e,f);return b.join("")}function ar(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};for(let b=0;b<a.length;b+=1)ap(a.charCodeAt(b),c,d);return new Uint8Array(b)}function as(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};return a.forEach(a=>ao(a,c,d)),ao(null,c,d),b.join("")}let at=a=>a?(...b)=>a(...b):(...a)=>fetch(...a),au=async(a,b,c)=>{await a.setItem(b,JSON.stringify(c))},av=async(a,b)=>{let c=await a.getItem(b);if(!c)return null;try{return JSON.parse(c)}catch(a){return c}},aw=async(a,b)=>{await a.removeItem(b)};class ax{constructor(){this.promise=new ax.promiseConstructor((a,b)=>{this.resolve=a,this.reject=b})}}function ay(a){let b=a.split(".");if(3!==b.length)throw new ak("Invalid JWT structure");for(let a=0;a<b.length;a++)if(!Z.test(b[a]))throw new ak("JWT not in base64url format");return{header:JSON.parse(aq(b[0])),payload:JSON.parse(aq(b[1])),signature:ar(b[2]),raw:{header:b[0],payload:b[1]}}}async function az(a){return await new Promise(b=>{setTimeout(()=>b(null),a)})}function aA(a){return("0"+a.toString(16)).substr(-2)}async function aB(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>String.fromCharCode(a)).join("")}async function aC(a){return"undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder?(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a):btoa(await aB(a)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function aD(a,b,c=!1){let d=function(){let a=new Uint32Array(56);if("undefined"==typeof crypto){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",b=a.length,c="";for(let d=0;d<56;d++)c+=a.charAt(Math.floor(Math.random()*b));return c}return crypto.getRandomValues(a),Array.from(a,aA).join("")}(),e=d;c&&(e+="/PASSWORD_RECOVERY"),await au(a,`${b}-code-verifier`,e);let f=await aC(d),g=d===f?"plain":"s256";return[f,g]}ax.promiseConstructor=Promise;let aE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,aF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function aG(a){if(!aF.test(a))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function aH(){return new Proxy({},{get:(a,b)=>{if("__isUserNotAvailableProxy"===b)return!0;if("symbol"==typeof b){let a=b.toString();if("Symbol(Symbol.toPrimitive)"===a||"Symbol(Symbol.toStringTag)"===a||"Symbol(util.inspect.custom)"===a)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${b}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aI(a){return JSON.parse(JSON.stringify(a))}let aJ=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),aK=[502,503,504];async function aL(a){var b;let c,d;if(!("object"==typeof a&&null!==a&&"status"in a&&"ok"in a&&"json"in a&&"function"==typeof a.json))throw new ah(aJ(a),0);if(aK.includes(a.status))throw new ah(aJ(a),a.status);try{c=await a.json()}catch(a){throw new ab(aJ(a),a)}let e=function(a){let b=a.headers.get(X);if(!b||!b.match(aE))return null;try{return new Date(`${b}T00:00:00.0Z`)}catch(a){return null}}(a);if(e&&e.getTime()>=Y["2024-01-01"].timestamp&&"object"==typeof c&&c&&"string"==typeof c.code?d=c.code:"object"==typeof c&&c&&"string"==typeof c.error_code&&(d=c.error_code),d){if("weak_password"===d)throw new aj(aJ(c),a.status,(null==(b=c.weak_password)?void 0:b.reasons)||[]);else if("session_not_found"===d)throw new ad}else if("object"==typeof c&&c&&"object"==typeof c.weak_password&&c.weak_password&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0))throw new aj(aJ(c),a.status,c.weak_password.reasons);throw new aa(aJ(c),a.status||500,d)}async function aM(a,b,c,d){var e;let f=Object.assign({},null==d?void 0:d.headers);f[X]||(f[X]=Y["2024-01-01"].name),(null==d?void 0:d.jwt)&&(f.Authorization=`Bearer ${d.jwt}`);let g=null!=(e=null==d?void 0:d.query)?e:{};(null==d?void 0:d.redirectTo)&&(g.redirect_to=d.redirectTo);let h=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",i=await aN(a,b,c+h,{headers:f,noResolveJson:null==d?void 0:d.noResolveJson},{},null==d?void 0:d.body);return(null==d?void 0:d.xform)?null==d?void 0:d.xform(i):{data:Object.assign({},i),error:null}}async function aN(a,b,c,d,e,f){let g,h,i=(h={method:b,headers:(null==d?void 0:d.headers)||{}},"GET"===b?h:(h.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==d?void 0:d.headers),h.body=JSON.stringify(f),Object.assign(Object.assign({},h),e)));try{g=await a(c,Object.assign({},i))}catch(a){throw console.error(a),new ah(aJ(a),0)}if(g.ok||await aL(g),null==d?void 0:d.noResolveJson)return g;try{return await g.json()}catch(a){await aL(a)}}function aO(a){var b,c,d;let e=null;(d=a).access_token&&d.refresh_token&&d.expires_in&&(e=Object.assign({},a),a.expires_at||(e.expires_at=(c=a.expires_in,Math.round(Date.now()/1e3)+c)));return{data:{session:e,user:null!=(b=a.user)?b:a},error:null}}function aP(a){let b=aO(a);return!b.error&&a.weak_password&&"object"==typeof a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&"string"==typeof a.weak_password.message&&a.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0)&&(b.data.weak_password=a.weak_password),b}function aQ(a){var b;return{data:{user:null!=(b=a.user)?b:a},error:null}}function aR(a){return{data:a,error:null}}function aS(a){let{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f}=a;return{data:{properties:{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f},user:Object.assign({},(0,N.__rest)(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function aT(a){return a}let aU=["global","local","others"];class aV{constructor({url:a="",headers:b={},fetch:c}){this.url=a,this.headers=b,this.fetch=at(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,b=aU[0]){if(0>aU.indexOf(b))throw Error(`@supabase/auth-js: Parameter scope must be one of ${aU.join(", ")}`);try{return await aM(this.fetch,"POST",`${this.url}/logout?scope=${b}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(a){if(_(a))return{data:null,error:a};throw a}}async inviteUserByEmail(a,b={}){try{return await aM(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:b.data},headers:this.headers,redirectTo:b.redirectTo,xform:aQ})}catch(a){if(_(a))return{data:{user:null},error:a};throw a}}async generateLink(a){try{let{options:b}=a,c=(0,N.__rest)(a,["options"]),d=Object.assign(Object.assign({},c),b);return"newEmail"in c&&(d.new_email=null==c?void 0:c.newEmail,delete d.newEmail),await aM(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:aS,redirectTo:null==b?void 0:b.redirectTo})}catch(a){if(_(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(a){try{return await aM(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:aQ})}catch(a){if(_(a))return{data:{user:null},error:a};throw a}}async listUsers(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await aM(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:aT});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(_(a))return{data:{users:[]},error:a};throw a}}async getUserById(a){aG(a);try{return await aM(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:aQ})}catch(a){if(_(a))return{data:{user:null},error:a};throw a}}async updateUserById(a,b){aG(a);try{return await aM(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:b,headers:this.headers,xform:aQ})}catch(a){if(_(a))return{data:{user:null},error:a};throw a}}async deleteUser(a,b=!1){aG(a);try{return await aM(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:b},xform:aQ})}catch(a){if(_(a))return{data:{user:null},error:a};throw a}}async _listFactors(a){aG(a.userId);try{let{data:b,error:c}=await aM(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:b,error:c}}catch(a){if(_(a))return{data:null,error:a};throw a}}async _deleteFactor(a){aG(a.userId),aG(a.id);try{return{data:await aM(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(a){if(_(a))return{data:null,error:a};throw a}}async _listOAuthClients(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await aM(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:aT});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(_(a))return{data:{clients:[]},error:a};throw a}}async _createOAuthClient(a){try{return await aM(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(_(a))return{data:null,error:a};throw a}}async _getOAuthClient(a){try{return await aM(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(_(a))return{data:null,error:a};throw a}}async _updateOAuthClient(a,b){try{return await aM(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:b,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(_(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(a){try{return await aM(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(_(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(a){try{return await aM(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(_(a))return{data:null,error:a};throw a}}}function aW(a={}){return{getItem:b=>a[b]||null,setItem:(b,c)=>{a[b]=c},removeItem:b=>{delete a[b]}}}globalThis;class aX extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}function aY(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}class aZ extends Error{constructor({message:a,code:b,cause:c,name:d}){var e;super(a,{cause:c}),this.__isWebAuthnError=!0,this.name=null!=(e=null!=d?d:c instanceof Error?c.name:void 0)?e:"Unknown Error",this.code=b}}class a$ extends aZ{constructor(a,b){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:b,message:a}),this.name="WebAuthnUnknownError",this.originalError=b}}let a_=new class{createNewAbortSignal(){if(this.controller){let a=Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}let a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){let a=Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}};function a0(a){return"localhost"===a||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}async function a1(a){try{let b=await navigator.credentials.create(a);if(!b)return{data:null,error:new a$("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new a$("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){var c,d,e;let{publicKey:f}=b;if(!f)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new aZ({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("ConstraintError"===a.name){if((null==(c=f.authenticatorSelection)?void 0:c.requireResidentKey)===!0)return new aZ({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});else if("conditional"===b.mediation&&(null==(d=f.authenticatorSelection)?void 0:d.userVerification)==="required")return new aZ({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});else if((null==(e=f.authenticatorSelection)?void 0:e.userVerification)==="required")return new aZ({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else if("InvalidStateError"===a.name)return new aZ({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});else if("NotAllowedError"===a.name)return new aZ({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("NotSupportedError"===a.name)return new aZ(0===f.pubKeyCredParams.filter(a=>"public-key"===a.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!a0(b))return new aZ({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(f.rp.id!==b)return new aZ({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("TypeError"===a.name){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new aZ({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if("UnknownError"===a.name)return new aZ({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new aZ({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}async function a2(a){try{let b=await navigator.credentials.get(a);if(!b)return{data:null,error:new a$("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new a$("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){let{publicKey:c}=b;if(!c)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new aZ({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("NotAllowedError"===a.name)return new aZ({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!a0(b))return new aZ({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(c.rpId!==b)return new aZ({message:`The RP ID "${c.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("UnknownError"===a.name)return new aZ({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new aZ({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}let a3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},a4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function a5(...a){let b=a=>null!==a&&"object"==typeof a&&!Array.isArray(a),c=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),d={};for(let e of a)if(e)for(let a in e){let f=e[a];if(void 0!==f)if(Array.isArray(f))d[a]=f;else if(c(f))d[a]=f;else if(b(f)){let c=d[a];b(c)?d[a]=a5(c,f):d[a]=a5(f)}else d[a]=f}return d}class a6{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:b,friendlyName:c,signal:d},e){try{var f,g,h,i;let{data:j,error:k}=await this.client.mfa.challenge({factorId:a,webauthn:b});if(!j)return{data:null,error:k};let l=null!=d?d:a_.createNewAbortSignal();if("create"===j.webauthn.type){let{user:a}=j.webauthn.credential_options.publicKey;a.name||(a.name=`${a.id}:${c}`),a.displayName||(a.displayName=a.name)}switch(j.webauthn.type){case"create":{let b=(f=j.webauthn.credential_options.publicKey,g=null==e?void 0:e.create,a5(a3,f,g||{})),{data:c,error:d}=await a1({publicKey:b,signal:l});if(c)return{data:{factorId:a,challengeId:j.id,webauthn:{type:j.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}case"request":{let b=(h=j.webauthn.credential_options.publicKey,i=null==e?void 0:e.request,a5(a4,h,i||{})),{data:c,error:d}=await a2(Object.assign(Object.assign({},j.webauthn.credential_options),{publicKey:b,signal:l}));if(c)return{data:{factorId:a,challengeId:j.id,webauthn:{type:j.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}}}catch(a){if(_(a))return{data:null,error:a};return{data:null,error:new ab("Unexpected error in challenge",a)}}}async _verify({challengeId:a,factorId:b,webauthn:c}){return this.client.mfa.verify({factorId:b,challengeId:a,webauthn:c})}async _authenticate({factorId:a,webauthn:{rpId:b,rpOrigins:c,signal:d}={}},e){if(!b)return{data:null,error:new $("rpId is required for WebAuthn authentication")};try{1;return{data:null,error:new ab("Browser does not support WebAuthn",null)}}catch(a){if(_(a))return{data:null,error:a};return{data:null,error:new ab("Unexpected error in authenticate",a)}}}async _register({friendlyName:a,webauthn:{rpId:b,rpOrigins:c,signal:d}={}},e){if(!b)return{data:null,error:new $("rpId is required for WebAuthn registration")};try{1;return{data:null,error:new ab("Browser does not support WebAuthn",null)}}catch(a){if(_(a))return{data:null,error:a};return{data:null,error:new ab("Unexpected error in register",a)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(a){"undefined"!=typeof self&&(self.globalThis=self)}let a7={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function a8(a,b,c){return await c()}let a9={};class ba{get jwks(){var a,b;return null!=(b=null==(a=a9[this.storageKey])?void 0:a.jwks)?b:{keys:[]}}set jwks(a){a9[this.storageKey]=Object.assign(Object.assign({},a9[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,b;return null!=(b=null==(a=a9[this.storageKey])?void 0:a.cachedAt)?b:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){a9[this.storageKey]=Object.assign(Object.assign({},a9[this.storageKey]),{cachedAt:a})}constructor(a){var b;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},a7),a);this.storageKey=c.storageKey,this.instanceID=null!=(b=ba.nextInstanceID[this.storageKey])?b:0,ba.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,"function"==typeof c.debug&&(this.logger=c.debug),this.instanceID,this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new aV({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=at(c.fetch),this.lock=c.lock||a8,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.lock=a8,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new a6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:(this.memoryStorage={},this.storage=aW(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=aW(this.memoryStorage)),this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${V}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){try{return await this._recoverAndRefresh(),{error:null}}catch(a){if(_(a))return this._returnResult({error:a});return this._returnResult({error:new ab("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var b,c,d;try{let{data:e,error:f}=await aM(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(c=null==(b=null==a?void 0:a.options)?void 0:b.data)?c:{},gotrue_meta_security:{captcha_token:null==(d=null==a?void 0:a.options)?void 0:d.captchaToken}},xform:aO});if(f||!e)return this._returnResult({data:{user:null,session:null},error:f});let g=e.session,h=e.user;return e.session&&(await this._saveSession(e.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:h,session:g},error:null})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(a){var b,c,d;try{let e;if("email"in a){let{email:c,password:d,options:f}=a,g=null,h=null;"pkce"===this.flowType&&([g,h]=await aD(this.storage,this.storageKey)),e=await aM(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==f?void 0:f.emailRedirectTo,body:{email:c,password:d,data:null!=(b=null==f?void 0:f.data)?b:{},gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken},code_challenge:g,code_challenge_method:h},xform:aO})}else if("phone"in a){let{phone:b,password:f,options:g}=a;e=await aM(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:f,data:null!=(c=null==g?void 0:g.data)?c:{},channel:null!=(d=null==g?void 0:g.channel)?d:"sms",gotrue_meta_security:{captcha_token:null==g?void 0:g.captchaToken}},xform:aO})}else throw new af("You must provide either an email or phone number and a password");let{data:f,error:g}=e;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});let h=f.session,i=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:i,session:h},error:null})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(a){try{let b;if("email"in a){let{email:c,password:d,options:e}=a;b=await aM(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:aP})}else if("phone"in a){let{phone:c,password:d,options:e}=a;b=await aM(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:aP})}else throw new af("You must provide either an email or phone number and a password");let{data:c,error:d}=b;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){let a=new ae;return this._returnResult({data:{user:null,session:null},error:a})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign({user:c.user,session:c.session},c.weak_password?{weakPassword:c.weak_password}:null),error:d})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(a){var b,c,d,e;return await this._handleProviderSignIn(a.provider,{redirectTo:null==(b=a.options)?void 0:b.redirectTo,scopes:null==(c=a.options)?void 0:c.scopes,queryParams:null==(d=a.options)?void 0:d.queryParams,skipBrowserRedirect:null==(e=a.options)?void 0:e.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){let{chain:b}=a;switch(b){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw Error(`@supabase/auth-js: Unsupported chain "${b}"`)}}async signInWithEthereum(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let{chain:k,wallet:l,statement:p,options:q}=a;if("object"!=typeof l||!(null==q?void 0:q.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");let r=new URL(null!=(b=null==q?void 0:q.url)?b:window.location.href),s=await l.request({method:"eth_requestAccounts"}).then(a=>a).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!s||0===s.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let t=aY(s[0]),u=null==(c=null==q?void 0:q.signInWithEthereum)?void 0:c.chainId;u||(u=parseInt(await l.request({method:"eth_chainId"}),16)),n=function(a){var b;let{chainId:c,domain:d,expirationTime:e,issuedAt:f=new Date,nonce:g,notBefore:h,requestId:i,resources:j,scheme:k,uri:l,version:m}=a;if(!Number.isInteger(c))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${c}`);if(!d)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(g&&g.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${g}`);if(!l)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==m)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(null==(b=a.statement)?void 0:b.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`);let n=aY(a.address),o=k?`${k}://${d}`:d,p=a.statement?`${a.statement}
`:"",q=`${o} wants you to sign in with your Ethereum account:
${n}

${p}`,r=`URI: ${l}
Version: ${m}
Chain ID: ${c}${g?`
Nonce: ${g}`:""}
Issued At: ${f.toISOString()}`;if(e&&(r+=`
Expiration Time: ${e.toISOString()}`),h&&(r+=`
Not Before: ${h.toISOString()}`),i&&(r+=`
Request ID: ${i}`),j){let a="\nResources:";for(let b of j){if(!b||"string"!=typeof b)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);a+=`
- ${b}`}r+=a}return`${q}
${r}`}({domain:r.host,address:t,statement:p,uri:r.href,version:"1",chainId:u,nonce:null==(d=null==q?void 0:q.signInWithEthereum)?void 0:d.nonce,issuedAt:null!=(f=null==(e=null==q?void 0:q.signInWithEthereum)?void 0:e.issuedAt)?f:new Date,expirationTime:null==(g=null==q?void 0:q.signInWithEthereum)?void 0:g.expirationTime,notBefore:null==(h=null==q?void 0:q.signInWithEthereum)?void 0:h.notBefore,requestId:null==(i=null==q?void 0:q.signInWithEthereum)?void 0:i.requestId,resources:null==(j=null==q?void 0:q.signInWithEthereum)?void 0:j.resources}),o=await l.request({method:"personal_sign",params:[(m=n,"0x"+Array.from(new TextEncoder().encode(m),a=>a.toString(16).padStart(2,"0")).join("")),t]})}try{let{data:b,error:c}=await aM(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:n,signature:o},(null==(k=a.options)?void 0:k.captchaToken)?{gotrue_meta_security:{captcha_token:null==(l=a.options)?void 0:l.captchaToken}}:null),xform:aO});if(c)throw c;if(!b||!b.session||!b.user){let a=new ae;return this._returnResult({data:{user:null,session:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:c})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSolana(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let{chain:l,wallet:m,statement:p,options:q}=a;if("object"!=typeof m||!(null==q?void 0:q.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");let r=new URL(null!=(b=null==q?void 0:q.url)?b:window.location.href);if("signIn"in m&&m.signIn){let a,b=await m.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==q?void 0:q.signInWithSolana),{version:"1",domain:r.host,uri:r.href}),p?{statement:p}:null));if(Array.isArray(b)&&b[0]&&"object"==typeof b[0])a=b[0];else if(b&&"object"==typeof b&&"signedMessage"in b&&"signature"in b)a=b;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in a&&"signature"in a&&("string"==typeof a.signedMessage||a.signedMessage instanceof Uint8Array)&&a.signature instanceof Uint8Array)n="string"==typeof a.signedMessage?a.signedMessage:new TextDecoder().decode(a.signedMessage),o=a.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in m)||"function"!=typeof m.signMessage||!("publicKey"in m)||"object"!=typeof m||!m.publicKey||!("toBase58"in m.publicKey)||"function"!=typeof m.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");n=[`${r.host} wants you to sign in with your Solana account:`,m.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${r.href}`,`Issued At: ${null!=(d=null==(c=null==q?void 0:q.signInWithSolana)?void 0:c.issuedAt)?d:new Date().toISOString()}`,...(null==(e=null==q?void 0:q.signInWithSolana)?void 0:e.notBefore)?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...(null==(f=null==q?void 0:q.signInWithSolana)?void 0:f.expirationTime)?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...(null==(g=null==q?void 0:q.signInWithSolana)?void 0:g.chainId)?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...(null==(h=null==q?void 0:q.signInWithSolana)?void 0:h.nonce)?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...(null==(i=null==q?void 0:q.signInWithSolana)?void 0:i.requestId)?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...(null==(k=null==(j=null==q?void 0:q.signInWithSolana)?void 0:j.resources)?void 0:k.length)?["Resources",...q.signInWithSolana.resources.map(a=>`- ${a}`)]:[]].join("\n");let a=await m.signMessage(new TextEncoder().encode(n),"utf8");if(!a||!(a instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");o=a}}try{let{data:b,error:c}=await aM(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:n,signature:as(o)},(null==(l=a.options)?void 0:l.captchaToken)?{gotrue_meta_security:{captcha_token:null==(m=a.options)?void 0:m.captchaToken}}:null),xform:aO});if(c)throw c;if(!b||!b.session||!b.user){let a=new ae;return this._returnResult({data:{user:null,session:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:c})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _exchangeCodeForSession(a){let b=await av(this.storage,`${this.storageKey}-code-verifier`),[c,d]=(null!=b?b:"").split("/");try{let{data:b,error:e}=await aM(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:c},xform:aO});if(await aw(this.storage,`${this.storageKey}-code-verifier`),e)throw e;if(!b||!b.session||!b.user){let a=new ae;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign(Object.assign({},b),{redirectType:null!=d?d:null}),error:e})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(a){try{let{options:b,provider:c,token:d,access_token:e,nonce:f}=a,{data:g,error:h}=await aM(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:d,access_token:e,nonce:f,gotrue_meta_security:{captcha_token:null==b?void 0:b.captchaToken}},xform:aO});if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!g||!g.session||!g.user){let a=new ae;return this._returnResult({data:{user:null,session:null},error:a})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:h})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(a){var b,c,d,e,f;try{if("email"in a){let{email:d,options:e}=a,f=null,g=null;"pkce"===this.flowType&&([f,g]=await aD(this.storage,this.storageKey));let{error:h}=await aM(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:null!=(b=null==e?void 0:e.data)?b:{},create_user:null==(c=null==e?void 0:e.shouldCreateUser)||c,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:null==e?void 0:e.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in a){let{phone:b,options:c}=a,{data:g,error:h}=await aM(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:null!=(d=null==c?void 0:c.data)?d:{},create_user:null==(e=null==c?void 0:c.shouldCreateUser)||e,gotrue_meta_security:{captcha_token:null==c?void 0:c.captchaToken},channel:null!=(f=null==c?void 0:c.channel)?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==g?void 0:g.message_id},error:h})}throw new af("You must provide either an email or phone number.")}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(a){var b,c;try{let d,e;"options"in a&&(d=null==(b=a.options)?void 0:b.redirectTo,e=null==(c=a.options)?void 0:c.captchaToken);let{data:f,error:g}=await aM(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:e}}),redirectTo:d,xform:aO});if(g)throw g;if(!f)throw Error("An error occurred on token verification.");let h=f.session,i=f.user;return(null==h?void 0:h.access_token)&&(await this._saveSession(h),await this._notifyAllSubscribers("recovery"==a.type?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:i,session:h},error:null})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(a){var b,c,d,e;try{let f=null,g=null;"pkce"===this.flowType&&([f,g]=await aD(this.storage,this.storageKey));let h=await aM(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:null!=(c=null==(b=a.options)?void 0:b.redirectTo)?c:void 0}),(null==(d=null==a?void 0:a.options)?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:aR});return null==(e=h.data)||e.url,this._returnResult(h)}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{let{data:{session:b},error:c}=a;if(c)throw c;if(!b)throw new ad;let{error:d}=await aM(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:b.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{let b=`${this.url}/resend`;if("email"in a){let{email:c,type:d,options:e}=a,{error:f}=await aM(this.fetch,"POST",b,{headers:this.headers,body:{email:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},redirectTo:null==e?void 0:e.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in a){let{phone:c,type:d,options:e}=a,{data:f,error:g}=await aM(this.fetch,"POST",b,{headers:this.headers,body:{phone:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==f?void 0:f.message_id},error:g})}throw new af("You must provide either an email or phone number and a type")}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(a,b){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){let a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await a,await b()))();return this.pendingInLock.push((async()=>{try{await c}catch(a){}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let a=b();for(this.pendingInLock.push((async()=>{try{await a}catch(a){}})()),await a;this.pendingInLock.length;){let a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{let b=await this.__loadSession();return await a(b)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let b=null,c=await av(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",c),null!==c&&(this._isValidSession(c)?b=c:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!b)return{data:{session:null},error:null};let d=!!b.expires_at&&1e3*b.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${d?"":" not"} expired`,"expires_at",b.expires_at),!d){if(this.userStorage){let a=await av(this.userStorage,this.storageKey+"-user");(null==a?void 0:a.user)?b.user=a.user:b.user=aH()}if(this.storage.isServer&&b.user&&!b.user.__isUserNotAvailableProxy){var a;let c={value:this.suppressGetSessionWarning};b.user=(a=b.user,new Proxy(a,{get:(a,b,d)=>{if("__isInsecureUserWarningProxy"===b)return!0;if("symbol"==typeof b){let c=b.toString();if("Symbol(Symbol.toPrimitive)"===c||"Symbol(Symbol.toStringTag)"===c||"Symbol(util.inspect.custom)"===c||"Symbol(nodejs.util.inspect.custom)"===c)return Reflect.get(a,b,d)}return c.value||"string"!=typeof b||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c.value=!0),Reflect.get(a,b,d)}})),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:b},error:null}}let{data:e,error:f}=await this._callRefreshToken(b.refresh_token);if(f)return this._returnResult({data:{session:null},error:f});return this._returnResult({data:{session:e},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{if(a)return await aM(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:aQ});return await this._useSession(async a=>{var b,c,d;let{data:e,error:f}=a;if(f)throw f;return(null==(b=e.session)?void 0:b.access_token)||this.hasCustomAuthorizationHeader?await aM(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0,xform:aQ}):{data:{user:null},error:new ad}})}catch(a){if(_(a))return _(a)&&"AuthSessionMissingError"===a.name&&(await this._removeSession(),await aw(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(a,b={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,b))}async _updateUser(a,b={}){try{return await this._useSession(async c=>{let{data:d,error:e}=c;if(e)throw e;if(!d.session)throw new ad;let f=d.session,g=null,h=null;"pkce"===this.flowType&&null!=a.email&&([g,h]=await aD(this.storage,this.storageKey));let{data:i,error:j}=await aM(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==b?void 0:b.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:h}),jwt:f.access_token,xform:aQ});if(j)throw j;return f.user=i.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(a){if(_(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ad;let b=Date.now()/1e3,c=b,d=!0,e=null,{payload:f}=ay(a.access_token);if(f.exp&&(d=(c=f.exp)<=b),d){let{data:b,error:c}=await this._callRefreshToken(a.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!b)return{data:{user:null,session:null},error:null};e=b}else{let{data:d,error:f}=await this._getUser(a.access_token);if(f)throw f;e={access_token:a.access_token,refresh_token:a.refresh_token,user:d.user,token_type:"bearer",expires_in:c-b,expires_at:c},await this._saveSession(e),await this._notifyAllSubscribers("SIGNED_IN",e)}return this._returnResult({data:{user:e.user,session:e},error:null})}catch(a){if(_(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async b=>{var c;if(!a){let{data:d,error:e}=b;if(e)throw e;a=null!=(c=d.session)?c:void 0}if(!(null==a?void 0:a.refresh_token))throw new ad;let{data:d,error:e}=await this._callRefreshToken(a.refresh_token);return e?this._returnResult({data:{user:null,session:null},error:e}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(a,b){try{throw new ag("No browser detected.")}catch(a){if(_(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){let b=await av(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&b)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e)return this._returnResult({error:e});let f=null==(c=d.session)?void 0:c.access_token;if(f){let{error:b}=await this.admin.signOut(f,a);if(b&&!(_(b)&&"AuthApiError"===b.name&&(404===b.status||401===b.status||403===b.status)))return this._returnResult({error:b})}return"others"!==a&&(await this._removeSession(),await aw(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){let b=Symbol("auth-callback"),c={id:b,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",b),this.stateChangeEmitters.delete(b)}};return this._debug("#onAuthStateChange()","registered callback with id",b),this.stateChangeEmitters.set(b,c),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(b)})})(),{data:{subscription:c}}}async _emitInitialSession(a){return await this._useSession(async b=>{var c,d;try{let{data:{session:d},error:e}=b;if(e)throw e;await (null==(c=this.stateChangeEmitters.get(a))?void 0:c.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(b){await (null==(d=this.stateChangeEmitters.get(a))?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",b),console.error(b)}})}async resetPasswordForEmail(a,b={}){let c=null,d=null;"pkce"===this.flowType&&([c,d]=await aD(this.storage,this.storageKey,!0));try{return await aM(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:c,code_challenge_method:d,gotrue_meta_security:{captcha_token:b.captchaToken}},headers:this.headers,redirectTo:b.redirectTo})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var a;try{let{data:b,error:c}=await this.getUser();if(c)throw c;return this._returnResult({data:{identities:null!=(a=b.user.identities)?a:[]},error:null})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){try{let{data:b,error:c}=await this._useSession(async b=>{var c,d,e,f,g;let{data:h,error:i}=b;if(i)throw i;let j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:null==(c=a.options)?void 0:c.redirectTo,scopes:null==(d=a.options)?void 0:d.scopes,queryParams:null==(e=a.options)?void 0:e.queryParams,skipBrowserRedirect:!0});return await aM(this.fetch,"GET",j,{headers:this.headers,jwt:null!=(g=null==(f=h.session)?void 0:f.access_token)?g:void 0})});if(c)throw c;return this._returnResult({data:{provider:a.provider,url:null==b?void 0:b.url},error:null})}catch(b){if(_(b))return this._returnResult({data:{provider:a.provider,url:null},error:b});throw b}}async linkIdentityIdToken(a){return await this._useSession(async b=>{var c;try{let{error:d,data:{session:e}}=b;if(d)throw d;let{options:f,provider:g,token:h,access_token:i,nonce:j}=a,{data:k,error:l}=await aM(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(c=null==e?void 0:e.access_token)?c:void 0,body:{provider:g,id_token:h,access_token:i,nonce:j,link_identity:!0,gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken}},xform:aO});if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!k||!k.session||!k.user)return this._returnResult({data:{user:null,session:null},error:new ae});return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:l})}catch(a){if(_(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)throw f;return await aM(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0})})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(a){let b=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(b,"begin");try{var c,d;let e=Date.now();return await (c=async c=>(c>0&&await az(200*Math.pow(2,c-1)),this._debug(b,"refreshing attempt",c),await aM(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:aO})),d=(a,b)=>{let c=200*Math.pow(2,a);return b&&ai(b)&&Date.now()+c-e<3e4},new Promise((a,b)=>{(async()=>{for(let e=0;e<1/0;e++)try{let b=await c(e);if(!d(e,null,b))return void a(b)}catch(a){if(!d(e,a))return void b(a)}})()}))}catch(a){if(this._debug(b,"error",a),_(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(b,"end")}}_isValidSession(a){return"object"==typeof a&&null!==a&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,b){let c=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:b.redirectTo,scopes:b.scopes,queryParams:b.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",b,"url",c),{data:{provider:a,url:c},error:null}}async _recoverAndRefresh(){var a,b;let c="#_recoverAndRefresh()";this._debug(c,"begin");try{let d=await av(this.storage,this.storageKey);if(d&&this.userStorage){let b=await av(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:d.user},await au(this.userStorage,this.storageKey+"-user",b)),d.user=null!=(a=null==b?void 0:b.user)?a:aH()}else if(d&&!d.user&&!d.user){let a=await av(this.storage,this.storageKey+"-user");a&&(null==a?void 0:a.user)?(d.user=a.user,await aw(this.storage,this.storageKey+"-user"),await au(this.storage,this.storageKey,d)):d.user=aH()}if(this._debug(c,"session from storage",d),!this._isValidSession(d)){this._debug(c,"session is not valid"),null!==d&&await this._removeSession();return}let e=(null!=(b=d.expires_at)?b:1/0)*1e3-Date.now()<9e4;if(this._debug(c,`session has${e?"":" not"} expired with margin of 90000s`),e){if(this.autoRefreshToken&&d.refresh_token){let{error:a}=await this._callRefreshToken(d.refresh_token);a&&(console.error(a),ai(a)||(this._debug(c,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(d.user&&!0===d.user.__isUserNotAvailableProxy)try{let{data:a,error:b}=await this._getUser(d.access_token);!b&&(null==a?void 0:a.user)?(d.user=a.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(c,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(c,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(a){this._debug(c,"error",a),console.error(a);return}finally{this._debug(c,"end")}}async _callRefreshToken(a){var b,c;if(!a)throw new ad;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new ax;let{data:b,error:c}=await this._refreshAccessToken(a);if(c)throw c;if(!b.session)throw new ad;await this._saveSession(b.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",b.session);let d={data:b.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(d,"error",a),_(a)){let c={data:null,error:a};return ai(a)||await this._removeSession(),null==(b=this.refreshingDeferred)||b.resolve(c),c}throw null==(c=this.refreshingDeferred)||c.reject(a),a}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,b,c=!0){let d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",b,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:a,session:b});let d=[],e=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(a,b)}catch(a){d.push(a)}});if(await Promise.all(e),d.length>0){for(let a=0;a<d.length;a+=1)console.error(d[a]);throw d[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;let b=Object.assign({},a),c=b.user&&!0===b.user.__isUserNotAvailableProxy;if(this.userStorage){!c&&b.user&&await au(this.userStorage,this.storageKey+"-user",{user:b.user});let a=Object.assign({},b);delete a.user;let d=aI(a);await au(this.storage,this.storageKey,d)}else{let a=aI(b);await au(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await aw(this.storage,this.storageKey),await aw(this.storage,this.storageKey+"-code-verifier"),await aw(this.storage,this.storageKey+"-user"),this.userStorage&&await aw(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()"),this.visibilityChangedCallback,this.visibilityChangedCallback=null}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let a=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=a,a&&"object"==typeof a&&"function"==typeof a.unref?a.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let a=Date.now();try{return await this._useSession(async b=>{let{data:{session:c}}=b;if(!c||!c.refresh_token||!c.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let d=Math.floor((1e3*c.expires_at-a)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),d<=3&&await this._callRefreshToken(c.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof aX)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){return this._debug("#_handleVisibilityChange()"),this.autoRefreshToken&&this.startAutoRefresh(),!1}async _onVisibilityChanged(a){let b=`#_onVisibilityChanged(${a})`;this._debug(b,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"!==document.visibilityState?this._debug(b,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"):await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,b,c){let d=[`provider=${encodeURIComponent(b)}`];if((null==c?void 0:c.redirectTo)&&d.push(`redirect_to=${encodeURIComponent(c.redirectTo)}`),(null==c?void 0:c.scopes)&&d.push(`scopes=${encodeURIComponent(c.scopes)}`),"pkce"===this.flowType){let[a,b]=await aD(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(b)}`});d.push(c.toString())}if(null==c?void 0:c.queryParams){let a=new URLSearchParams(c.queryParams);d.push(a.toString())}return(null==c?void 0:c.skipBrowserRedirect)&&d.push(`skip_http_redirect=${c.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;return e?this._returnResult({data:null,error:e}):await aM(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token})})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)return this._returnResult({data:null,error:f});let g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},"phone"===a.factorType?{phone:a.phone}:"totp"===a.factorType?{issuer:a.issuer}:{}),{data:h,error:i}=await aM(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:null==(c=null==e?void 0:e.session)?void 0:c.access_token});return i?this._returnResult({data:null,error:i}):("totp"===a.factorType&&"totp"===h.type&&(null==(d=null==h?void 0:h.totp)?void 0:d.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async b=>{var c,d,e;let{data:f,error:g}=b;if(g)return this._returnResult({data:null,error:g});let h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:"create"===a.webauthn.type?(d=a.webauthn.credential_response,"toJSON"in d&&"function"==typeof d.toJSON?d.toJSON():{id:d.id,rawId:d.id,response:{attestationObject:as(new Uint8Array(d.response.attestationObject)),clientDataJSON:as(new Uint8Array(d.response.clientDataJSON))},type:"public-key",clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:null!=(e=d.authenticatorAttachment)?e:void 0}):function(a){var b;if("toJSON"in a&&"function"==typeof a.toJSON)return a.toJSON();let c=a.getClientExtensionResults(),d=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:as(new Uint8Array(d.authenticatorData)),clientDataJSON:as(new Uint8Array(d.clientDataJSON)),signature:as(new Uint8Array(d.signature)),userHandle:d.userHandle?as(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:c,authenticatorAttachment:null!=(b=a.authenticatorAttachment)?b:void 0}}(a.webauthn.credential_response)})}:{code:a.code}),{data:i,error:j}=await aM(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:null==(c=null==f?void 0:f.session)?void 0:c.access_token});return j?this._returnResult({data:null,error:j}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:j}))})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e)return this._returnResult({data:null,error:e});let f=await aM(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token});if(f.error)return f;let{data:g}=f;if("webauthn"!==g.type)return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(a);let{challenge:b,user:c,excludeCredentials:d}=a,e=(0,N.__rest)(a,["challenge","user","excludeCredentials"]),f=ar(b).buffer,g=Object.assign(Object.assign({},c),{id:ar(c.id).buffer}),h=Object.assign(Object.assign({},e),{challenge:f,user:g});if(d&&d.length>0){h.excludeCredentials=Array(d.length);for(let a=0;a<d.length;a++){let b=d[a];h.excludeCredentials[a]=Object.assign(Object.assign({},b),{id:ar(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return h}(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(a);let{challenge:b,allowCredentials:c}=a,d=(0,N.__rest)(a,["challenge","allowCredentials"]),e=ar(b).buffer,f=Object.assign(Object.assign({},d),{challenge:e});if(c&&c.length>0){f.allowCredentials=Array(c.length);for(let a=0;a<c.length;a++){let b=c[a];f.allowCredentials[a]=Object.assign(Object.assign({},b),{id:ar(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return f}(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(a){let{data:b,error:c}=await this._challenge({factorId:a.factorId});return c?this._returnResult({data:null,error:c}):await this._verify({factorId:a.factorId,challengeId:b.id,code:a.code})}async _listFactors(){var a;let{data:{user:b},error:c}=await this.getUser();if(c)return{data:null,error:c};let d={all:[],phone:[],totp:[],webauthn:[]};for(let c of null!=(a=null==b?void 0:b.factors)?a:[])d.all.push(c),"verified"===c.status&&d[c.factor_type].push(c);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var a,b;let{data:{session:c},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:e}=ay(c.access_token),f=null;e.aal&&(f=e.aal);let g=f;return(null!=(b=null==(a=c.user.factors)?void 0:a.filter(a=>"verified"===a.status))?b:[]).length>0&&(g="aal2"),{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:e.amr||[]},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;return d?this._returnResult({data:null,error:d}):c?await aM(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:c.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ad})})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(a,b){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new ad});let e=await aM(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return e.data&&e.data.redirect_url,e})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(a,b){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new ad});let e=await aM(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return e.data&&e.data.redirect_url,e})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async a=>{let{data:{session:b},error:c}=a;return c?this._returnResult({data:null,error:c}):b?await aM(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:b.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ad})})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;return d?this._returnResult({data:null,error:d}):c?(await aM(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:c.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ad})})}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(a,b={keys:[]}){let c=b.keys.find(b=>b.kid===a);if(c)return c;let d=Date.now();if((c=this.jwks.keys.find(b=>b.kid===a))&&this.jwks_cached_at+6e5>d)return c;let{data:e,error:f}=await aM(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return e.keys&&0!==e.keys.length&&(this.jwks=e,this.jwks_cached_at=d,c=e.keys.find(b=>b.kid===a))?c:null}async getClaims(a,b={}){try{var c;let d,e=a;if(!e){let{data:a,error:b}=await this.getSession();if(b||!a.session)return this._returnResult({data:null,error:b});e=a.session.access_token}let{header:f,payload:g,signature:h,raw:{header:i,payload:j}}=ay(e);(null==b?void 0:b.allowExpired)||function(a){if(!a)throw Error("Missing exp claim");if(a<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(g.exp);let k=!f.alg||f.alg.startsWith("HS")||!f.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(f.kid,(null==b?void 0:b.keys)?{keys:b.keys}:null==b?void 0:b.jwks);if(!k){let{error:a}=await this.getUser(e);if(a)throw a;return{data:{claims:g,header:f,signature:h},error:null}}let l=function(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(f.alg),m=await crypto.subtle.importKey("jwk",k,l,!0,["verify"]);if(!await crypto.subtle.verify(l,m,h,(c=`${i}.${j}`,d=[],!function(a,b){for(let c=0;c<a.length;c+=1){let d=a.charCodeAt(c);if(d>55295&&d<=56319){let b=(d-55296)*1024&65535;d=(a.charCodeAt(c+1)-56320&65535|b)+65536,c+=1}!function(a,b){if(a<=127)return b(a);if(a<=2047){b(192|a>>6),b(128|63&a);return}if(a<=65535){b(224|a>>12),b(128|a>>6&63),b(128|63&a);return}if(a<=1114111){b(240|a>>18),b(128|a>>12&63),b(128|a>>6&63),b(128|63&a);return}throw Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}(d,b)}}(c,a=>d.push(a)),new Uint8Array(d))))throw new ak("Invalid JWT signature");return{data:{claims:g,header:f,signature:h},error:null}}catch(a){if(_(a))return this._returnResult({data:null,error:a});throw a}}}ba.nextInstanceID={},function(){if("undefined"==typeof process)return!1;let a=process.version;if(null==a)return!1;let b=a.match(/^v(\d+)\./);return!!b&&18>=parseInt(b[1],10)}()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`),a.i(576489);let bb={restaurant:{menuSystem:!0,bookingSystem:!1,portfolioGallery:!1,quoteRequests:!1,testimonials:!0,teamMembers:!1,faqSection:!0},catering:{menuSystem:!0,bookingSystem:!0,portfolioGallery:!0,quoteRequests:!0,testimonials:!0,teamMembers:!0,faqSection:!0},contractor:{menuSystem:!1,bookingSystem:!0,portfolioGallery:!0,quoteRequests:!0,testimonials:!0,teamMembers:!0,faqSection:!0},salon:{menuSystem:!1,bookingSystem:!0,portfolioGallery:!0,quoteRequests:!1,testimonials:!0,teamMembers:!0,faqSection:!0},professional:{menuSystem:!1,bookingSystem:!0,portfolioGallery:!1,quoteRequests:!1,testimonials:!0,teamMembers:!0,faqSection:!0},cleaning:{menuSystem:!1,bookingSystem:!0,portfolioGallery:!0,quoteRequests:!0,testimonials:!0,teamMembers:!1,faqSection:!0},custom:{menuSystem:!1,bookingSystem:!1,portfolioGallery:!1,quoteRequests:!1,testimonials:!1,teamMembers:!1,faqSection:!1}},bc={restaurant:"Restaurant / Food Service",catering:"Catering / Events",contractor:"Contractor / Home Services",salon:"Salon / Spa / Beauty",professional:"Professional Services",cleaning:"Cleaning Service",custom:"Custom (Configure Manually)"},bd={businessType:"custom",enabledFeatures:bb.custom,tagline:"",aboutText:"",businessHours:"Mon-Fri 9am-5pm",serviceAreas:[],contactMode:"form",calendlyUrl:"",phoneNumber:"",bookingUrl:"",bookingDisplayMode:"embed",bookingButtonText:"Book Now",bookingDescription:"Schedule your appointment online",showBookingOnHero:!1,showBookingOnServicePages:!1,showBookingPage:!0,showProcess:!0,showStats:!0,showTeam:!1,showTestimonials:!0,showFaq:!0,showWhyChooseUs:!0,showSpecialties:!1,showBadges:!0,showMapEmbed:!1,process:[{step:1,title:"Get a Free Estimate",description:"Contact us for a no-obligation quote",icon:"clipboard"},{step:2,title:"We Recommend Options",description:"Our experts suggest the best solutions",icon:"message-square"},{step:3,title:"We Get It Done",description:"Professional service delivered on time",icon:"check-circle"}],processTitle:"Our Simple Process",processSubtitle:"From consultation to completion, we make it easy",processCTAText:"Get Your Free Estimate",stats:[{value:"10+",label:"Years Experience"},{value:"500+",label:"Happy Customers"},{value:"100%",label:"Satisfaction Rate"}],brandColor:"#FFD700",themePreset:"default",heroStyle:"gradient",heroImageUrl:"",heroVideoUrl:"",heroBadgeText:"Trusted Local Business",heroHeading:"Professional Services",heroHeadingAccent:"You Can Trust",heroSubheading:"",trustBadges:[{text:"Licensed",icon:"shield"},{text:"Insured",icon:"shield-check"},{text:"Satisfaction Guaranteed",icon:"star"}],heroCTAText:"Get a Free Quote",heroSecondaryCTAText:"Our Services",whyChooseUsTitle:"Why Choose Us?",whyChooseUsHeading:"Quality You Can Trust",whyChooseUsText:"",emergencyBannerText:"Available for Emergency Services!",emergencyBannerEnabled:!1,specialtiesTitle:"Our Specialties",specialties:[],badgesTitle:"Our Commitment to Excellence",badgesSubtitle:"Why customers choose us for their service needs",badges:[{icon:"shield",title:"Fully Insured",description:"Complete protection for your peace of mind",color:"#0ea5e9"},{icon:"award",title:"Certified Experts",description:"Licensed professionals you can count on",color:"#10b981"},{icon:"wrench",title:"Quality Work",description:"Premium materials and expert craftsmanship",color:"#f59e0b"},{icon:"check-circle",title:"Guaranteed",description:"100% satisfaction guaranteed",color:"#8b5cf6"}],testimonialsTitle:"What Our Customers Say",testimonialsSubtitle:"Real reviews from satisfied customers",overallRating:5,reviewCount:0,googleReviewsUrl:"",testimonials:[],mapEmbedUrl:"",mapTitle:"Our Service Area",address:""},be=[{value:"shield",label:"Shield"},{value:"shield-check",label:"Shield Check"},{value:"award",label:"Award"},{value:"star",label:"Star"},{value:"check-circle",label:"Check Circle"},{value:"wrench",label:"Wrench"},{value:"hammer",label:"Hammer"},{value:"users",label:"Users"},{value:"clock",label:"Clock"},{value:"heart",label:"Heart"},{value:"thumbs-up",label:"Thumbs Up"}];function bf(){let a,b,c,d,[e,f]=(0,z.useState)(bd),[g,h]=(0,z.useState)(!0),[i,j]=(0,z.useState)(!1),[k,l]=(0,z.useState)(!1),[m,n]=(0,z.useState)(""),[o,p]=(0,z.useState)("general"),[q,r]=(0,z.useState)(""),[s,t]=(0,z.useState)({hero:!0,sections:!1,process:!1,whychooseus:!1,specialties:!0,badges:!1,testimonials:!1,stats:!1,footer:!1}),u=(a=process.env.NEXT_PUBLIC_PAYMENT_TIER||"starter",c="unlimited"===(b=process.env.NEXT_PUBLIC_MAX_SERVICES||"10")?1/0:parseInt(b,10),d="pro"===a||"hosted"===a,{paymentTier:a,maxServices:c,calendlyEnabled:"true"===process.env.NEXT_PUBLIC_CALENDLY_ENABLED||d,portfolioEnabled:"true"===process.env.NEXT_PUBLIC_PORTFOLIO_ENABLED||d,analyticsEnabled:"true"===process.env.NEXT_PUBLIC_ANALYTICS_ENABLED||d,premiumThemesEnabled:"true"===process.env.NEXT_PUBLIC_PREMIUM_THEMES_ENABLED||d,customDomainEnabled:"true"===process.env.NEXT_PUBLIC_CUSTOM_DOMAIN_ENABLED||d,isPro:d});function v(a){t(b=>({...b,[a]:!b[a]}))}async function w(){j(!0),n("");try{let a=localStorage.getItem("admin_token"),b=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify(e)});if(b.ok)l(!0),setTimeout(()=>l(!1),3e3);else{let a=await b.json();n(a.error||"Failed to save settings")}}catch(a){console.error("Error saving settings:",a),n("Failed to save settings. Please try again.")}finally{j(!1)}}function x(a,b,c){f(d=>({...d,process:d.process.map((d,e)=>e===a?{...d,[b]:c}:d)}))}function N(a,b,c){f(d=>({...d,stats:d.stats.map((d,e)=>e===a?{...d,[b]:c}:d)}))}function O(a,b,c){f(d=>({...d,trustBadges:d.trustBadges.map((d,e)=>e===a?{...d,[b]:c}:d)}))}function P(a,b,c){f(d=>({...d,specialties:d.specialties.map((d,e)=>e===a?{...d,[b]:c}:d)}))}function Q(a,b,c){f(d=>({...d,badges:d.badges.map((d,e)=>e===a?{...d,[b]:c}:d)}))}function R(a,b,c){f(d=>({...d,testimonials:d.testimonials.map((d,e)=>e===a?{...d,[b]:c}:d)}))}function S(){q.trim()&&(f(a=>({...a,serviceAreas:[...a.serviceAreas||[],q.trim()]})),r(""))}return(0,z.useEffect)(()=>{!async function(){try{let a=localStorage.getItem("admin_token"),b=await fetch("/api/admin/settings",{headers:{Authorization:"Bearer "+a},cache:"no-store"});if(b.ok){let a=await b.json();f({...bd,...a.settings})}}catch(a){console.error("Error fetching settings:",a)}finally{h(!1)}}()},[]),g?(0,y.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,y.jsx)("p",{children:"Loading..."})}):(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,y.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"}),(0,y.jsxs)("div",{className:"flex items-center gap-4",children:[k&&(0,y.jsx)("span",{className:"text-green-600 text-sm font-medium",children:"Settings saved!"}),m&&(0,y.jsx)("span",{className:"text-red-600 text-sm font-medium",children:m}),(0,y.jsxs)("button",{onClick:w,disabled:i,className:"flex items-center gap-2 bg-brand text-gray-900 font-semibold px-6 py-3 rounded-lg hover:bg-brand-dark disabled:opacity-50 transition-colors",children:[(0,y.jsx)(A.Save,{className:"w-5 h-5"}),i?"Saving...":"Save Changes"]})]})]}),(0,y.jsx)("div",{className:"flex gap-2 mb-8 overflow-x-auto pb-2",children:[{id:"general",label:"General"},{id:"appearance",label:"Appearance"},{id:"homepage",label:"Homepage"},{id:"services",label:"Services & Trust"},{id:"contact",label:"Contact & Footer"}].map(a=>(0,y.jsx)("button",{onClick:()=>p(a.id),className:"px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors "+(o===a.id?"bg-brand text-gray-900":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:a.label},a.id))}),"general"===o&&(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Business Type"}),(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"Select your business type to get recommended feature defaults. You can customize individual features below."})]}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:Object.keys(bc).map(a=>{let b=e.businessType===a;return(0,y.jsx)("button",{type:"button",onClick:()=>{f(b=>({...b,businessType:a,enabledFeatures:bb[a]}))},className:`p-3 rounded-lg border-2 text-left transition-all ${b?"border-brand bg-brand/5":"border-gray-200 hover:border-gray-300"}`,children:(0,y.jsx)("span",{className:`text-sm font-medium ${b?"text-brand":"text-gray-700"}`,children:bc[a]})},a)})}),(0,y.jsxs)("div",{className:"border-t pt-6",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Enabled Features"}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Toggle which features are available for your business"})]}),(0,y.jsxs)("button",{type:"button",onClick:()=>{f(a=>({...a,enabledFeatures:bb[a.businessType]}))},className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[(0,y.jsx)(L.default,{className:"w-4 h-4"}),"Reset to Defaults"]})]}),(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"menuSystem",label:"Menu System",description:"Food/drink menus for restaurants"},{key:"bookingSystem",label:"Booking System",description:"Appointment scheduling"},{key:"portfolioGallery",label:"Portfolio Gallery",description:"Before/after photos, project showcases"},{key:"quoteRequests",label:"Quote Requests",description:"Request a quote forms"},{key:"testimonials",label:"Testimonials",description:"Customer reviews and ratings"},{key:"teamMembers",label:"Team Members",description:"Staff profiles and bios"},{key:"faqSection",label:"FAQ Section",description:"Frequently asked questions"}].map(a=>{let b=e.enabledFeatures[a.key],c=bb[e.businessType][a.key];return(0,y.jsxs)("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${b?"border-brand/30 bg-brand/5":"border-gray-200 hover:border-gray-300"}`,children:[(0,y.jsx)("input",{type:"checkbox",checked:b,onChange:b=>{f(c=>({...c,enabledFeatures:{...c.enabledFeatures,[a.key]:b.target.checked}}))},className:"w-5 h-5 mt-0.5 text-brand focus:ring-brand rounded"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)("span",{className:"font-medium text-gray-900",children:a.label}),b!==c&&(0,y.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded",children:"Modified"})]}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:a.description})]})]},a.key)})})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 space-y-6",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"General Information"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tagline"}),(0,y.jsx)("input",{type:"text",value:e.tagline,onChange:a=>f(b=>({...b,tagline:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Quality workmanship, reliable service"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Text"}),(0,y.jsx)("textarea",{value:e.aboutText,onChange:a=>f(b=>({...b,aboutText:a.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Tell your customers about your business..."})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Hours"}),(0,y.jsx)("input",{type:"text",value:e.businessHours,onChange:a=>f(b=>({...b,businessHours:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Mon-Fri 9am-5pm"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Areas"}),(0,y.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,y.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),S()),className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Add a service area..."}),(0,y.jsx)("button",{type:"button",onClick:S,className:"px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:(0,y.jsx)(B.Plus,{className:"w-5 h-5"})})]}),e.serviceAreas&&e.serviceAreas.length>0&&(0,y.jsx)("div",{className:"flex flex-wrap gap-2",children:e.serviceAreas.map((a,b)=>(0,y.jsxs)("span",{className:"inline-flex items-center gap-1 bg-gray-100 px-3 py-1 rounded-full text-sm",children:[a,(0,y.jsx)("button",{type:"button",onClick:()=>{f(a=>({...a,serviceAreas:(a.serviceAreas||[]).filter((a,c)=>c!==b)}))},className:"text-gray-400 hover:text-red-500",children:(0,y.jsx)(C.X,{className:"w-4 h-4"})})]},b))})]})]})]}),"appearance"===o&&(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Site Theme"}),(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"Choose a color scheme for your site"})]}),!u.premiumThemesEnabled&&(0,y.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded-full",children:[(0,y.jsx)(F.default,{className:"w-3 h-3"}),"Pro Feature"]})]}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:M.map(a=>{let b=e.themePreset===a.id,c=a.isPremium&&!u.premiumThemesEnabled;return(0,y.jsxs)("button",{onClick:()=>{c||f({...e,themePreset:a.id})},disabled:c,className:`relative p-4 rounded-xl border-2 transition-all text-left ${b?"border-brand bg-brand/5":c?"border-gray-200 opacity-60 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:[(0,y.jsxs)("div",{className:"flex gap-1.5 mb-3",children:[(0,y.jsx)("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:a.preview.primary}}),(0,y.jsx)("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:a.preview.accent}}),(0,y.jsx)("div",{className:"w-8 h-8 rounded-lg border border-gray-200",style:{backgroundColor:a.preview.background}})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,y.jsx)("span",{className:"font-medium text-gray-900",children:a.name}),c&&(0,y.jsx)(F.default,{className:"w-3.5 h-3.5 text-gray-400"}),b&&(0,y.jsx)(G.Check,{className:"w-4 h-4 text-brand"})]}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:a.description}),a.isPremium&&!c&&(0,y.jsxs)("span",{className:"absolute top-2 right-2 inline-flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-medium rounded-full",children:[(0,y.jsx)(H.default,{className:"w-3 h-3"}),"Pro"]})]},a.id)})}),!u.premiumThemesEnabled&&(0,y.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-lg",children:(0,y.jsxs)("div",{className:"flex items-start gap-3",children:[(0,y.jsx)(H.default,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-medium text-amber-900",children:"Upgrade to Pro for Premium Themes"}),(0,y.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:"Unlock 4 additional designer themes to make your site stand out."}),(0,y.jsxs)("a",{href:"https://gosovereign.io/wizard/preview",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-medium rounded-lg transition-colors",children:["Upgrade Now",(0,y.jsx)(I.ExternalLink,{className:"w-4 h-4"})]})]})]})})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Custom Brand Color"}),(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"Override the theme's primary color with your own"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,y.jsx)("input",{type:"color",value:e.brandColor,onChange:a=>f(b=>({...b,brandColor:a.target.value})),className:"w-16 h-12 rounded-lg cursor-pointer border border-gray-200"}),(0,y.jsx)("input",{type:"text",value:e.brandColor,onChange:a=>f(b=>({...b,brandColor:a.target.value})),placeholder:"#FFD700",className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand font-mono"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Presets"}),(0,y.jsx)("div",{className:"flex flex-wrap gap-2",children:[{color:"#FFD700",name:"Gold"},{color:"#3B82F6",name:"Blue"},{color:"#10B981",name:"Green"},{color:"#EF4444",name:"Red"},{color:"#8B5CF6",name:"Purple"},{color:"#F97316",name:"Orange"},{color:"#EC4899",name:"Pink"},{color:"#14B8A6",name:"Teal"}].map(a=>(0,y.jsxs)("button",{type:"button",onClick:()=>f(b=>({...b,brandColor:a.color})),className:"flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors "+(e.brandColor.toLowerCase()===a.color.toLowerCase()?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-300"),children:[(0,y.jsx)("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:a.color}}),(0,y.jsx)("span",{className:"text-sm",children:a.name})]},a.color))})]})]}),(0,y.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,y.jsx)("h4",{className:"font-medium text-blue-900 mb-1",children:"Theme Preview"}),(0,y.jsx)("p",{className:"text-sm text-blue-700",children:"After saving, the selected theme will be applied to your site. Visit your site to see the changes in action."})]})]}),"homepage"===o&&(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,y.jsxs)("button",{type:"button",onClick:()=>v("hero"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Hero Section"}),s.hero?(0,y.jsx)(K.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(J.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),s.hero&&(0,y.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Badge Text (above heading)"}),(0,y.jsx)("input",{type:"text",value:e.heroBadgeText,onChange:a=>f(b=>({...b,heroBadgeText:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Trusted Since 2010"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Style"}),(0,y.jsxs)("select",{value:e.heroStyle,onChange:a=>f(b=>({...b,heroStyle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,y.jsx)("option",{value:"gradient",children:"Gradient Background"}),(0,y.jsx)("option",{value:"image",children:"Background Image"}),(0,y.jsx)("option",{value:"video",children:"Background Video"})]})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Heading"}),(0,y.jsx)("input",{type:"text",value:e.heroHeading,onChange:a=>f(b=>({...b,heroHeading:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Professional Services"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heading Accent (colored)"}),(0,y.jsx)("input",{type:"text",value:e.heroHeadingAccent,onChange:a=>f(b=>({...b,heroHeadingAccent:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"You Can Trust"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subheading / Secondary Text"}),(0,y.jsx)("input",{type:"text",value:e.heroSubheading,onChange:a=>f(b=>({...b,heroSubheading:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Quality workmanship, reliable service, and complete customer satisfaction guaranteed."})]}),"image"===e.heroStyle&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Image URL"}),(0,y.jsx)("input",{type:"url",value:e.heroImageUrl,onChange:a=>f(b=>({...b,heroImageUrl:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://example.com/hero-image.jpg"})]}),"video"===e.heroStyle&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Video URL"}),(0,y.jsx)("input",{type:"url",value:e.heroVideoUrl,onChange:a=>f(b=>({...b,heroVideoUrl:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://example.com/hero-video.mp4"})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary CTA Text"}),(0,y.jsx)("input",{type:"text",value:e.heroCTAText,onChange:a=>f(b=>({...b,heroCTAText:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Get a Free Quote"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary CTA Text"}),(0,y.jsx)("input",{type:"text",value:e.heroSecondaryCTAText,onChange:a=>f(b=>({...b,heroSecondaryCTAText:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Services"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Trust Badges (shown below heading)"}),(0,y.jsxs)("button",{type:"button",onClick:function(){f(a=>({...a,trustBadges:[...a.trustBadges,{text:"",icon:"check-circle"}]}))},className:"flex items-center gap-1 text-sm text-brand hover:text-brand-dark",children:[(0,y.jsx)(B.Plus,{className:"w-4 h-4"})," Add Badge"]})]}),(0,y.jsx)("div",{className:"space-y-3",children:e.trustBadges.map((a,b)=>(0,y.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,y.jsx)("select",{value:a.icon,onChange:a=>O(b,"icon",a.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",children:be.map(a=>(0,y.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,y.jsx)("input",{type:"text",value:a.text,onChange:a=>O(b,"text",a.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Badge text"}),(0,y.jsx)("button",{type:"button",onClick:()=>{f(a=>({...a,trustBadges:a.trustBadges.filter((a,c)=>c!==b)}))},className:"text-gray-400 hover:text-red-500",children:(0,y.jsx)(C.X,{className:"w-5 h-5"})})]},b))})]})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,y.jsxs)("button",{type:"button",onClick:()=>v("sections"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Section Visibility"}),s.sections?(0,y.jsx)(K.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(J.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),s.sections&&(0,y.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-4",children:[(0,y.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Toggle which sections appear on your homepage"}),[{key:"showProcess",label:"How It Works / Process Steps"},{key:"showWhyChooseUs",label:"Why Choose Us"},{key:"showSpecialties",label:"Specialties / Materials"},{key:"showBadges",label:"Commitment Badges"},{key:"showStats",label:"Stats / Counters"},{key:"showTestimonials",label:"Testimonials"},{key:"showTeam",label:"Team Members"},{key:"showFaq",label:"FAQ Section"},{key:"showMapEmbed",label:"Footer Map Embed"}].map(a=>(0,y.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer py-2",children:[(0,y.jsx)("input",{type:"checkbox",checked:e[a.key],onChange:b=>f(c=>({...c,[a.key]:b.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,y.jsx)("span",{className:"text-gray-700",children:a.label})]},a.key))]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,y.jsxs)("button",{type:"button",onClick:()=>v("process"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"How It Works"}),s.process?(0,y.jsx)(K.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(J.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),s.process&&(0,y.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,y.jsx)("input",{type:"text",value:e.processTitle,onChange:a=>f(b=>({...b,processTitle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Simple Process"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CTA Button Text"}),(0,y.jsx)("input",{type:"text",value:e.processCTAText,onChange:a=>f(b=>({...b,processCTAText:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Get Your Free Estimate"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Subtitle"}),(0,y.jsx)("input",{type:"text",value:e.processSubtitle,onChange:a=>f(b=>({...b,processSubtitle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"From consultation to completion, we make it easy"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Process Steps"}),(0,y.jsx)("div",{className:"space-y-4",children:e.process.map((a,b)=>(0,y.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,y.jsx)(D.GripVertical,{className:"w-5 h-5 text-gray-400 mt-3"}),(0,y.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Step ",b+1," Title"]}),(0,y.jsx)("input",{type:"text",value:a.title,onChange:a=>x(b,"title",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm"})]}),(0,y.jsxs)("div",{className:"md:col-span-2",children:[(0,y.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),(0,y.jsx)("input",{type:"text",value:a.description,onChange:a=>x(b,"description",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm"})]})]})]},b))})]})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,y.jsxs)("button",{type:"button",onClick:()=>v("whychooseus"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Why Choose Us"}),s.whychooseus?(0,y.jsx)(K.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(J.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),s.whychooseus&&(0,y.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,y.jsx)("input",{type:"text",value:e.whyChooseUsTitle,onChange:a=>f(b=>({...b,whyChooseUsTitle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Why Choose Us?"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Heading"}),(0,y.jsx)("input",{type:"text",value:e.whyChooseUsHeading,onChange:a=>f(b=>({...b,whyChooseUsHeading:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Quality You Can Trust"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Text"}),(0,y.jsx)("textarea",{value:e.whyChooseUsText,onChange:a=>f(b=>({...b,whyChooseUsText:a.target.value})),rows:6,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Tell customers why they should choose your business..."})]}),(0,y.jsxs)("div",{className:"border-t pt-6",children:[(0,y.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer mb-4",children:[(0,y.jsx)("input",{type:"checkbox",checked:e.emergencyBannerEnabled,onChange:a=>f(b=>({...b,emergencyBannerEnabled:a.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,y.jsx)("span",{className:"text-gray-700 font-medium",children:"Show Emergency Services Banner"})]}),e.emergencyBannerEnabled&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Text"}),(0,y.jsx)("input",{type:"text",value:e.emergencyBannerText,onChange:a=>f(b=>({...b,emergencyBannerText:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Available for Emergency Services!"})]})]})]})]})]}),"services"===o&&(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,y.jsxs)("button",{type:"button",onClick:()=>v("specialties"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Specialties & Services"}),s.specialties?(0,y.jsx)(K.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(J.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),s.specialties&&(0,y.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,y.jsx)("input",{type:"text",value:e.specialtiesTitle,onChange:a=>f(b=>({...b,specialtiesTitle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Specialties"})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Specialty Items"}),(0,y.jsxs)("button",{type:"button",onClick:function(){f(a=>({...a,specialties:[...a.specialties,{id:Date.now().toString(),name:"",description:""}]}))},className:"flex items-center gap-1 text-sm text-brand hover:text-brand-dark",children:[(0,y.jsx)(B.Plus,{className:"w-4 h-4"})," Add Specialty"]})]}),(0,y.jsxs)("div",{className:"space-y-4",children:[e.specialties.map((a,b)=>(0,y.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,y.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,y.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["Item ",b+1]}),(0,y.jsx)("button",{type:"button",onClick:()=>{f(a=>({...a,specialties:a.specialties.filter((a,c)=>c!==b)}))},className:"text-gray-400 hover:text-red-500",children:(0,y.jsx)(C.X,{className:"w-5 h-5"})})]}),(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsx)("input",{type:"text",value:a.name,onChange:a=>P(b,"name",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Specialty name"}),(0,y.jsx)("textarea",{value:a.description,onChange:a=>P(b,"description",a.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Description"})]})]},a.id||b)),0===e.specialties.length&&(0,y.jsx)("p",{className:"text-gray-500 text-sm text-center py-8",children:'No specialties added yet. Click "Add Specialty" to add one.'})]})]}),(0,y.jsx)("div",{className:"border-t pt-6",children:(0,y.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,y.jsx)("h4",{className:"font-medium text-blue-900 mb-1",children:"Manage Your Services"}),(0,y.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Add, edit, and organize your services with full details including pricing, features, and images."}),(0,y.jsxs)("a",{href:"/admin/services",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:["Go to Services",(0,y.jsx)(I.ExternalLink,{className:"w-4 h-4"})]})]})})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,y.jsxs)("button",{type:"button",onClick:()=>v("badges"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Trust Badges & Stats"}),s.badges?(0,y.jsx)(K.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(J.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),s.badges&&(0,y.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,y.jsx)("input",{type:"text",value:e.badgesTitle,onChange:a=>f(b=>({...b,badgesTitle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Commitment to Excellence"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Subtitle"}),(0,y.jsx)("input",{type:"text",value:e.badgesSubtitle,onChange:a=>f(b=>({...b,badgesSubtitle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Why customers choose us"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Commitment Badges"}),(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.badges.map((a,b)=>(0,y.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,y.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Icon"}),(0,y.jsx)("select",{value:a.icon,onChange:a=>Q(b,"icon",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",children:be.map(a=>(0,y.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Color"}),(0,y.jsx)("input",{type:"color",value:a.color,onChange:a=>Q(b,"color",a.target.value),className:"w-full h-10 border border-gray-200 rounded-lg cursor-pointer"})]})]}),(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsx)("input",{type:"text",value:a.title,onChange:a=>Q(b,"title",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Badge title"}),(0,y.jsx)("input",{type:"text",value:a.description,onChange:a=>Q(b,"description",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Badge description"})]})]},b))})]}),(0,y.jsxs)("div",{className:"border-t pt-6",children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Statistics (shown in dark bar below badges)"}),(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.stats.map((a,b)=>(0,y.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,y.jsxs)("div",{className:"mb-3",children:[(0,y.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Value"}),(0,y.jsx)("input",{type:"text",value:a.value,onChange:a=>N(b,"value",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"10+"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Label"}),(0,y.jsx)("input",{type:"text",value:a.label,onChange:a=>N(b,"label",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Years Experience"})]})]},b))})]})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,y.jsxs)("button",{type:"button",onClick:()=>v("testimonials"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Testimonials"}),s.testimonials?(0,y.jsx)(K.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(J.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),s.testimonials&&(0,y.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),(0,y.jsx)("input",{type:"text",value:e.testimonialsTitle,onChange:a=>f(b=>({...b,testimonialsTitle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"What Our Customers Say"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Subtitle"}),(0,y.jsx)("input",{type:"text",value:e.testimonialsSubtitle,onChange:a=>f(b=>({...b,testimonialsSubtitle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Real reviews from satisfied customers"})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Rating"}),(0,y.jsx)("input",{type:"number",min:"1",max:"5",step:"0.1",value:e.overallRating,onChange:a=>f(b=>({...b,overallRating:parseFloat(a.target.value)||5})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Review Count"}),(0,y.jsx)("input",{type:"number",min:"0",value:e.reviewCount,onChange:a=>f(b=>({...b,reviewCount:parseInt(a.target.value)||0})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Reviews Link"}),(0,y.jsx)("input",{type:"url",value:e.googleReviewsUrl,onChange:a=>f(b=>({...b,googleReviewsUrl:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://g.page/..."})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Testimonials"}),(0,y.jsxs)("button",{type:"button",onClick:function(){f(a=>({...a,testimonials:[...a.testimonials,{id:Date.now().toString(),rating:5,text:"",reviewerName:"",date:""}]}))},className:"flex items-center gap-1 text-sm text-brand hover:text-brand-dark",children:[(0,y.jsx)(B.Plus,{className:"w-4 h-4"})," Add Testimonial"]})]}),(0,y.jsxs)("div",{className:"space-y-4",children:[e.testimonials.map((a,b)=>(0,y.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,y.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["Review ",b+1]}),(0,y.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(c=>(0,y.jsx)("button",{type:"button",onClick:()=>R(b,"rating",c),className:"focus:outline-none",children:(0,y.jsx)(E.Star,{className:`w-5 h-5 ${c<=a.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},c))})]}),(0,y.jsx)("button",{type:"button",onClick:()=>{f(a=>({...a,testimonials:a.testimonials.filter((a,c)=>c!==b)}))},className:"text-gray-400 hover:text-red-500",children:(0,y.jsx)(C.X,{className:"w-5 h-5"})})]}),(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsx)("textarea",{value:a.text,onChange:a=>R(b,"text",a.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Customer review text..."}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,y.jsx)("input",{type:"text",value:a.reviewerName,onChange:a=>R(b,"reviewerName",a.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Reviewer name"}),(0,y.jsx)("input",{type:"text",value:a.date||"",onChange:a=>R(b,"date",a.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-sm",placeholder:"Date (optional)"})]})]})]},a.id||b)),0===e.testimonials.length&&(0,y.jsx)("p",{className:"text-gray-500 text-sm text-center py-8",children:'No testimonials added yet. Click "Add Testimonial" to add one.'})]})]})]})]})]}),"contact"===o&&(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 space-y-6",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Contact Settings"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Mode"}),(0,y.jsxs)("select",{value:e.contactMode,onChange:a=>f(b=>({...b,contactMode:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,y.jsx)("option",{value:"form",children:"Contact Form"}),(0,y.jsx)("option",{value:"calendly",children:"Calendly Scheduling"}),(0,y.jsx)("option",{value:"phone",children:"Phone Only"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,y.jsx)("input",{type:"tel",value:e.phoneNumber,onChange:a=>f(b=>({...b,phoneNumber:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"(555) 123-4567"})]}),"calendly"===e.contactMode&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calendly URL"}),(0,y.jsx)("input",{type:"url",value:e.calendlyUrl,onChange:a=>f(b=>({...b,calendlyUrl:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://calendly.com/yourbusiness"})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Booking Integration"}),(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"Connect a third-party booking system like Calendly, Cal.com, Acuity, or any scheduling tool"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking URL"}),(0,y.jsx)("input",{type:"url",value:e.bookingUrl,onChange:a=>f(b=>({...b,bookingUrl:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://calendly.com/yourbusiness or https://cal.com/yourname"}),(0,y.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Supports Calendly, Cal.com, Acuity, Square, and most other booking platforms"})]}),e.bookingUrl&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Mode"}),(0,y.jsxs)("select",{value:e.bookingDisplayMode,onChange:a=>f(b=>({...b,bookingDisplayMode:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,y.jsx)("option",{value:"embed",children:"Embed (inline calendar)"}),(0,y.jsx)("option",{value:"popup",children:"Popup (modal window)"}),(0,y.jsx)("option",{value:"link",children:"Link (opens in new tab)"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text"}),(0,y.jsx)("input",{type:"text",value:e.bookingButtonText,onChange:a=>f(b=>({...b,bookingButtonText:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Book Now"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description Text (shown above booking widget)"}),(0,y.jsx)("input",{type:"text",value:e.bookingDescription,onChange:a=>f(b=>({...b,bookingDescription:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Schedule your appointment online"})]}),(0,y.jsxs)("div",{className:"border-t pt-6",children:[(0,y.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Where to Show Booking"}),(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,y.jsx)("input",{type:"checkbox",checked:e.showBookingOnHero,onChange:a=>f(b=>({...b,showBookingOnHero:a.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,y.jsx)("span",{className:"text-gray-700",children:"Show booking button in Hero section"})]}),(0,y.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,y.jsx)("input",{type:"checkbox",checked:e.showBookingOnServicePages,onChange:a=>f(b=>({...b,showBookingOnServicePages:a.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,y.jsx)("span",{className:"text-gray-700",children:"Show booking widget on individual service pages"})]}),(0,y.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,y.jsx)("input",{type:"checkbox",checked:e.showBookingPage,onChange:a=>f(b=>({...b,showBookingPage:a.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,y.jsx)("span",{className:"text-gray-700",children:"Create dedicated /booking page"})]})]})]}),(0,y.jsxs)("div",{className:"border-t pt-6",children:[(0,y.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Preview"}),(0,y.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:"embed"===e.bookingDisplayMode?(0,y.jsxs)("div",{className:"text-center text-gray-500 py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,y.jsx)("p",{children:"Calendar embed will appear here"}),(0,y.jsx)("p",{className:"text-sm mt-1",children:"Height: 630px"})]}):(0,y.jsx)("button",{type:"button",className:"inline-flex items-center gap-2 bg-brand text-gray-900 font-semibold px-6 py-3 rounded-lg hover:bg-brand-dark transition-colors",children:e.bookingButtonText||"Book Now"})})]})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,y.jsxs)("button",{type:"button",onClick:()=>v("footer"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Footer & Map"}),s.footer?(0,y.jsx)(K.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(J.ChevronDown,{className:"w-5 h-5 text-gray-500"})]}),s.footer&&(0,y.jsxs)("div",{className:"p-6 pt-2 border-t border-gray-100 space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,y.jsx)("input",{type:"text",value:e.address,onChange:a=>f(b=>({...b,address:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"123 Main Street, City, State 12345"})]}),(0,y.jsxs)("div",{className:"border-t pt-6",children:[(0,y.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Map Embed"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Map Section Title"}),(0,y.jsx)("input",{type:"text",value:e.mapTitle,onChange:a=>f(b=>({...b,mapTitle:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"Our Service Area"})]}),(0,y.jsxs)("div",{className:"mt-4",children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps Embed URL"}),(0,y.jsx)("input",{type:"url",value:e.mapEmbedUrl,onChange:a=>f(b=>({...b,mapEmbedUrl:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand",placeholder:"https://www.google.com/maps/embed?pb=..."}),(0,y.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Go to Google Maps  Share  Embed a map  Copy the src URL from the iframe"})]})]})]})]})]})]})}a.s(["default",()=>bf],344114)}];

//# sourceMappingURL=_718ec706._.js.map