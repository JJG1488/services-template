module.exports=[14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},35580,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(14548),f=a.i(81560),g=a.i(33508),h=a.i(15618);function i({service:a,isNew:i=!1}){let j=(0,d.useRouter)(),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)({name:a?.name||"",slug:a?.slug||"",short_description:a?.short_description||"",description:a?.description||"",price:a?.price?(a.price/100).toString():"",price_type:a?.price_type||"fixed",duration:a?.duration||"",icon:a?.icon||"",features:a?.features||[],category:a?.category||"",is_featured:a?.is_featured||!1,is_active:a?.is_active!==!1,seo_title:a?.seo_title||"",seo_description:a?.seo_description||""}),[s,t]=(0,c.useState)("");function u(){s.trim()&&(r(a=>({...a,features:[...a.features,s.trim()]})),t(""))}async function v(b){b.preventDefault(),p(""),l(!0);try{let b=localStorage.getItem("admin_token"),c=i?"/api/admin/services":"/api/admin/services/"+a?.id,d={...q,price:q.price?Math.round(100*parseFloat(q.price)):null},e=await fetch(c,{method:i?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+b},body:JSON.stringify(d)});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to save service")}j.push("/admin/services"),j.refresh()}catch(a){p(a instanceof Error?a.message:"Failed to save service")}finally{l(!1)}}async function w(){if(confirm("Are you sure you want to delete this service?")){n(!0);try{let b=localStorage.getItem("admin_token");if(!(await fetch("/api/admin/services/"+a?.id,{method:"DELETE",headers:{Authorization:"Bearer "+b}})).ok)throw Error("Failed to delete service");j.push("/admin/services"),j.refresh()}catch(a){p(a instanceof Error?a.message:"Failed to delete service"),n(!1)}}}return(0,b.jsxs)("form",{onSubmit:v,className:"space-y-8",children:[o&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:o}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),(0,b.jsx)("input",{type:"text",value:q.name,onChange:a=>{var b;return b=a.target.value,void r(a=>({...a,name:b,slug:i?b.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim():a.slug}))},className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"e.g., Roof Repair",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Slug"}),(0,b.jsx)("input",{type:"text",value:q.slug,onChange:a=>r(b=>({...b,slug:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"roof-repair"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description"}),(0,b.jsx)("input",{type:"text",value:q.short_description,onChange:a=>r(b=>({...b,short_description:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Brief description for cards and listings"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Description"}),(0,b.jsx)("textarea",{value:q.description,onChange:a=>r(b=>({...b,description:a.target.value})),rows:5,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Detailed description of the service"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Pricing"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Type"}),(0,b.jsxs)("select",{value:q.price_type,onChange:a=>r(b=>({...b,price_type:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",children:[(0,b.jsx)("option",{value:"fixed",children:"Fixed Price"}),(0,b.jsx)("option",{value:"starting_at",children:"Starting At"}),(0,b.jsx)("option",{value:"hourly",children:"Hourly Rate"}),(0,b.jsx)("option",{value:"custom",children:"Contact for Pricing"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (USD)"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",value:q.price,onChange:a=>r(b=>({...b,price:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"0.00",disabled:"custom"===q.price_type})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),(0,b.jsx)("input",{type:"text",value:q.duration,onChange:a=>r(b=>({...b,duration:a.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"e.g., 2-4 hours"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Features"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:s,onChange:a=>t(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),u()),className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Add a feature..."}),(0,b.jsx)("button",{type:"button",onClick:u,className:"px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:(0,b.jsx)(h.Plus,{className:"w-5 h-5"})})]}),q.features.length>0&&(0,b.jsx)("ul",{className:"space-y-2",children:q.features.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center justify-between bg-gray-50 px-4 py-2 rounded-lg",children:[(0,b.jsx)("span",{children:a}),(0,b.jsx)("button",{type:"button",onClick:()=>{r(a=>({...a,features:a.features.filter((a,b)=>b!==c)}))},className:"text-gray-400 hover:text-red-500",children:(0,b.jsx)(g.X,{className:"w-4 h-4"})})]},c))})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Status"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-6",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:q.is_active,onChange:a=>r(b=>({...b,is_active:a.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,b.jsx)("span",{className:"text-gray-700",children:"Active (visible on site)"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:q.is_featured,onChange:a=>r(b=>({...b,is_featured:a.target.checked})),className:"w-5 h-5 text-brand focus:ring-brand rounded"}),(0,b.jsx)("span",{className:"text-gray-700",children:"Featured"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{children:!i&&(0,b.jsxs)("button",{type:"button",onClick:w,disabled:m,className:"flex items-center gap-2 text-red-600 hover:text-red-700 font-medium",children:[(0,b.jsx)(f.Trash2,{className:"w-5 h-5"}),m?"Deleting...":"Delete Service"]})}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>j.back(),className:"px-6 py-3 text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:k,className:"flex items-center gap-2 bg-brand text-gray-900 font-semibold px-6 py-3 rounded-lg hover:bg-brand-dark disabled:opacity-50 transition-colors",children:[(0,b.jsx)(e.Save,{className:"w-5 h-5"}),k?"Saving...":i?"Create Service":"Save Changes"]})]})]})]})}a.s(["ServiceForm",()=>i])}];

//# sourceMappingURL=_844e938d._.js.map